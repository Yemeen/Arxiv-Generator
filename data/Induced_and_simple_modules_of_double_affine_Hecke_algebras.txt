                                                            INDUCED AND SIMPLE MODULES OF
                                                             DOUBLE AFFINE HECKE ALGEBRAS
arXiv:math/0207127v3 [math.RT] 9 Jul 2004




                                                                                 Eric Vasserot

                                                 Abstract. We classify the simple integrable modules of double affine Hecke algebras
                                                 via perverse sheaves. We get also some estimate for the Jordan-Hölder multiplicities
                                                 of induced modules.




                                                                                    Contents
                                              1. Introduction
                                              2. Reminder on flag manifolds
                                              3. Reminder on double affine Hecke algebras
                                              4. The convolution algebra
                                              5. Induced modules
                                              6. The regular case
                                              7. Induction of sheaves and Fourier transform
                                              8. The type A case
                                              9. Other examples
                                              A. Appendix : K-theory
                                              B. Appendix : infinite dimensional vector spaces

                                                                                1. Introduction
                                            1.0. The present work is partially motivated by some recent progress in the rep-
                                            resentation theory of rational Cherednik algebras, see [BEG2] and the references
                                            therein. The main tool, there, is an induction functor from modules over a Weyl
                                            group to modules over the rational algebra. It is desirable to have a geometric
                                            model for the induction functor from the affine Hecke algebra to the double affine
                                            Hecke algebra, and for the Jordan-Hölder multiplicities. To do so the first step is
                                            to construct geometrically a class of simple modules. We do this via equivariant
                                            K-theory and perverse sheaves. In the classification of simple modules two main
                                            cases appear. In the first one we deal with equivariant perverse sheaves on a variety
                                            with a finite number of orbits. Then the construction is quite parallel to the affine
                                            case. In the second case there is an infinite number of orbits and the picture is less
                                            clear. Fortunately a Fourier transform exchanges both cases, yielding a complete
                                            classification of the simple integrable modules.

                                              2000Mathematics Subject Classification. Primary 17B37; Secondary 17B67, 14M15, 16E20.

                                                                                                                      Typeset by AMS-TEX
                                                                                          1
2                                 ERIC VASSEROT

1.1. The proof uses the Kashiwara affine flag manifold X . It is a non Noetherian
scheme which is locally pro-smooth and of pro-finite type. The idea to generalize K-
theoretic technics from the affine Hecke algebra to the double affine Hecke algebra
is not new. It was mentioned to us by Ginzburg about 10 years ago, and was
probably known before that. The idea to use Kashiwara-Tanisaki’s tools for double
affine Hecke algebras appears first in [GG], where a geometric construction of the
regular representation is sketched. Our construction is different from loc. cit. We
construct a ring and not only a faithfull representation. Moreover it is essential
for us to do a reduction to the fixed point subset respectively to some semisimple
element whose ‘rotation’ component is not a root of unity. The case of roots of
unity is still open.
    Let H be the double affine Hecke algebra. One Important step in our work is
Theorem 4.9 which yields a ring homomorphism from H to a ring defined via the
equivariant K-theory of an analogue of the Steinberg variety. Let us sketch briefly
this construction.
    We first define an affine analogue of the Steinberg variety, which we denote by
Z. It is an ind-scheme of ind-infinite type. It comes with a filtration by subsets
Z≤y , with y in the affine Weyl group W . The subsets Z≤y are reduced separated
schemes of infinite type, and the natural inclusions Z≤y′ ⊆ Z≤y , with y ′ ≤ y are
closed immersions. The set Z is endowed with an action of a torus A wich preserves
each term of the filtration.
    For a well-chosen element a ∈ A, the fixed point set Z a ⊂ Z is a scheme locally
of finite type. Hence we have a convolution ring KA (Z a ) : it is the inductive limit
of the system of RA -modules KA ((Z≤y )a ) with y ∈ W . Each KA ((Z≤y )a ) is itself
the projective limit of the system of RA -modules KA ((w Z≤y )a ) with w ∈ W and
w
  Z≤y ⊂ Z≤y an open subscheme such that (w Z≤y )a is of finite type. See 4.4.
    Although the convolution product on K(Z a ) is easily defined, it is not so easy to
construct a ring homomorphism H → KA (Z a ) without using the whole Z. Let H
be the affine Hecke algebra. Recall that in the geometric construction of H in [CG]
or [KL1], one constructs a ring isomorphism from H to the equivariant K-theory
group of the Steinberg variety Z. However it is more delicate to construct directly
a ring homomorphism H → K(Z a ). More precisely, although it is quite possible to
assign elements in K(Z a ) to the standard generators of H, it is delicate to check
the required relations without using the whole variety Z. This explains several
technical difficulties in our work.
    We do not define a convolution ring KA (Z). This is not necessary. To construct
a ring homomorphism Ψa : H → KA (Z a )a we proceed as follows :
    Step 1. For any non empty proper set J of simple roots, let WJ ( W be the
corresponding parabolic subgroup. It is well-known that WJ is a Weyl group of
finite type. Let GJ be the connected, simply connected, simple group whose Weyl
group is WJ . Let ZJ be the Steinberg variety of GJ . Let HJ be the affine Hecke
                                                                                ×
algebra associated to GJ . There is a ring isomorphism ΨJ : HJ → KGJ ×C (ZJ ).
    Step 2. Let wJ ∈ WJ be the longuest element. The Grothendieck group
KA (w Z≤wJ ) of A-equivariant coherent sheaves on w Z≤wJ makes sense. It is the
inductive limit of KA (w Z≤wkℓ
                               J
                                 ), where w Z≤w
                                              kℓ
                                                 J
                                                   is a Noetherian quotient scheme of
w                        A w
  Z≤wJ . The groups K ( Z≤wJ ) are endowed with a convolution product. Remark
that the natural embedding w Z≤y  kℓ
                                     ′ ⊂
                                         w kℓ
                                          Z≤y may be not closed, see Remark 4.2. This
explains a technical complication in the definition of the product on KA (w Z≤wJ ).
                                                                                    3

See 4.5. For a similar reason we have to consider the Thomason concentration
isomorphism on non separated schemes. A reminder is given in the appendix. In-
                                       ×
duction of sheaves yields a map KGJ ×C (ZJ ) → KA (w Z≤wJ ). Composing it with
the bivariant concentration map and the natural map KA ((w Z≤wJ )a )a → KA (Z a )a
                                         ×
yields a ring homomorphism ΘJ : KGJ ×C (ZJ ) → KA (Z a )a .
   Step 3. The maps ΘJ are compatible in the following sense. If J1 ⊂ J2 then
HJ1 embeds in HJ2 and the composition of the chain of maps
                                            ×
                    HJ1 → HJ2 → KGJ2 ×C (ZJ2 ) → KA (Z a )a
equals ΘJ1 ◦ ΨJ1 . Now each algebraS    HJ embeds as a parabolic subalgebra of H,
and H is obviously generated by J HJ . The compatibility condition above insures
that the morphisms ΘJ ◦ ΨJ glue together in a morphism Ψa : H → KA (Z a )a . It
is uniquely determined.
   The map Ψa becomes surjective after a suitable completion of H. It is certainly
not injective. Using Ψa , a standard sheaf-theoretic construction, due to Ginzburg in
the H-case, gives us a collection of simple H-modules. They are precisely the simple
integrable modules. Remark that it is important for us to construct the convolution
product on KA (Z a )a and the ring homomorphism Ψa , rather than the regular
representation of H as in [CG], in order to use Ginzburg’s machinery. Otherwise,
we can not get a geometric interpretation for the Jordan-Hölder multiplicities of
induced modules as in 7.5.
   We conclude this subsection by two remarks :
   First, as far as fixed point subsets are concerned, we may consider only the ind-
scheme B, see 2.7 for the notation, rather than Kashiwara’s scheme X : although X
contains B as a proper subset, the fixed point subsets B a , X a coincide, see Lemma
2.13.(ii). However, we use KA (w Z≤wJ ) in the definition of ΘJ and to check the
compatibilities in Step 3, see Lemma 4.7. Recall that w Z≤wJ is a scheme of infinite
type. We do not know how to make sense of the Grothendieck group of coherent
sheaves with infinite dimensional support on Z≤wJ , i.e. KA (w Z≤wJ ), without using
Kashiwara’s affine flag manifold. For instance, viewing Z≤wJ as an ind-scheme
rather than a scheme would only give us coherent sheaves with finite dimensional
support on Z≤wJ . See Section 4, in particular the preliminary subsection, for more
details.
   Second, our construction is similar to Lusztig’s action of the affine Weyl group
on the homology of the affine Springer fibers in [L5]. Indeed, one can prove that
the actions of H and W are compatible in some sense, see 9.4 for details. Our work
is more technical than [L5], because Lusztig does not use fixed points sets relatively
to a, and because he does not construct any simple module.
1.2. Let us say a few words on the structure of this paper. It contains nine sections.
   Section 2 contains basic results on reductive groups and flag manifolds. The
definition of the Kashiwara flag manifold and some basic property are given in
2.3-5. The scheme X is locally of infinite type. We construct a scheme T which
is a substitute to the cotangent bundle of X . The definition of T and its basic
properties are given in 2.6-7. The fixed point subsets of X , T are studied in 2.13.
   Section 3 contains the definition of the double affine Hecke algebra H.
   Section 4 contains the definition of Z. Basic properties of Z are given in 4.1-2.
The convolution product on the equivariant K-groups of Z a is given in 4.4. The
convolution algebra is related to H in 4.6-9.
4                                 ERIC VASSEROT

  Section 5 contains a geometric construction of some induced H-modules. It is
an affine analogue of [L3].
  In Sections 6,7 we state and prove the main theorem. The simple and induced
modules in the regular case are studied in Section 6. The classification of the simple
modules is achieved in 7.4, 7.6, the study of the induced modules in 7.5.
  The type A is described in Section 8.
  Section 9 contains examples.
  Appendix A contains recollections on equivariant K-theory. In particular we
consider the case of non-separated schemes. Appendix B contains recollections on
endomorphism algebras of infinite dimensional vector spaces.
1.3. Let us insist on a few points which are important for the representation theory
of the double affine Hecke algebra.
   First, when the parameters are generic the representations induced from irre-
ducible representations of the affine Hecke algebra remain irreducible, due to an
argument of Cherednik via intertwiners. Geometrically, it means that the nilpotent
orbits which contains the Jordan-Hölder multiplicities of induced modules are the
same in the affine and the double affine cases, see 9.1 for details. Thus the main
problem is in the regular case, see Definition 2.14.
   Second, in type A case Cherednik has recently given a combinatorial approach
to the representation of double affine Hecke algebras. It is coherent with our de-
scription, see 8.2-3. Moreover, in this case the Jordan-Hölder multiplicities of the
induced modules are related to the canonical basis of the cyclic quiver. It is quite
remarkable that, for type A , the multiplicities are given by Kazhdan-Lusztig poly-
nomials of type A(1) . The appearance of Kazhdan-Lusztig polynomials was already
suggested in a less precise way in [AST]. Theorem 8.5 gives an algorithm to com-
pute the Jordan-Hölder multiplicities of induced modules. It is inspired from [A],
[VV].
   Finally, finite dimensional representations are still unknown. However a special
class of finite dimensional modules, which where introduced previously by Chered-
nik (see [C2, Theorem 8.5] for instance), can be nicely described in geometrical
terms. There are related to some regular semi-simple nil-elliptic elements intro-
duced by Lusztig a few years ago, see 9.3.
1.4. General conventions. By scheme we always mean scheme over C. By
variety we mean a reduced separated scheme of finite type. Let G be a linear
group. Set G◦ equal to the identity component of G.
   Let X be any Noetherian G-scheme (i.e. a Noetherian scheme with a regular
action of the group G). Set KG (X ) equal to the complexified Grothendieck group of
the Abelian category of G-equivariant coherent sheaves on X . Set KG (X ) equal to
the complexified Grothendieck group of the exact category of G-equivariant locally
free sheaves on X . Let KG           i
                            i (X ), KG (X ), i ≥ 1, denote the higher complexified
K-groups. We may write K0 (X ), K0G (X ) for KG (X ), KG (X ).
                             G

   We write RG for KG (point). If G is a diagonalizable group and g ∈ G, let
Jg ⊂ RG be the maximal ideal associated to g, and Cg = RG /Jg . For any RG -
module M we set Mg = M ⊗RG Cg . See the appendix for other notations relative
to K-theory.
   For any subset S ⊂ G we write X S ⊂ X for the fixed point subset. Let δX
denote the diagonal immersion X → X × X . Let qij : X1 × X2 × X3 → Xi × Xj ,
qi : X1 × X2 → Xi denote the obvious projections.
                                                                                    5

   Given a one-parameter subgroup ρ : C× → G, we write C×               ×
                                                               ρ for ρ(C ). We write
hgi ⊂ G for the closed subgroup generated by the element g ∈ G, and NG (H) for
the normalizer of a subgroup H ⊂ G.
   Assume now that X is a variety. Let H∗ (X ) denote the complex Borel-Moore
homology of X . Occasionally we consider the equivariant topological K-homology
groups KG                                                       G           G
          i,top (X ), with i = 0, 1. As above we may write Ktop (X ) for K0,top (X ).
Let also D(X ) be the derived category of bounded complexes of C-sheaves on X
whose cohomology groups are constructible sheaves, and DG (X ) be the triangulated
category of G-equivariant complexes of constructible sheaves on X constructed
in [BL]. Let CX be the constant sheaf, and DX be the dualizing complex. For
any G-equivariant local system χ on a locally closed set O ⊂ X , let ICχ be the
corresponding intersection cohomology complex. It is a simple perverse sheaf if χ
is an irreducible local system. If O is a G-orbit and e ∈ O, we may identify a
representation of the component group of the isotropy subgroup of e in G with the
corresponding G-equivariant local system on O.
   Given graded vector spaces V, W we write V =W   ˙   for a linear isomorphism that
does not necessarily preserve the gradings. We will also use the notation =     ˙ to
denote quasi-isomorphisms that only hold up to a shift in the derived category.
   If V is a finite dimensional vector space, let V ∗ be the dual space and FV :
Dcon (V ) → Dcon (V ∗ ) be the Fourier transform. Here Dcon (V ) is the full subcat-
egory of D(V ) of conic sheaves, i.e. complexes of sheaves whose cohomology is
constant on the R+ -orbits. Set C×           ×                          ×
                                      V = C · IdV ⊂ GL(V ). The CV -equivariant
                                             ×
perverse sheaves are conic. If E is a G × CV -equivariant perverse sheaf then FV (E)
is a G × C×                                    ∗
           V ∗ -equivariant perverse sheaf on V , and FV ∗ ◦ FV (E) ≃ E. If moreover
E is simple then FV (E) is also simple.
   Given an algebra A, let ModA denote the category of left A-modules. A mor-
phism of algebras c : A → B induces a pull-back map ModB → ModA , still
denoted by c• .
Acknowledgements. I wish to thank G. Laumon and V. Kac for their help during
the preparation of this paper, and I. Cherednik for his interest. While writing this
paper I enjoy the hospitality of MSRI and IHES. The author was also partially
supported by EEC grant no. ERB FMRX-CT97-0100.

                        2. Reminder on flag manifolds
    Sections 2.0 to 2.13 contain notations and basic facts on flag manifolds. Propo-
sition 2.14 will be used in the sheaf theoretic approach to the convolution algebra
in Section 6.
2.0. Let G be a simple connected simply-connected linear algebraic group. Let G
denote also the C-points in G. Let g be the Lie algebra of G. Let h ⊂ g be a
Cartan subalgebra, and let b ⊂ g be a Borel subalgebra containing h. Let H ⊂ G
be the Cartan subgroup corresponding to h. Let Φ be the root system of g. For
any α ∈ Φ let gα ⊂ g be the corresponding root subspace. Let Φ∨ be the root
system dual to Φ. Set X, Y ⊂ h∗ (resp. X ∨ , Y ∨ ⊂ h) equal to the weight and
the root lattices of Φ (resp. of Φ∨ ). Recall that, G being simply connected, X is
isomorphic to the group of characters of H, while Y ∨ is isomorphic to the group of
the one-parameter subgroups of H. Let αi , ωi ∈ h∗ , α∨    ∨
                                                      i , ωi ∈ h, i ∈ I, be the simple
roots, the fundamental weights, the simple coroots and the fundamental coweights.
6                                   ERIC VASSEROT

Hence Y ⊂ X, Y ∨ ⊂ X ∨ and {αi }, {α∨                    ∨                       ∨
                                           i }, {ωi }, {ωi } are bases of Y , Y , X, X
                                                                                         ∨

respectively. Let θ ∈ Φ be the highest root, and θ ∨ be the corresponding coroot.
Let W , W be the Weyl group and the affine Weyl group of G. Let ℓ(w) denote the
length of the element w ∈ W .                         L                          L
   Set IL= I ⊔ {0}. Consider theL    lattices Y = i∈I Zαi ⊂ X = Zδ ⊕ i∈I Zωi ,
Y∨ =             ∨
          i∈I Zαi ⊂ X
                         ∨
                           = Zc ⊕ i∈I Zωi∨ , where α0 , α∨                ∨
                                                                0 , ω0 , ω0 , δ, c are new
variables such that α0 = δ −θ, and α0 = c−θ . There is a unique pairing X ×Y ∨ →
                                       ∨         ∨

Z such that (ωi : α∨                     ∨
                    j ) = δij and (δ : αj ) = 0.
   We identify I (resp. I) with the set of simple reflexions in W (resp. in W ). Let
si ∈ W be the simple reflexion corresponding to i ∈ I. For all i, j ∈ I let mij be
the order of the element si sj in W . Let also Ω denote the Abelian group X ∨ /Y ∨ .

2.1. Set K = C((ε)), and Kd = C((ε1/d )) for any d ∈ Z>0 . Let h be the Abelian
Lie algebra on the vector space X ∨ ⊗Z C = h ⊕ Cc ⊕ Cω0∨ . The sum g = (g ⊗
K) + h is endowed with the usual Lie bracket, such that c is central and ω0∨ acts
by derivations.
   Let Φ ⊂ Y be the set of roots of g, Φ+ ⊂ Φ the set of positive roots, Φ− = −Φ+ .
For any α ∈ Φ let gα ⊂ g be the corresponding    weight subspace. Given Θ ⊂ Φ+
such that (Θ + Θ) ∩ Φ+ ⊂ Θ, we set u(±Θ) = α∈±Θ gα . Note that u(±Θ) is a Lie
                                              Q
algebra in the category of schemes.
   Given a decreasing sequence of subsets ΘTℓ ⊆ Φ+ , with ℓ ∈ Z≥0 , such that
(Θℓ + Φ+ ) ∩ Φ+ ⊂ Θℓ , |Φ+ \ Θℓ | < ∞, and ℓ≥0 Θℓ = ∅, we set uℓ = u(Θℓ ) and
u−                              −         +          −
 ℓ = u(−Θℓ ). We write u and u for u(Φ ) and u(Φ ). Then uℓ ⊂ u and uℓ ⊂ u
                                                                            −   −

are closed Lie ideal.
2.2. Let G′ be the central extension of G(K) by C× , see [G]. The affine Kac-
Moody group GKM ⊂ G′ is the restriction of the central extension to the subgroup
G(C[ε±1 ]) ⊂ G(K), see [Kc, 2.8]. The groups G(K), G′ or GKM share the similar
properties to the group G, such as Bruhat decomposition. See [K], [Kc] and the
references therein. The group C× acts on G(Kd ) by ‘rotating the loops’, i.e. τ ·
y(ε1/d ) = y(τ ε1/d ). If d = 1 this action extends uniquely to G′ . Let G = G′ ⋊ C×
and Gd = G(Kd ) ⋊ C× be the corresponding semidirect products. We write C×              δ
for the subgroup {1} × C× ⊂ G, Gd . The coroots α∨             i , hence c, are viewed as
one-parameter subgroups of G′ . We write C×                       ′
                                                   ω0 for hci ⊂ G .
                                                                  ×
   Set also H ′ =              ∨          ′                 ′
                                                                             Hence H ′ =
                       Q
                         i∈I hαi i ⊂ G , and H = H × Cδ ⊂ G.
Spec(C[X ′ ]) = H × C×                ′
                           ω0 with X = X/Zδ, and H = Spec(C[X]). The group
W acts on X by si (λ) = λ − (λ : α∨     i )αi for all i ∈ I, λ ∈ X. This action induces a
W -action on H. For any s ∈ H we set Ws = {w ∈ W ; w(s) = s}.
   Given a finite-dimensional nilpotent Lie algebra a, let exp(a) denote the unipo-
tent algebraic group with Lie algebra a. We consider the group schemes U =
lim exp(u/uℓ ) and U − = lim exp(u− /u−       ℓ ). Let U (Θ) ⊂ U and U (−Θ) ⊂ U
                                                                                     −
                                                                                       be
←− ℓ                        ←− ℓ
the closed subgroups with Lie algebras u(Θ) and u(−Θ). We write Uℓ and Uℓ− for
U (Θℓ ) and U (−Θℓ ). For any real root α ∈ Φ+ we also write U±α for U ({±α}). Let
B = H ⋉ U , B − = H ⋉ U − . The groups U , B are identified with closed subgroups
of G (for the topology on G induced by the natural topology on K).
2.3. Let X be the flag manifold of the triple (g, h, X), see [K]. Recall that X is
a reduced separated scheme, locally of infinite type, equal to the quotient of a
separated scheme G by the right action of B. The group B − acts on G on the left.
                                                                                                          7

The actions of B, B − on G are locally free. See [K, 5.7] for the definition of locally
freeness. Let π : G → X be the canonical map.
   Let Ẇ be the braid group of W . It acts on G from the left and the right. The
left actions of B − , Ẇ commute to the right actions of B, Ẇ . The left B-action
and right B − -action on G are denoted by ‘a dot’, as well as the Ẇ -action (left or
right) on G. The left actions of B − , Ẇ on X is also denoted by ‘a dot’.
   Let ad denote the adjoint action of H, Ẇ , G on g. We embed W in Ẇ as
usual : let ẇ ∈ Ẇ denote the image of w. For any H-stable subset Y ⊆ X (resp.
Y ⊂ g) the set ẇ · Y (resp. adẇ Y) depends only on w, hence we denote it by
w · Y (resp. adw Y). The Ẇ -action on g gives an isomorphism of group schemes
U (Φ− ∩ w−1 Φ+ ) → U (Φ+ ∩ wΦ− ), u 7→ adẇ u.
   Let 1G ∈ G be the ’identity element’, see [K, 5.1], and 1X = π(1G S      ). We set
Xy = yU (Φ− ∩ y −1 Φ+ ) · 1X , X w = U − w · 1X , U w = wU − · 1X , X≤y = y′ ≤y Xy′ ,
                      ′
w
  X = w′ ≤w U w . The maps U (Φ− ∩ w−1 Φ− ) → X w , u 7→ wu · 1X , and U − → U w ,
       S

u 7→ wu · 1X are isomorphisms. Put also w G = π −1 (w X ). Given y, y ′ , y ′′ ∈ W we
write y ′′  (y, y ′ ) if y ′′ ≥ ww′ for any w ≤ y, w′ ≤ y ′ .

Lemma. Fix y, y ′ , y ′′ , w, w′ ∈ W .
  (i) ẇu · 1G = 1G · (adẇ u)w for any u ∈ U (Φ− ∩ w−1 Φ+ ).
                                                ′
  (ii) If w′  (w, y) then wU − · X≤y ⊂ w X .
  (iii) If y ′′  (y, y ′ ) then yU (Φ− ∩ y −1 Φ+ ) · X≤y′ ⊂ X≤y′′ .
                                          ′
  (iv) X≤w ⊂ w X , w X = w′ ≤w X w , and X = w∈W X w .
                                S                      S

  (v) U w , w X are open in X ; Xy , X w are locally closed in X ; X≤y is projective.

Proof: (i) is proved in [K, Theorem 5.1.10.(iii)] if ℓ(w) = 1. If ℓ(w) = ℓ > 1 we fix
a reduced expression w = si1 si2 · · · siℓ . The element u ∈ U (Φ− ∩ w−1 Φ+ ) can be
decomposed as a product u = (ad−1                       −1                 −1
                                           ṡiℓ · · · adṡi2 u1 ) · · · (adṡiℓ uℓ−1 )uℓ , with uk ∈ U−αik .
Then ẇu · 1G = ṡi1 u1 ṡi2 u2 · · · ṡiℓ uℓ · 1G . Claim (i) follows by induction on ℓ(w). If
y = si1 si2 · · · siℓ is a reduced expression, then si1 U−αi1 si2 U−αi2 · · · siℓ U−αiℓ · 1X =
Xy . This yields (iii). By (iii) we have wU − · X≤y ⊂ U − wU (Φ− ∩ w−1 Φ+ ) · X≤y ⊂
                                                          ′
U − · X≤w′ . We have also U − · X≤w′ ⊂ w X by (iv). This yields (ii). The first
part of Claim (iv) is obvious. For the second, [K, Lemma 4.5.3] implies that w X ⊂
           w′
S
  w ′ ≤w X     and the opposite inclusion follows from [K, Lemma 4.5.7]. The last part
of (iv) is proved in [K, Proposition 4.5.9]. Claim (v) is proved in [KT2, Propositions
1.3.1, 1.3.2].                                                                                           ⊓
                                                                                                         ⊔

2.4. Set w X k = Uk− \ w X . Let pk2 k1 : w X k2 → w X k1 , for k2 ≥ k1 , and pk : w X →
  X be the natural projections. The Uk− -action on U w is free if w−1 (Θk ) ⊂ Φ+ .
w k

If k, k2 , k1 ≫ 0 then w X k is a smooth Noetherian scheme, pk2 k1 is smooth and
affine, and pk restricts to a closed immersion X≤w → w X k , see [KT2]. In particular
the scheme w X represents the pro-object (w X k , pk ). Note that w X k may be not
separated.

2.5. The group B acts on u by conjugation. The quotient T = G ×B u is a reduced
and separated scheme. Let ρ : T → X be the canonical map. Set V w = ρ−1 (U w ),
w
  T = ρ−1 (w X ), and Ty = ρ−1 (Xy ). Let [g : x] denote the image of (g, x) by
the projection G × u → T . There is a left action of Ẇ , B − on T such that
u · [g : x] = [u · g : x].
8                                        ERIC VASSEROT

2.6. We have adB uℓ = uℓ because uℓ ⊂ u is a Lie ideal. Set w T kℓ = (Uk− \ w G) ×B
(u/uℓ ). If k ≫ 0 the schemes w T kℓ are Noetherian and smooth. They may be not
separated. If k2 ≥ k1 ≫ 0 and ℓ2 ≥ ℓ1 ≥ 0 we have the Cartesian square with
smooth affine maps
                                                k k1
                                               pℓ 2
                                w     k2 ℓ 2           w
                                    T         −→2
                                                           T k1 ℓ2
                               k                             ypkℓ 1ℓ
                              pℓ 2ℓ  y
                                2 1                                2 1
                                                k k1
                                               pℓ 2
                                w
                                    T k2 ℓ 1    1
                                               −→      w
                                                           T k1 ℓ 1 .
The scheme w T represents the pro-object (w T kℓ , pkℓ2 ℓ1 , pℓk2 k1 ), because pkℓ2 ℓ1 , pℓk2 k1
are affine morphisms. Recall that two pro-objects as above representing the same
scheme w T are necessarily isomorphic, see A.5. We set also T ℓ = G ×B (u/uℓ ). The
map pℓ : T → T ℓ , [g : x] 7→ [g : x + uℓ ], is a vector bundle. Let pkℓ : w T → w T kℓ
be the obvious projection.
2.7. Let b ⊂ g⊗K be the preimage of b ⊂ g by the natural projection g⊗C[[ε]] → g.
An Iwahori subalgebra of g ⊗ K is a Lie subalgebra of the form adg b with g ∈ G.
Recall that, if g ∈ G(K), then adg b = b if and only if g ∈ B, see [IM, Section 2]
for instance. Let B be the set of all Iwahori subalgebras in g ⊗ K. Set bw = adw b.
The group U (Φ+ ∩ wΦ− ) is identified with a closed subgroup of G. The map
adU (Φ+ ∩wΦ− ) bw → X , g 7→Sw · (adẇ−1 g) · 1X , is an immersion onto Xw . Hence B is
identified with the subset w∈W Xw ⊂ X .
   Observe that X is a scheme, hence it is endowed with the corresponding topology,
while B is only a set, which we dentify with a subset in X .
2.8. Let ġ = {(x, p) ∈ g × B ; x ∈ p}, and p : ġ → g be the 1-st projection. We set
Bx = p−1 (x). Let N ⊂ g ⊗ K be the set of nil-elements, i.e. x ∈ N if (adx )n → 0
when n → ∞ for the topology induced by K. Recall that Bx 6= ∅ if x ∈ N , where
N = adG u, and N ∩ b = u by [KL2, Lemma 2.1]. Put Ṅ = p−1 (N ). Hence
Ṅ ∩ (g × Xy ) = {(adgẏ x, adg by ) ; g ∈ U (Φ+ ∩ yΦ− ), x ∈ u}. Thus the map

                   Ṅ ∩ (g × Xy ) → T , (adgẏ x, adg by ) 7→ [g ẏ · 1G : x]

is an immersion onto Ty . Therefore Ṅ = ρ−1 (B).
   Once again, observe that T is a scheme, while Bx , N , Ṅ , and ġ are only sets,
viewed as subsets in T .
2.9. Fix a subset J ( I. Let ΦJ ⊂ Φ be the root system generated by {αi ; i ∈ J },
and Φ±              ±                  +     +                +    +
        J = ΦJ ∩ Φ . Set UJ = U (Φ \ ΦJ ) and uJ = u(Φ \ ΦJ ). Let GJ ⊂ G
                                         +           −
be the subgroup generated by H, U (ΦJ ), and U (ΦJ ). Note that J is a finite root
system. Thus GJ is reductive in the usual sense. It is also connected and its derived
subgroup is simply-connected by 2.2. Put BJ = GJ ⋉ UJ . Let bJ ⊂ g be the Lie
algebra of BJ .
   The Weyl group of GJ is identified with the subgroup WJ ⊂ W generated by
{si ; i ∈ J }. Let wJ ∈ WJ be the longest element. Let J W (resp. W J ) be the set
of all y ∈ W such that y has minimal length in the coset WJ y (resp. yWJ ).
   One proves as in [K] that the group BJ acts locally freely on G on the right, and
that the quotient X J = G/BJ is a separated scheme, see also [KT3].
   If w ∈ W J wJ then w G isSBJ -stable and we put w X J = w G/BJ , w X J,k =
  −
Uk \ w X J . Note that X J = w w X J , where each w X J is open, pro-smooth, and
of infinite type. See A.5 for generalities on pro-objects.
                                                                                            9

   Set B J equal the set of G-conjugate of bJ . There is a natural embedding B J ⊂
X J , see 2.7. The natural projection πJ : X → X J takes the Lie algebra p ∈ B to
the unique element in B J such that p ⊂ πJ (p). The group GJ acts on X , X J on
the left. The map πJ commutes with the left GJ -action.
   Let B be the variety of all Borel subalgebras in g, ġ = {(x, p) ∈ g × B ; x ∈ p},
p : ġ → g be the 1-st projection, N ⊂ g be the nilpotent cone, Ṅ = ġ ∩ p−1 (N ),
B x = p−1 (x) be the Springer fiber, and Z = {(x, p; x′ , p′ ) ∈ Ṅ × Ṅ ; x = x′ } be the
Steinberg variety.
   Taking GJ in place of G we get the varieties BJ , ṄJ , ZJ . If y ∈ WJ we put

           OJ,y = GJ · (by−1 , b),    ZJ,y = {(x, p, p′ ) ∈ ZJ ; (p, p′ ) ∈ OJ,y }.

The set ZJ,≤y = y′ ≤y ZJ,≤y′ is closed in ZJ . If y ∈ J W we put J By = adBJ (by ) ⊂
                  S

B. We write J B for J B1 . The map J B → BJ , p 7→ p/uJ , is an isomorphism of
GJ -varieties. Hereafter we identify J B and BJ .
   From now on we write ♭ for I, i.e. u♭ = uI , b♭ = bI , B♭ = BI , W ♭ = W I , etc. In
particular the map ♭ B → B, p 7→ p/u♭ is an isomorphism of G-varieties.
   Recall that b♭ /u♭ ≃ g. For any Iwahori Lie subalgebra p ⊂ g ⊗ K the subspace
 !
p = (p ∩ b♭ )/(p ∩ u♭ ) ⊂ g is a Lie subalgebra. Let ! : B → B be the map taking p
to p! .
2.10. Set P J = G/UJ . It is a scheme because UJ acts locally freely on G. The
group GJ acts on P J on the right because GJ normalizes UJ . This action is locally
free. Hence, the corresponding quotient map P J → X J is a GJ -torsor. In particular
P J is a separated scheme.
   Assume that k ≫ 0, w ∈ W J wJ , and uℓ = εℓ · uJ . We set w P J,k = Uk− \ w G/UJ .
It is a scheme. The group GJ acts on w P J,k on the left and on the right, because
GJ normalizes UJ and Uk− . Both actions commute. The quotient w P J,k → w X J,k
is a GJ -torsor.
2.11. The group G × C× acts on g by ad(g,ζ) x = ζ −1 adg x, and on G by ad(g,ζ) h =
adg h. To avoid confusion between the different one parameter subgroups we write
C×                                 ×          ×            ×
 q for the subgroup {1} × C ⊂ G × C . Set A = H × Cq . The group A acts on
T by (s, ζ) · [g : x] = [s · g : ζ −1 ads x].

2.12. Convention. From now on we use the following conventions : s ∈ H,
s′ ∈ H ′ with component in H equal to s, s = (s′ , τ ) ∈ H with τ ∈ C×        δ , and
a = (s, ζ) ∈ A with ζ ∈ C×      q . The corresponding fixed point sets are denoted as
usual (i.e. Gs , B s , gs , T a , etc). We also assume that τ is not a root of unity,
although a few statements still hold without this assumption. Finally, an element
in G is called semisimple if it belongs to adG H.
2.13. The action of s on B ⊂ X takes p to ads p. The scheme w X k is endowed with
the unique H-action such that the map pk : w X → w X k is H-equivariant. Similarly
w kℓ
 T is endowed with the unique A-action such that the map w T → w T kℓ is A-
equivariant. We write w X s for (w X )s , and w T a for (w T )a . Finally, let {Xis ; i ∈ Ξs }
be the set of connected components of X s .
Lemma.
  (i) Gs is connected, reductive, with Cartan subgroup H and Weyl group Ws .
10                                   ERIC VASSEROT

  (ii) X s = B s ; it is a smooth separated Gs -scheme locally of finite type. Each
component Xis ⊂ X s is isomorphic to the flag variety of Gs as a Gs -variety.
  (iii) pk restricts to a closed immersion w X s → w X k onto (w X k )s if k ≫ 0.
  (iv) T a = Ṅ a ; it is a smooth separated Gs × C×
                                                   q -scheme locally of finite type.
  (v) T a is a vector bundle of finite rank over X s .
  (vi) pkℓ restricts to a closed immersion w T a → w T kℓ onto (w T kℓ )a if k, ℓ ≫ 0.
Proof: For any w ∈ W we fix a representative nw of w in NG (H). The Bruhat
decomposition for G′ implies that Gs is generated by H, the Uα ’s with α a real
root such that gα ⊂ gs , and the nw ’s such that w(s) = s. Since τ is not a root of
unity, the number of α and nw as above is finite. Hence Gs ⊂ G is a linear closed
subgroup. It is reductive because Uα ⊂ Gs if and only if U−α ⊂ Gs (if there was
a nontrivial unipotent radical R, then R would be normalized by H and therefore
contain some Uα ; in turn, R would be normalized by U−α , yielding non-unipotent
elements in R). In particular Gs ⊂ GKM ⋊ C×       δ . Hence there are g ∈ GKM , J ( I
                                                                               ad s
such that adg G ⊆ GJ , by [KcP, Proposition 3.1]. Then adg Gs = GJ g , and Gs is
                  s

connected by [SS, Theorem 3.9], because adg s is a semisimple element of GJ and
GJ is a connected reductive group whose derived subgroup is simply connected, see
2.9. Claim (i) is proved.
                                              ′                              ′
    Consider the open covering w′ ≤w (U w )s of w X s . We have (U w )s = w′ Vw′ · 1X
                                   S

for a closed subscheme Vw′ ⊂ U − of finite type. In particular Vw′ ⊂ G. Thus
      ′
(U w )s ⊂ B and X s = B s . Moreover w X s is smooth and of finite type because Vw′
is of finite type.
    If k ≫ 0 the Uk− -action on U w is free, i.e. U w ≃ Uk− × pk (U w ). The isomor-
phism commutes with the s-action. Hence pk (U w )s = pk ((U w )s ). Thus (w X k )s =
pk (w X s ). The map pk restricts to an immersion w X s → w X k , because w X s is of
finite type. Let us prove that pk (w X s ) is closed in w X k . Since Gs and w X s are of
                                                                           ′
finite type we may fix an element w′ ≥ w such that Gs · w X s ⊂ w X and pk yields
                                      ′                             ′                 ′
an immersion of Gs · w X s into w X k . The isomorphism U w ≃ Uk− × pk (U w ) takes
                                                                                    ′
Gs · w X s onto Uk− ×pk (Gs · w X s ). Hence Uk− ×pk (Gs · w X s ) is closed in U w , because
    ′                                                                                    ′
U w is separated and Gs · w X s is proper. Hence pk (Gs · w X s ) is closed in w X k ,
because pk is a quotient morphism. Therefore pk (w X s ) = w X k ∩ pk (Gs · w X s ) is
closed in w X k . Thus (ii), (iii) are proved, and (iv), (vi) follow, using (v).
    Finally, to prove (v) it is enough to observe that the projection T a → X s is
the restriction of the first projection G ×B ua → G/B to T a , and that ua is finite
dimensional because τ is not a root of unity, see Lemma 2.14 below.                        ⊓
                                                                                           ⊔

  The projection Ṅ a → X s is surjective. For a future use, let Ṅia ⊂ Ṅ a be the
unique component above Xis for each i ∈ Ξs .

Remark. It is essential to consider the group G (or G′ ) rather than G(K). Other-
wise Lemma 2.13.(i) does not hold : it was noticed by D. Vogan that if G is of type
D4 , τ 1/2 is a square root of τ , and s = (α∨           ∨
                                              1 ⊗ (−1))(α2 ⊗ τ
                                                               1/2
                                                                   )(α∨          ∨
                                                                      3 ⊗ (−1))(α4 ⊗
(−τ 1/2 )) ∈ Y ∨ ⊗Z C× , then the reductive group G(K)s is not connected, see [BEG1,
Section 5]. However Gs and (G′ )s are connected by Lemma 2.13.(i).
2.14. Recall that τ is not a root of unity by Convention 2.12.
Lemma. (g ⊗ K)a is finite dimensional over C, N a ⊆ (g ⊗ K)a is closed. If ζ is
not a root of unity there are d, γd ∈ G(Kd ), S ⊂ H × C×
                                                       q finite, r ∈ Q, such that
                                                                                          11

gS ⊗ εr = adγd ((g ⊗ K)a) and GS ⊆ adγd (G(K)s ).
   (i) If ζ Z\{0} ∩ τ Z = ∅ then r = 0, (g ⊗ K)a = N a consists of nilpotent elements,
and there are a finite number of Gs -orbits in N a .
   (ii) If ζ m = τ k with m ∈ Z>0 , k ∈ Z<0 , (m, k) = 1, then r = k/m, N a consists
of nilpotent elements, and there are a finite number of Gs -orbits in N a .
   (iii) If ζ m = τ k with m, k ∈ Z>0 , (m, k) = 1, then r = k/m and N a = (g ⊗ K)a .
Proof: In the proof we use the following notations : gi = {x ∈ g ⊗ K ; ads x = ζ i x},
ad(d) is the adjoint action of Gd on g⊗Kd and G(Kd ), see 2.2, and µd = exp(2iπ/d).
Finally, given γ ∈ Y ∨ we may view γ as a group homomorphism Kd× → H(Kd )
and write γ(z) for the image of z ∈ Kd× .
     The space gi is finite dimensional for each i, because τ is not a root of unity.
Hence, (g⊗K)a is finite dimensional and N a ⊆ (g⊗K)a is a closed subset. Observe
that if (i), (ii) or (iii) holds then ζ is not a root of unity.
     Assume that ζ m ∈ / τ Z for allS
                                    m 6= 0. Let Φs,i ⊂ Φ be the set of roots α such that
(gα ⊗ K) ∩ gi 6= 0. Put Φs = i∈Z Φs,i . The set Φs is closed and symmetric, i.e.
α, β ∈ Φs , α+β ∈ Φ ⇒ α+β ∈ Φs , and Φs = −Φs . Thus it is a root system, see [B,
Ch. VI, §1, Proposition 23]. Fix a basis β1 , ...βr of Φs . Note that Φs,i ∩ Φs,j = ∅
if i 6= j because ζ i−j ∈  / τ Z if i 6= j. Hence there are unique n1 , ...nr ∈ Z and
i1 , ...ir ∈ Z such that gβ ⊗ εnt ⊂ git for all t = 1, 2, ..., r. Fix d ∈ Z>0 , γ ∈ Y ∨
                             t
such that (βt : γ) = −dnt for all t. Fix a d-th root of τ . Set

                    Si = {(γ(µd ), 1), (sγ(τ 1/d )−1 , ζ i )} ⊂ H × C×
                                                                     q .


Put γd = γ(ε1/d ) ∈ G(Kd ). Then ad(d)      Si
                                   γd gi = g , because

                                          (d)               (d)
                 gi = {x ∈ g ⊗ Kd ; ad(1,µd ) x = ζ −i ad(s,τ 1/d ) x = x}.

Let L ⊂ G(Kd ) be the subgroup consisting of the elements fixed by the automor-
           (d)           (d)
phisms ad(1,µd ) and ad(s,τ 1/d ) . The Bruhat decomposition for G(Kd ) implies that
L is generated by the group H, the root subgroups in the ‘loop group’ G(Kd ) as-
sociated to the real affine root whose root subspace in g ⊗ Kd is contained in g0 ,
and the elements in NGd (H × C×      δ ) fixing (1, µd ) and (s, τ
                                                                   1/d
                                                                       ). Similarly G(K)s is
generated by H, the Uα ’s with α ∈ Φ a real root such that gα ⊂ (g ⊗ K)s, and the
nw ’s such that w(s) = s. Hence G(K)s = L. Thus ad(d)                      s
                                                              γd (G(K) ) = G(Kd ) . In
                                                                                       S0

particular ad(d)       s                 S0
               γd (G(K) ) contains G . Further, we have g
                                                                   Si
                                                                       = N Si and there is a
finite number of GS0 -orbits in N Si for each i 6= 0 by [KL1, 5.4.(c)], because ζ is
not a root of unity. Finally observe that GS0 = GS1 because C×            q acts trivially on
G by definition. Claim (i) is proved.
   Assume that ζ m = τ k with m ∈ Z>0 , k ∈ Z, and (m, k) = 1. Fix a m-th root of
τ such that ζ = τ k/m . We have
                                                      (m)
              gi = {x · εik/m ; x ∈ g ⊗ Km , ad(s,τ 1/m ) x = x} ∩ (g ⊗ K).

The set of roots α ∈ Φ such that
                                                (m)
                                                           6 {0}
                        {x ∈ gα ⊗ Km ; ad(s,τ 1/m ) x = x} =
12                                   ERIC VASSEROT

is a root system. Fix a basis β1 , β2 , ...βr of this root system. There are unique
                                                         (m)
integers n1 , ...nr such that gβ ⊗ εnt /m is fixed by ad(s,τ 1/m ) for each t = 1, 2, ...r,
                                 t
because τ is not a root of unity. Fix e ∈ Z>0 , γ ∈ Y ∨ such that (βt : γ) = −ent for
all t. Then
                               ad(d)
                                  γd (gβt ⊗ ε
                                              nt /m
                                                    )⊆g
for each t, where d = em and γd = γ(ε1/d ). Hence
                                              (m)                   ′
                       ad(d)                                     S
                         γd {x ∈ g ⊗ Km ; ad(s,τ 1/m ) x = x} = g ,

where S ′ = {γ(µe ), sγ(τ 1/d )−1 } ⊂ H. Thus,
                             ′                                     (d)
          ad(d)
            γd (gi )   = (gS ⊗ εik/m ) ∩ ad(d)
                                           γd {x ∈ g ⊗ Kd ; ad(1,µd ) x = x},
                             ′                               (d)
                       = (gS ⊗ εik/m ) ∩ {x ∈ g ⊗ Kd ; ad(γ(µd )−1 ,µd ) x = x}.
                                                            (d)
Set S = S ′ ∪ {(γ(µd ), (µdm )k )} ⊂ H × C×  q . Then adγd g1 = g ⊗ ε
                                                                      S     k/m
                                                                                and
  (d)       S
adγd g0 = g . Using the Bruhat decomposition for G(Kd ) and G(K) we get also
GS ⊂ ad(d)        s
         γd (G(K) ). The last statement in (ii) follows from [KL1, 5.4.(c)]. Note
that the condition in (ii) says that r < 0. Thus N a consists of nilpotent elements,
because any element in N ∩ (g ⊗ εr ) is nilpotent if r < 0.                       ⊓
                                                                                  ⊔

Definition. Assume that τ, ζ are not roots of unity. If (i) or (ii) holds we say that
the pair (τ, ζ) is regular. If (i) holds we say that (τ, ζ) is generic.

               3. Reminder on double affine Hecke algebras
3.1. Let H be the unital associative C[q, q −1 , t, t−1 ]-algebra generated by {ti , xλ ; i ∈
I, λ ∈ X} modulo the following defining relations
          xδ = t
          xλ xµ = xλ+µ
          (ti − q)(ti + 1) = 0
          ti tj ti · · · = tj ti tj · · · if i 6= j (mij factors in both products)
          ti xλ − xλ ti = 0               if (λ : α∨i )=0
                                                    ∨
          ti xλ − xsi (λ) ti = (q − 1)xλ if (λ : αi ) = 1
for all i, j ∈ I, λ, µ ∈ X. The complexified Grothendieck ring RH is naturally iden-
tified with the C-linear span of {xλ ; λ ∈ X}, and RA is identified with RH [q, q −1 ].
In particular it is viewed as a subring of H.
    For each reduced decomposition y = si1 si2 · · · siℓ ∈ W we set ty = ti1 ti2 · · · tiℓ .
Then (ty ; y ∈ W ) ⊂ H is a RA -basis.
    Let IM : H → H be the C[q, q −1 ]-linear involution such that IM(ti ) = −qt−1       i
and IM(xλ ) = x−1       λ .
    For any ζ, τ ∈ C× we set Rτ,ζ = RA /(q − ζ, t − τ ), and Hτ,ζ = H/(q − ζ, t − τ ).
    On Hτ,ζ we introduce a filtration H≤w , w ∈ W , setting H≤w to be the span of
the basis elements {ty xλ ; λ ∈ X, y ≤ w}.

Remarks. (i) One important feature of the ring H is that it is not of finite type
over its center. This is the reason why in the proof of Theorem 7.6 below we use
the support in SpecRA of some H-module rather than the ‘central character’.
   (ii) Note that H differs slightly from the double affine Hecke algebra used by
Cherednik. The latter is the C[q, q −1 ]-algebra Hch generated by {tω , ti , xλ ; ω ∈
Ω, i ∈ I, λ ∈ X ⊕ Zδ} with relations analogous to the previous one, see also 8.3.
                                                                                     13

3.2. For any non empty subset J ⊂ I let HJ be the unital associative C[q, q −1 ]-
algebra generated by {ti , xλ ; i ∈ J, λ ∈ X ′ } modulo the same relations as above,
with X ′ as in 2.2. If J 6= I the C[q, q −1 ]-algebra HJ is the affine Hecke algebra
associated to the group GJ . It is well-known that HJ is isomorphic to the C[q, q −1 ]-
subalgebra of H generated by {ti , xλ ; i ∈ J, λ ∈ X ′ }. The proof of Theorem 4.9 is
based on the following easy lemma.

Lemma. Assume that |I| > 2. Given any ring A, the restriction map yields a
bijection from the set of ring homomorphisms Ψ : H → A onto the set of famillies
(ΨJ ) of ring homomorphisms ΨJ : HJ → A such that J 6= I and (ΨJ2 )|J1 = ΨJ1
whenever J1 ⊂ J2 .

   We will write H for HI , and Hζ for H/(q − ζ). The induction functor L →
Hζ,τ ⊗Hζ L from Hζ -modules to Hζ,τ -modules is exact. The restriction functor is
also exact.

                            4. The convolution algebra
   The affine analogue, Z, of the Steinberg variety is introduced in 4.1-3. Fix an
element a ∈ A as in 2.12. The scheme Z a is the disjoint union of the connected
                 a
components Zij     = Z a ∩ (Ṅia × Ṅja ) with i, j ∈ Ξs , see 2.13. Each component is
a scheme of finite type. In 4.4 we introduce a subspace Ka ⊆ j i KA (Zij         a
                                                                      Q L
                                                                                   )a ,
          A    a
where K (Zij ) is the complexified Grothendieck group, see 1.4. The convolution
product on Ka is defined in 4.4. A ring homomorphism Ψa : H → Ka is given
in 4.9. It is surjective after a suitable completion of H, see the proof of Theorem
4.9.(iv). The main ingredient in the proof of Theorem 4.9 is the ring homomorphism
              ×
ΘJ : KGJ ×Cq (ZJ ) → Ka . It is the composition of a chain of maps

                        ×
                KGJ ×Cq (ZJ ) → KA (Z≤w
                                     0
                                        J
                                          ) → KA (Z≤w
                                                   a
                                                       ) → Ka ,
                                                      J a



         0
where Z≤w   J
               = P J ×GJ ZJ . The first map is induction. See (A.4.2). The convolution
product on KA (Z≤w   0
                       J
                         ) is defined in 4.5. The second map is the concentration map
                                                                         0
and the Thom isomorphism, because Z≤wJ is a vector bundle over Z≤w          J
                                                                              , see 4.5,
4.7 and the appendix. The compatibility between the maps ΘJ , see Step 3 in 1.1,
is proved by computing explicitely the images Di,a , Dλ,a of certain elements in
        ×
KGJ ×Cq (ZJ ). This is done in 4.6-7. Further results on the ring Ka,≤1 are given in
4.8 for a future use.
   Once again, Kashiwara’s manifold X J seems to be more appropriate than the ind-
scheme B J , in particular to define KA (X J ) and the concentration map KA (X J )a →
KA ((X J )a )a , see Lemma 4.5.(iv).

4.1. Given y ∈ W we set
                                                                 [
              Oy = {(π(g · ẏ −1 ), π(g)) ; g ∈ G}, and O≤y =            Oy ′ ,
                                                                y ′ ≤y


                                                        w
where π is as in 2.3. For each w ∈ W we set also            Oy = Oy ∩ (X × w X ), and
w k
 Oy = (pk × pk )(w Oy ). Let qi , qij be as in 1.4.
14                                    ERIC VASSEROT

Lemma. Assume that w′  (w, y −1 ), y ′′  (y ′ , y), and k ≫ 0.
    (i) O≤y is closed in X 2 , Oy is open in O≤y .
                     ′                                          ′
    (ii) w O≤y ⊂ w X × w X , and w Oyk is locally closed in w X k × w X k .
                −1            −1
    (iii) q13 (q12 (O≤y′ ) ∩ q23 (O≤y )) ⊂ O≤y′′ .
    (iv) q2 |Oy is a vector bundle of rank ℓ(y), q2 |O≤y is a locally trivial fibration with
fibers ≃ X≤y−1 .

Proof: The set Oy is preserved by the diagonal action of Ẇ , U − on X 2 . Hence,

                Oy ∩ (X × U w ) = wU − · {(π(1G · uẏ −1 ), 1X ) ; u ∈ U }.

Thus, using Lemma 2.3.(i) we get

(4.1.1)        Oy ∩ (X × U w ) = wU − · (Xy−1 × {1X }) ≃ Xy−1 × U − .

Claim (i) follows from (4.1.1) because the sets U w with w ∈ W form an open
covering of X .
   By (4.1.1) we have

     (O≤y′ × U w ) ∩ (X × O≤y ) ⊂ (O≤y′ × X ) ∩ (X × wU − · (X≤y−1 × {1X })).

By Lemma 2.3.(iii) we have

             (O≤y′ × X ) ∩ (X × X≤y−1 × {1X }) ⊂ q1−1 (X≤y′′ −1 ) × {1X }.

Hence q13 ((O≤y′ ×U w ) ∩(X ×O≤y )) ⊂ O≤y′′ because O≤y′ and O≤y′′ are preserved
by the diagonal action of U − and Ẇ . Claim (iii) follows.
                                                                   ′
   By Lemma 2.3.(ii) and (4.1.1) we have O≤y ∩ (X × U w ) ⊂ w X × U w . The 1-st
part of (ii) is proved.
   The automorphism ϕ of X ×U w such that ϕ(π(g), π(wu)) = (π(u−1 w−1 g), π(wu))
for all u ∈ U − , g ∈ G, takes Oy ∩ (X × U w ) onto Xy−1 × U w . Claim (iv) follows.
   By (iv) the restriction of q2 to w Oy is a morphism of finite type. Hence, if k ≫ 0
                                                                       ′
the map pk × Id restricts to an immersion of w X -schemes w Oy → w X k × w X . The
                  ′
Uk− -action on w X k × w X on the right factor preserves (pk × Id)(w Oy ) because w Oy
is preserved by the diagonal U − -action. The quotient is a locally closed subset of
w′ k
   X × w X k isomorphic to Xy−1 × (Uk− \ wU − w−1 ). The 2-nd part of (ii) is proved.
⊓
⊔

Remark. Note that Oy , O≤y and w Oyk are endowed with the reduced scheme
                                 ′
structures induced from X 2 and w X k × w X k respectively.
4.2. To simplify the notations, for any w ∈ W it is convenient to write w(x), ẇ(x)
for the adjoint action adw x, adẇ x. See also 2.3. Set

               Zy = {([g · ẏ −1 : ẏ(x)], [g : x]) ; g ∈ G, x ∈ u ∩ y −1 (u)}.

                                                         w
                                                             Zy = Zy ∩ (T × w T ),   w
                                                                                         Zykℓ = (pkℓ ×
                     S                    S
Set also Z≤y =       y ′ ≤y   Zy′ , Z =       y   Zy ,
pkℓ )(w Zy ), etc.
                                                                                              15

Lemma. Let y, y ′ , y ′′ , w, w′ be as in Lemma 4.1.
   (i) Z≤y is closed in T 2 , Zy is open in Z≤y , the second projection Z≤y → T is
proper, the natural projection Zy → Oy is a vector bundle.
                  ′                                       ′
   (ii) w Zy ⊂ w T × w T , w Zykℓ is locally closed in w T kℓ × w T kℓ if k, ℓ ≫ 0, the
projection w Zykℓ → w Oyk is a vector bundle with fiber (u ∩ y −1 (u))/(uℓ ∩ y −1 (uℓ )).
                                           −1 w ′        −1 w
   (iii) q13 restricts to a proper map q12   ( Z≤y′ ) ∩ q23 ( Z≤y ) → w Z≤y′′ .

Proof: The set Zy is preserved by the diagonal action of Ẇ , U − on T 2 . Hence
Lemma 2.3.(i) gives

        Zy ∩ (T × V w )     = wU − · {([1G · uẏ −1 : ẏ(ad−1
                                                           u x)], [1G : x]) ; u, x}
                            = wU − · {([ẏ −1 u2 · 1G : ad−1
                                                          u2 ẏ(x)], [1G : x]) ; u2 , x},


where u ∈ U, x ∈ u ∩ adu y −1 (u), and u2 ∈ U (Φ− ∩ yΦ+ ), x ∈ u ∩ y −1 (adu2 u)
respectively. Hence the natural projection Zy → Oy is a vector bundle whith fibers
isomorphic to u ∩ y −1 (u). The automorphism ϕ of T × V w such that

             (t, [ẇu1 · 1G : x]) 7→ (u−1
                                       1 ẇ
                                            −1
                                               · t, [ẇu1 · 1G : x]),    ∀u1 ∈ U − ,

takes Zy ∩ (T × V w ) to

               Zyϕ = {([ẏ −1 u2 · 1G : ad−1
                                          u2 ẏ(x)], [ẇu1 · 1G : x]) ; u1 , u2 , x}

                                                           −1
with u1 , u2 , x as above. Hence Zyϕ is closed in V y × V w , because u ∩ y −1 (adu2 u)
is closed in u. Thus Z≤y is closed in T 2 and Zy is open in Z≤y , because the
sets V w with w ∈ W form an open covering of T . The             S map ρ × Id restricts to a
                         ϕ                                ϕ
closed immersion Z≤y         → X≤y−1 × V w , where Z≤y       = y′ ≤y Zyϕ′ . Hence the second
                 ϕ
projection Z≤y       → V w is proper. Thus the second projection Z≤y → T is also
proper.
   The first part of (ii) follows from Lemma 4.1.(ii). The projection Zy → Oy is a
vector bundle, and the fiber at (y −1 u2 · 1X , 1X ) is u ∩ y −1 (adu2 u). Since ℓ ≫ 0 we
can assume that uℓ ⊂ u ∩ y −1 (adu2 u). Set Zyℓ = (pℓ × pℓ )(Zy ). Then the projection
Zyℓ → Oy is a vector bundle again. It is U − -equivariant and Ẇ -equivariant, and
the fiber over (y −1 u2 · 1X , 1X ) is (u ∩ y −1 (adu2 u))/(uℓ ∩ y −1 (adu2 uℓ )). We have
uℓ ∩y −1 (adu2 uℓ ) = adẏ−1 (u2 ) (uℓ ∩y −1 (uℓ )) because [u, uℓ ] ⊂ uℓ , and u∩y −1 (adu2 u) =
adẏ−1 (u2 ) (u ∩ y −1 (u)). Taking the quotient by the left (Uk− )2 -action we get (ii).
         −1 w                                     ′
   As q23     ( Z≤y ) is contained in T × w T × w T by (ii), Lemma 4.1.(iii) implies
              −1             −1 w
that q13 q12     (Z≤y′ ) ∩ q23 ( Z≤y ) is in w Z≤y′′ . Hence (iii) is a consequence of (i).
⊓
⊔
                        kℓ
Remarks. (i) Z≤y , Z≤y     , etc, are endowed with the reduced scheme structure
              2     w kℓ 2
induced by T and ( T ) respectively.
                                               ′
   (ii) We do not know if w Z≤y
                              kℓ
                                 is closed in w T kℓ × w T kℓ because w X k may be not
separated.
            a
4.3. Set Zij  = Z a ∩ (Ṅia × Ṅja ) for all i, j ∈ Ξs , see 2.13. In the rest of Section 4
we set also uℓ = εℓ · uJ with J ( I. Moreover we assume assume that w ∈ W J wJ .
16                                     ERIC VASSEROT

Proposition. Assume that k, k2 , k1 ≫ 0, k2 ≥ k1 , ℓ2 ≥ ℓ1 , and y ∈ WJ .
    (i) w Z≤y , w Z≤y
                    ℓ
                      , and w Z≤y  kℓ
                                       are GJ -subschemes of (w T )2 , (w T ℓ )2 , and (w T kℓ )2 .
                                              −1 w           −1 w
    (ii) q13 restricts to a proper map q12       ( Z≤wJ ) ∩ q23 ( Z≤wJ ) → w Z≤wJ .
                              w ℓ2        w ℓ1     w kℓ2    w kℓ1
    (iii) The projections Z≤y → Z≤y , Z≤y → Z≤y are vector bundles with
fiber uℓ2 /uℓ1 .
    (iv) Z a = {(x, p; x′ , p′ ) ∈ Ṅ a × Ṅ a ; x = x′ }.
                                                                 a
    (v) The map ρ ◦ q2 yields a locally trivial fibration Zij      ∩ Z≤y → Xjs .
Proof: Immediate from Lemma 2.13.(iv) and Lemma 4.2. Note that our assump-
tions imply that w  (w, y −1 ) and wJ  (wJ , wJ ).                    ⊓
                                                                        ⊔

Remark. Note also the following, to be compared with (A.6), (A.7).
     (i) Id × pℓ2 ℓ1 restricts to an isomorphism w Zykℓ2 → (pℓ2 ℓ1 × Id)−1 (w Zykℓ1 ).
     (ii) pk2 k1 × Id restricts to an isomorphism w Zyk2 ℓ → (Id × pk2 k1 )−1 (w Zyk1 ℓ ).
We will not use it. Proof is left to the reader.
4.4. Fix y, y ′ , y ′′ , w, w′ as in Lemma 4.1. Write w Z≤y      a
                                                                     for the fixed points set
 w      a
( Z≤y ) , and similarly for the other sets we consider. Let D ⊂ A be a closed
                                               ′
subgroup. Then w Z≤y       a
                              is closed in w T a × w T a , and q13 restricts to a proper map
 −1 w ′ a          −1 w a
q12 ( Z≤y′ ) ∩ q23       ( Z≤y ) → w Z≤ya
                                           ′′ , yielding a ⋆-product


                               ′
(4.4.1)                 KD (w Z≤y
                               a         D w a       D w a
                                  ′ ) × K ( Z≤y ) → K ( Z≤y ′′ )


                                                                               ′
relative to (T a )3 , see A.2. If w ≤ w′ the open immersion w T a ⊂ w T a gives a map
                               ′            ′
                                           a
                             hw w : KD (w Z≤y ) → KD (w Z≤y
                                                         a
                                                            ).

If y ≤ y ′ the closed immersion w Z≤y
                                   a
                                      → w Z≤y
                                           a
                                              ′ gives a map



                             hyy′ : KD (w Z≤y
                                           a
                                              ) → KD (w Z≤y
                                                         a
                                                            ′ ).


                 ′
The maps hw w and hyy′ commute. Set
                                                                   ′
                            KD (Z≤y
                                 a
                                    ) = lim (KD (w Z≤y
                                                    a
                                                       ), hw w ).
                                          ←− w


Then we have hyy′ : KD (Z≤y
                         a
                            ) → KD (Z≤y
                                     a
                                        ′ ), and we set



                             KD (Z a ) = lim (KD (Z≤y
                                                   a
                                                      ), hyy′ ).
                                           −→ y


To simplify we write Ka = KA (Z a )a and Ka,≤y = KA (Z≤y     a
                                                               )a . Recall that the
subscript a means specialization at the maximal ideal Ja , see 1.4.
Proposition. (i) (4.4.1) induces a ⋆-product Ka,≤y′ × Ka,≤y → Ka,≤y′′ , yielding
a ring (Ka , ⋆). The natural map Ka,≤wJ → Ka is a ring homomorphism.
   (ii) If s1 ∈ adG (s2 ) and ai = (si , ζ) the rings Ka1 , Ka2 are isomorphic.
                        ′
Proof: The maps hw w and hyy′ are ⋆-homomorphisms, see Example (A.3.1). Thus
the bilinear map ⋆ : Ka,≤y′ × Ka,≤y → Ka,≤y′′ such that (a′w ) ⋆ (aw ) = (a′w ⋆ aw )
                                                                                                   17

is well-defined and is compatible with the maps hyy′ . This yields Claim (i). It is
known that s1 ∈ adG (s2 ) if and only if s1 , s2 are W -conjugated. Hence Ka1 ≃ Ka2 ,
because Ẇ acts on Z and normalizes A.                                            ⊓
                                                                                  ⊔

Remark. Observe that, for each w there are finite subsets S, T ⊂ Ξs such that
                                 [ [
                        w a               a
                          Z≤y ⊆         Zij ∩ w Z≤y .
                                                i∈S j∈T

Inversely, given S, T there is a w such that the reverse inclusion holds. Thus
                                       Y
                          KD (Z≤ya
                                    )=    KD (Zija
                                                   ∩ Z≤y ).
                                                   i,j


Given j, the group KD (Zij
                        a
                           ∩ Z≤y ) vanishes except for a finite number of i. Thus
                        Y                                YM
                               KD (Zij
                                    a
                                       ∩ Z≤y ) =                 KD (Zij
                                                                      a
                                                                         ∩ Z≤y ).
                         i,j                             j   i

                                                              a         a
Moreover, for each i, j ∈ Ξs there is an element y such that Zij ⊆ Z≤y    . Therefore
we have a natural injective map
                    Y        M                      YM
             Ka →       lim     KA (Zija
                                         ∩ Z≤y )a =        KA (Zij
                                                                 a
                                                                   )a .
                                   −→ y
                               j          i                          j   i


4.5. Let w T , T ℓ , w P J,k be as in 2.5, 2.6, and 2.10. Recall that u0 = uJ , see 2.9,
4.3. There is an isomorphism
          w
              P J,k ×GJ ṄJ → w T k0 ,        [g · UJ : gJ · (x + uJ , b)] 7→ [g · gJ : x + uJ ]

where g ∈ Uk− \ w G, gJ ∈ GJ , and x ∈ u. The composed map
                       w
(4.5.1)                    P J,k ×GJ ZJ → w P J,k ×GJ (ṄJ )2 → (w T k0 )2

is an immersion.
Lemma. Let y ∈ WJ .
  (i) (4.5.1) restricts to an isomorphism w P J,k ×GJ ZJ,≤y → w Z≤y
                                                                 k0
                                                                    .
       w kℓ                w kℓ
  (ii) Z≤y is closed in Z≤wJ .
Proof: Observe that w Z≤y      k0
                                  is a GJ -subscheme of (w T k0 )2 by Proposition 4.3.(i).
The immersion (4.5.1) takes [g · UJ : gJ · (x + uJ , by−1 , b)] to ([g · gJ ẏ −1 : ẏ(x) +
uJ ], [g · gJ : x + uJ ]) for any x ∈ by−1 ∩ b. Hence w P J,k ×GJ ZJ,y surjects to w Zyk0 ,
yielding (i). Claim (ii) is immediate because the natural projection w Z≤y    kℓ
                                                                                  → w Z≤yk0

is a vector bundle, see 4.3, and w Z≤y   k0
                                             is closed in w Z≤w
                                                             k0
                                                                J
                                                                  by (i).                 ⊓
                                                                                          ⊔

  The ⋆-product on KA (w Z≤w     k0
                                     J
                                       ) relative to w P J,k ×GJ (ṄJ )3 makes sense, see
(A.4.1), because w X J,k is smooth. Let pk2 k1 denote also the obvious projection
w J,k2
 P      → w P J,k1 . It is a smooth map. Set
                                                                 k2 k1 ∗
                      KA (w Z≤w0                A w k0
                                                                         
                                 J
                                   ) =  lim   K   ( Z ≤w J
                                                           ), (p Z J
                                                                      )    ,
                                               −→ k
18                                    ERIC VASSEROT

          k2 k1
where pZ    J
                = (pk2 k1 )ZJ , see (A.4.4).
   On the other hand, we endow KA ((w Z≤w          0
                                                     J
                                                       )a ) with the ⋆-product relative to
((w T 0 )a )3 . This is possible, since if k is large then (w T k0 )a ≃ (w T 0 )a by Lemma
2.13.(vi). Thus (w Z≤w    0
                             J
                               )a is a scheme of finite type and KA ((w Z≤w  0
                                                                                J
                                                                                  )a ) is well-
defined, without any use of direct or inverse limit, see 1.4. Moreover (w Z≤w         0
                                                                                         J
                                                                                           )a is
               w 0 a 2         w 0 a
closed in (( T ) ) and ( T ) is smooth, see Proposition 4.3, hence the ⋆-product
is well-defined. The concentration map

(4.5.2)                     KA (w Z≤w
                                   k0
                                       ) → KA ((w Z≤w
                                      J a
                                                   0
                                                      J
                                                        )a )a

relative to w P J,k ×GJ (ṄJ )2 commutes with ⋆, see (A.4.3).
Lemma. (iii) ⋆ factorizes through a product on KA (w Z≤w
                                                      0
                                                         J
                                                           ).
  (iv) (4.5.2) factorizes through a ring isomorphism

                         ca : KA (w Z≤w
                                     0
                                         ) → KA ((w Z≤w
                                        J a
                                                     0
                                                        J
                                                          )a )a .

Proof: Immediate by (A.4.4). Note that KA ((w Z≤w    0
                                                       J
                                                         )a ) is also the direct limit
lim KA ((w Z≤w
            k0
               J
                 )a ), because the limit stabilizes.                                ⊓
                                                                                    ⊔
−→ k

Remark. We do not use a ⋆-product on KA (w Z≤wkℓ
                                                 J
                                                   ) relative to (w T kℓ )3 , because
the scheme w X k may be not separated, see Remark 4.2.(ii).
4.6. Following [KT2, 2.2], for any λ ∈ X we define H-equivariant invertible sheaves
w k
 Lλ on w X k whose local sections are

          Γ(U ; w Lkλ ) = {f ∈ Γ((pk π)−1 (U ); OG ) ; f (ugb) = f (g)b−λ , ∀u, g, b},

where (u, g, b) ∈ Uk− × (pk π)−1 (U ) × B. Let w Lkℓ                            w k
                                                  λ denote also the pull-back of Lλ
                                                             ×
to w T kℓ . The sheaves w Lkℓ
                           λ are made A-equivariant with Cq acting trivially. Set

                  KH (X ) = lim KH (w X ),       KA (T ) = lim KA (w T ),
                              ←− w                            ←− w

where

KH (w X ) = lim (KH (w X k ), pk2 k1 ∗ ),    KA (w T ) = lim        (KA (w T kℓ ), pk2 k1 ∗ , p∗ℓ2 ℓ1 ),
               −→ k                                        −→ k,ℓ


see A.5. Let w Lλ ∈ KH (w X ), KA (w T ) be the element representing the systems of
sheaves (w Lkλ ) and (w Lkℓ
                         λ ) respectively. Let Lλ ∈ KH (X ), KA (T ) be the element
representing the system of sheaves (w Lλ ).
   For a future use, we set also

                KH (X s ) = lim KH (w X s ),     KA (T a ) = lim KA (w T a ).
                             ←− w                              ←− w



Remark. Let Lλ be the pull-back to T of the H-equivariant invertible sheaf on
X whose local sections on U are {f ∈ Γ(π −1 (U ); OG ) ; f (gb) = f (g)b−λ, ∀(g, b) ∈
π −1 (U ) × B}. Then the inverse image of w Lkℓ                  w
                                             λ by the projection T → T
                                                                         w kℓ
                                                                              equals
               w
Lλ | T . Thus Lλ and Lλ are well-defined.
    w
                                                                                          19

4.7. Fix λ, λ′ , λ′′ ∈ X such that λ = λ′ +λ′′ . Let Dλ be the restriction of Lλ′ ⊠Lλ′′
to Z1 , and w Dλkℓ be the restriction of w Lkℓ    w kℓ      w kℓ         w kℓ
                                            λ′ ⊠ Lλ′′ to Z1 . Since Z1 is closed
in Z≤wJ by Lemma 4.5.(ii), we may view Dλ as an element in KA (w Z≤w
   w kℓ                                          w k0                             k0
                                                                                     J
                                                                                       ).
We have
                                 k2 k1 ∗ w k1 0
                               (pZ J
                                      ) ( Dλ ) = w Dλk2 0 .

Let w Dλ0 represent the system (w Dλk0) in KA (w Z≤w    0
                                                            J
                                                              ).
    Assume that λ = −αi with i ∈ J , and that (λ : α∨     ′              ′′  ∨
                                                                 i ) = (λ : αi ) = −1. Let
                               −1
Di be the restriction of q Lλ′ ⊠ Lλ′′ to Z̄si = Zsi ∪ Z1 . The set (w Z̄si )kℓ =
(pkℓ × pkℓ )(Z̄si ∩ (T × w T )) is closed in w Z≤w
                                                kℓ
                                                   J
                                                     (as for Lemma 4.5.(ii)). Let w Dikℓ
be the restriction of q −1 (w Lkℓ     w kℓ       w      kℓ
                                 λ′ ⊠ Lλ′′ ) to ( Z̄si ) . We have

                                    k2 k1 ∗ w k1 0
                                  (pZ J
                                         ) ( Di ) = w Dik2 0 .

Let w Di0 ∈ KA (w Z≤w
                    0
                       J
                         ) represent the system (w Dik0) in KA (w Z≤w
                                                                    0
                                                                      J
                                                                        ).
   Let pa : T → (T ) be the restriction of the vector bundle p0 : T → T 0 in
               a       0 a

2.6 to the fixed point subsets. The map ♯ pa : KA ((w Z≤w 0
                                                            J
                                                              )a )a → KA (w Z≤w
                                                                             a
                                                                                 ) is
                                                                                J a
                           ♯     w 0                  ♯     w 0
invertible. Put Dλ,a = ( pa ca ( Dλ )) and Di,a = ( pa ca ( Di )) in Ka,≤wJ , where
ca is as in Lemma 4.5.(iv). Let Dλ,a , Di,a denote also their images in Ka by the
obvious map.
Lemma. Dλ,a , Di,a do not depend on the choice of λ′ , λ′′ , or J .
Proof: The independence on λ′ , λ′′ is proved as in [L2, 7.19]. We prove the inde-
pendence on J for Dλ,a only. The case of Di,a is similar. Assume that J1 ⊂ J2 ( I,
and that w ∈ W J2 wJ2 . Fix i = 1 or 2. Given uℓ = εℓ · uJi , we write w Tikℓ for w T kℓ ,
and w Zi,≤y
        kℓ
            for w Z≤y
                   kℓ
                      . Both schemes depend on Ji because the ideal uℓ depends on
          w kℓ
it. Write Lλi for the element w Lkℓ         w kℓ         w kℓ
                                  λ in KA ( Ti ), and Dλi for the element Dλ
                                                                                  w kℓ
     A w kℓ
in K ( Zi,≤wJ ). The pro-objects
                1



                       (w T1kℓ , pk2 k1 , pℓ2 ℓ1 ),   (w T2kℓ , pk2 k1 , pℓ2 ℓ1 )

are isomorphic, see 2.6 and A.5, and the systems (w Lkℓ        w kℓ
                                                     λ1 ) and ( Lλ2 ) yield the same
                w
element in KA ( T ). Hence the ind-objects

                                    k2 k1 ∗                                 k2 k1 ∗
               KA (w Z1,≤w
                      k0
                                                       KA (w Z2,≤w
                                                              k0
                                                                                   
                           J1
                              ), (p Z J
                                         )    ,                    J1
                                                                      ), (p Z J
                                                                                 )    ,
                                           1                                        2



are isomorphic, and the systems (w Dλ1  k0
                                           ) and (w Dλ2
                                                     k0
                                                        ) yield the same element w Dλ0
in KA (w Z≤w
          0
              J1
                 ). See A.5 for generalities on pro-objects and ind-objects. Remark
that pa ◦ ca : KA (w Z≤w
     ♯                  0
                             ) → KA (w Z≤w
                           J1 a
                                            a
                                                ) depends a priori on the choice of J
                                              J1 a

(=J1 or J2 ). A direct computation yields

                      ♯
                          pa ca (w Dλ0 )   = ♯ pa ca ((C ⊠ w Lk0
                                                               λ )|w Z1k0 ),
(4.7.1)                                      ♯
                                           = pa ((C ⊠ Lλ )|(w Z10 )a ),
                                           = (C ⊠ Lλ )|w Z1a .

Hence the element (♯ pa ca (w Dλ0 )) in Ka does not depend on this choice indeed. ⊓
                                                                                  ⊔
20                                   ERIC VASSEROT

4.8. The C-linear map RH → K(X ) such that xλ 7→ Lλ is not surjective. Let
w
  βs : RH → KH (w X s )s be the unique C-linear map taking xλ to Lλ |w X s . Let
Iw,s ⊂ RA be the ideal generated by Ker (w βs ) and q − ζ, and let Ia ⊂ RA be the
ideal generated by q − ζ and {f − f (s) ; f ∈ (RH )Ws }, where Ws is as in 2.2. If
                                   ′
w′ ≤ w then Iw,s ⊆ Iw′ ,s because w X s ⊂ w X s . Set R̂a = lim RA /Iw,s . Let W (a)
                                                                 ←− w
be the W -orbit of a.
Lemma. (i) w βs is a surjective ring homomorphism.
   (ii) The RA -algebras R̂a , b∈W (a) RA /Ib , and KA (T a )a are isomorphic.
                              Q

   (iii) The assignement Lλ |T a 7→ Dλ,a , with λ ∈ X, extends uniquely to a C-
algebra isomorphism (KA (T a )a , ⊗) → (Ka,≤1 , ⋆).
Proof: The map w βs is a ring homomorphism. We must prove that it is surjective.
The G-action on B restricts to a Gs -action on Xis , and the Gs -schemes Xis are
isomorphic to the flag variety of the connected reductive group Gs , see Lemma 2.13.
Hence the ring homomorphism RH → KH (Xis )s taking xλ to Lλ |Xis is surjective.
It takes the element t = xδ to τ . The RHS is a finite dimensional algebra. Hence it
is the ring of functions of a finite length subscheme ξi ⊂ H ′ × {τ }. It is sufficient to
prove that the supports of the schemes ξi are disjoint. Since KH (Xis )s is isomorphic
to the De Rham cohomology ring of Xis , it is Z≥0 -graded with a one-dimensional
zero component. Thus ξi has a punctual support. Let |ξi | ∈ H ′ × {τ } denote the
support of ξi . Each connected component Xis contains an element bw for some
w ∈ W . We have |ξi | = w−1 (s) whenever bw ∈ Xis . The group W is the quotient of
NGKM (H ′ ) by H ′ , and the NGKM (H ′ )-action on H by conjugation coincides with
the W -action. Hence if w1−1 (s) = w2−1 (s), then bw1 = adg (bw2 ) for some element
g ∈ Gs , and, thus, bw1 , bw2 belong to the same connected component of X s by
Lemma 2.13.(i). This proves (i).
    Using (i) we get KH (X s )s = lim RH /Ker (w βs ). Hence KA (T a )a = R̂a be-
                                      ←− w
cause ρ restricts  to a vector bundle w T a → w X s , see Lemma 2.13. By definition
KH (X s )s = i∈Ξs KH (Xis )s . Since Xis is isomorphic to the flag variety of Gs ,
               Q

the RH -algebra KH (Xis )s is isomorphic to RH /(f − f (w(s)) ; f ∈ (RH )Ww(s) ), see
                                                              w(s)
Lemma 2.13 again, where w ∈ W is such that b ∈ Xi                  . This proves (ii).
   Let us prove (iii). The variety T is smooth, hence KA (w T a ) ≃ KA (w T a ). The
                                   w a

second projection w Z1a → w T a is an isomorphism, hence KA (w T a ) ≃ KA (w Z1a ).
The composed isomorphism KA (w T a ) → KA (w Z1a ) takes the tensor product to ⋆.
It takes also Lλ |w T a to (C ⊠ Lλ )|w Z1a , i.e. to ♯ pa ca (w Dλ0 ) by (4.7.1). The unicity
in (iii) follows from (ii).                                                                 ⊓
                                                                                            ⊔

4.9. ForQany y the space Ka,≤y is endowed with the topology induced by the
product w KA (w Z≤ya
                      )a , where each term is given the discrete topology. The ring
Ka is endowed with the smallest topology such that the natural maps Ka,≤y → Ka
are continuous. Recall that a representation M of a topological ring A is smooth
if for any m ∈ M the subset {x ∈ A ; x(m) = 0} is open.
Theorem. (i) There is a unique ring homomorphism Ψa : H → Ka such that
ti 7→ −1 − qDi,a , and xλ 7→ Dλ,a .
    (ii) Ka,≤y is a free right Ka,≤1 -module of rank ℓ(y) with basis (Ψa (ty′ ) ; y ′ ≤ y).
    (iii) For any closed subgroup D ⊂ A the forgetful map KA (Z≤y  a
                                                                      ) → KD (Z≤y    a
                                                                                       ) is
an isomorphism.
                                                                                  21

   (iv) A smooth and simple Ka -module pulls-back to a simple H-module. Non-
isomorphic smooth Ka -modules pull-back to non-isomorphic H-modules.
Proof of (i): The group GJ is connected with a simply connected derived group.
                                                   ×
Thus there is a ⋆-homomorphism HJ → KGJ ×Cq (ZJ ) such that ti 7→ −1 − qDi ,
                                ×
xλ 7→ Dλ , and Dλ , Di ∈ KGJ ×Cq (ZJ ) are as in 4.7, see [L2, Theorem 7.25]. There-
fore, due to Lemma 3.2 and Lemma 4.7, in order to prove (i) it is sufficient to
                                            ×
construct a ⋆-homomorphism ΘJ : KGJ ×Cq (ZJ ) → Ka such that ΘJ (Dλ ) = Dλ,a
and ΘJ (Di ) = Di,a . To do so we first construct, for each w, a map
                                      ×
                      w
                          ΘJ : KGJ ×Cq (ZJ ) → KA (w Z≤w
                                                      a
                                                          )
                                                         J a

                                          ′    ′
such that w ΘJ commutes with ⋆ and hw w ◦ w ΘJ = w ΘJ for each w, w′ . Then we
                                             ×
compose the resulting ⋆-homomorphism KGJ ×Cq (ZJ ) → Ka,≤wJ with the natural
map Ka,≤wJ → Ka .
  (a) Let ϕk : w P J,k ×ZJ → ZJ , ψk : w P J,k ×ZJ → w P J,k ×GJ ZJ be the obvious
                                                ×
projections. Set Γk = (ψk∗ )−1 ◦ (ϕk )∗ : KGJ ×Cq (ZJ ) → KA (w Z≤w
                                                                 k0
                                                                    J
                                                                      ), see 4.5. We
                                                            ×
have (pkZ2Jk1 )∗ ◦ Γk1 = Γk2 . Hence we get a map Γ : KGJ ×Cq (ZJ ) → KA (w Z≤w
                                                                             0
                                                                                J
                                                                                  ).
  (b) Let ca : KA (w Z≤w
                       0
                            ) → KA ((w Z≤w
                           J a
                                        0
                                           J
                                             )a )a and ♯ pa : KA ((w Z≤w
                                                                      0
                                                                         J
                                                                           )a )a →
KA (w Z≤w
       a
           ) be as in 4.5, 4.7.
          J a
                                                                ′
  We put w ΘJ = ♯ pa ◦ ca ◦ Γ. The compatibility with hw w is immediate. The
maps Γ, ca , and ♯ pa commute with ⋆ by (A.4.2), (A.4.3), and (A.3.2) respectively.
We have ΘJ (Dλ ) = Dλ,a , because Γk (Dλ ) = w Dλk0 . Similarly ΘJ (Di ) = Di,a . ⊓
                                                                                  ⊔
                                           a
Proof of (iii) : Fix i, j ∈ Ξs such that Zij  ∩ Zy 6= ∅. Composing the projections
                                                     a
Zy → Oy and Oy → X , we get a vector bundle Zij        ∩ Zy → Xjs , see Lemma 2.14
and Lemma 4.2. Similarly, composing the projections Z≤y → O≤y and O≤y → X ,
                                    a
we get a locally trivial fibration Zij ∩ Z≤y → Xjs , see Proposition 4.3. Moreover
the RD -module KD (Xjs ) is free and KD      s
                                        1 (Xj ) = 0, see Lemma 2.13. Hence

          0 → KD (Zij
                   a
                      ∩ Z<y ) → KD (Zij
                                     a
                                        ∩ Z≤y ) → KD (Zij
                                                       a
                                                          ∩ Zy ) → 0

is an exact sequence of RD -modules by the cellular fibration lemma, and the for-
getful map RD ⊗RA KA (Zija
                            ∩ Z≤y ) → KD (Zij
                                            a
                                              ∩ Z≤y ) is an isomorphism, see [CG,
5.5]. Therefore

                   0 → KD (Z<y
                            a
                               ) → KD (Z≤y
                                        a
                                           ) → KD (Zya ) → 0

is an exact sequence of RD -modules, and the forgetful map RD ⊗RA KA (Z≤y
                                                                       a
                                                                          )→
   D   a
K (Z≤y ) is an isomorphism, see Remark 4.4.                                ⊓
                                                                           ⊔

Proof of (ii) : Set D = A. Then

(4.9.1)             0 → KA (Z<y
                             a
                                )a → Ka,≤y → KA (Zya )a → 0

is an exact sequence of C-vector spaces. The 2-nd map is a morphism of right
Ka,≤1 -modules, relatively to ⋆. Let Ka,≤1 act on KA (Zya )a so that

                              E ⋆ Dλ,a = E ⊗ (C ⊠ Lλ ),
22                                     ERIC VASSEROT

see 4.8. Then (4.9.1) is an exact sequence of right Ka,≤1 -modules by (4.7.1). Note
that KA (Zya )a is free of rank one over Ka,≤1 by Lemma 4.8. Therefore Ka,≤y is
free of rank ℓ(y) over Ka,≤1 .
   Fix i1 ∈ I. Assume that y ≥ si1 y. Let
                   θi1 : Ka,≤si1 y → Ka,≤y → Ka,≤y → K(Zya )a
be the composition of the direct image by the natural inclusion, the map E 7→
Di1 ,a ⋆ E, and the restriction to the open subset Zya ⊂ Z≤y   a
                                                                 . Note that Di1 ,a ⋆ E
still lies in Ka,≤y because si1 y ≤ y, see Proposition 4.4.(i).
    The map θi1 commutes with the right Ka,≤1 -action. We have Ψa (H≤y ) ⊂ Ka,≤y
by an easy induction on ℓ(y). Moreover Ka,≤y is free of rank ℓ(y) over Ka,≤1 .
Therefore it is sufficient to prove that θi1 is surjective.
    There are invertible elements R, S ∈ KA (T a )a such that the restriction of Di1 ,a
to the open subset Zsai1 ⊂ Z̄sai1 is (R ⊠ S)|Zsa . The C-vector space KA (Zya )a is
                                                        i1
spanned by {(R ⊠Lλ )|Zya ; λ ∈ X} by Lemma 4.8.(i), because the second projection
  a
Zij ∩ Zy → Xjs is a vector bundle for each i, j. Hence it is sufficient to check that
(R ⊠ Lλ )|Zya lies in the image of θi1 .
   Let U ⊂ T 3 be open and such that
                            U ∩ (Z̄si × T ) = U ∩ (Zsi × T ),
                         U ∩ (T × Z≤si y ) = U ∩ (T × Zsi y ),
                      −1              −1              −1           −1
                U∩   q12 (Z̄si )   ∩ q23 (Z≤si y ) = q12 (Zsi ) ∩ q23 (Zsi y ),
                           −1
see [L2, 8.3]. Put E = (S      ⊠ Lλ )|Z≤s
                                       a            . Then
                                             i1 y


                 θi1 (E) = q13∗ ((R ⊠ S ⊠ C) ⊗U a (C ⊠ S −1 ⊠ Lλ )).
The schemes U ∩ (Zsi1 × T ), U ∩ (T × Zsi1 y ) intersect transversally along Zy . Hence
θi1 (E) = (R ⊠ Lλ )|Zya .                                                            ⊓
                                                                                     ⊔
Proof of (iv): Let w Ψa : H → KA (w Z a )a be the composition of Ψa and the
restriction. The restriction of w Ψa to the subring RH ⊂ H is the composition
of w βs , the pull-back by the vector bundle w T a → w X s , and the isomorphism
KA (w T a )a → KA (w Z1a )a in Lemma 4.8. Hence it yields a ring isomorphism
RA /Iw,s → KA (w Z1a )a . Taking the limit over w, we get an isomorphism of topo-
logical rings Ψ̂a : R̂a → Ka,≤1 . Set Ĥa = H ⊗RA R̂a , and Ĥa,≤y = H≤y ⊗RA R̂a .
By (ii) there is a unique isomorphism of topological vector spaces Ĥa,≤y → Ka,≤y
such that x ⊗ f 7→ Ψa (x) ⋆ Ψ̂a (f ). Let Ψ̂a denotes also the resulting isomorphism
Ĥa → Ka .
   Let M be a smooth Ka -module. Then Ψa (Ra )(m) = Ka,≤1 (m) for any ele-
ment m ∈ M. Thus Ψa (H)(m) = Ka (m). In particular Ψa (M) is simple if M
is simple. This yields the first part of (iv). The second part is obvious because
an H-isomorphism of smooth Ka -modules is a linear isomorphism which commutes
with the action of the subring Ψa (H) ⊂ Ka , hence with the action of Ka by density
(Ψa (H) ⊂ Ka is dense, and the Ka action on a smooth module is continuous). We
are done.                                                                          ⊓
                                                                                   ⊔

Remark. Probably w Ker (w βs ) = (t − τ ). Then the natural ring homomorphism
                      T

Rτ,ζ → R̂a would be injective, and the proof of Theorem 4.9.(iv) would imply that
Ker (Ψa ) = (t − τ, q − ζ) ⊂ H. We will not use this statement.
                                                                                        23

                                5. Induced modules
   Sections 5.1 to 5.3 contain definition and basic properties of a set Sφ . The group
KA (Sφa ) and the Ka -action on KA (Sφa ) is given in 5.4. Sections 5.5, 5.7 contain
basic properties of KA (Sφa ). The induction theorem is proved in 5.6, 5.8. The
arguments are adapted from [L3].

5.1. Let gKM ⊂ g be the Lie algebra of GKM , see 2.2. Given a sl2 -triple φ =
{e, f, h} ⊂ gKM , let gφ be the linear span of {e, f, h}. It is a reductive Lie sub-
algebra of gKM by [KcP, Proposition 3.4]. Hence it can be conjugated to gJ for
some J ( I by [KcP]. In particular there is a unique connected algebraic subgroup
Gφ ⊂ GKM with Lie algebra gφ in the sense of [KcW, 2.11], by [KcW, Lemma
2.13 and Proposition 2.14]. Let φ : SL2 → Gφ denote also the homomorphism
of algebraic groups whose tangent map at 1 takes ( 00 10 ) to e and ( 01 00 ) to f . Set
           z   0
φ(z) = φ( 0 1/z ) for any z ∈ C× . Let Zφ (G) ⊂ G be the centralizer of Gφ .
    Set Ae = {a ∈ A ; ada e = e, ada f = f }, and Cφ = {(φ(z), z 2 ) ; z ∈ C×q }.
                                                     −1/2     −1
Assume that Cφ ⊂ Ae . If a ∈ Ae we set sφ = a · (φ(ζ      ), ζ ) ∈ Zφ (G), where
ζ 1/2 is a square root of ζ.
    From now on we assume that φ ⊂ g, so that gφ ⊂ g.

5.2. Recall that ♭ B≤y−1 ⊂ w X whenever y ∈ W ♭ , w ∈ W , and w ≥ w♭ y −1 . See 2.9
for the meaning of the symbol ♭, and Lemma 2.3.(ii) for the proof of the inclusion.
Fix k ≫ 0. Then pk yields a closed immersion ♭ B≤y−1 → w X k . We may omit pk
and identify ♭ B≤y−1 with its image in w X k . We set uℓ = εℓ · u♭ , with ℓ ≫ 0.

5.3. Let z(f ) ⊂ g be the centralizer of f , sφ = z(f ) ∩ g + e, and S φ ⊂ Ṅ be the
inverse image of sφ ∩ N by the Springer map. The scheme S φ is smooth.
    Put sφ = z(f )∩b♭ +e. Note that e ∈ b♭ because e ∈ gφ and gφ ⊂ g by hypothesis.
We have sφ ∩ N = sφ ∩ (N + u♭ ), because b♭ ∩ N = N + u♭ . In particular sφ ∩ N
is closed in b♭ . The A-action on g restricts to a Ae -action on sφ .
    Put Sφ,y = Ṅ ∩(sφ × ♭ By−1 ). Then Sφ,y ⊂ w T . Moreover Sφ,y is locally closed. It
is endowed with the induced reduced scheme    S structure. The schemes Sφ,≤y , Sφ,<y
are defined in the obvious way, and Sφ = y Sφ,y , see 2.3. Note that Sφ is contained
in the set Ṅ , which is itself naturaly embedded into the scheme T , see 2.8.
           kℓ
    Put Sφ,y   = {(x + uℓ , p) ∈ w T kℓ ; (x, p) ∈ Sφ,y }. Since Sφ,ykℓ    kℓ
                                                                        , Sφ,≤y        kℓ
                                                                                , and Sφ,<y
are locally closed in w T kℓ , see the lemma below, they are naturally subschemes of
  T . They are separated, because they are contained in pkℓ ρ−1 (X≤w♭ y−1 ), and k
w kℓ

is large enough for pk to yield a closed immersion X≤w♭ y−1 → w X k by 5.2.
    Let γykℓ : Sφ,y
                 kℓ
                    → S φ be the map (x + uℓ , p) 7→ (x + u♭ , p! ). The group Ae acts on
  kℓ
Sφ,y , S φ and γ kℓ commutes with the Ae -action. Set also γy = γykℓ ◦ pkℓ : Sφ,y → S φ .
            kℓ                     w
Lemma. (i) Sφ,≤y is closed in          T kℓ , Sφ,y
                                               kℓ              kℓ
                                                   is open in Sφ,≤y .
                   ×       ×                                            ×
          kℓ Cδ      kℓ                                       kℓ
  (ii) (Sφ,y  ) , (Sφ,<y )Cδ are both open and closed in (Sφ,≤y   )Cδ .
  (iii) γykℓ is a Ae -equivariant vector bundle.
                                               k2 ℓ      k1 ℓ
  (iv) pk2 k1 restricts to an isomorphism Sφ,≤y     → Sφ,≤y    , and pℓ2 ℓ1 to a vector
          kℓ2       kℓ1
bundle Sφ,≤y → Sφ,≤y .
  (v) Cφ acts on sφ fixing e, and z 7→ (φ(z), z 2 ) has < 0 weights on sφ − e.
24                                   ERIC VASSEROT

                                                       ×
Proof: Observe that the fixed points subset X Cδ ⊂ X is a disjoint union of closed
G-orbits, see Lemma 2.13.(ii), and that ♭ By−1 , ♭ B<y−1 are preserved by G. Thus
          ×              ×                                    ×                 ×             ×
(♭ By−1 )Cδ , (♭ B<y−1 )Cδ are open and closed in (♭ B≤y−1 )Cδ . Hence (Sφ,y )Cδ , (Sφ,<y )Cδ
                                    ×
are open and closed in (Sφ,≤y )Cδ . This yields (ii), because pk restricts to a closed
immersion ♭ B≤y−1 → w X k by 5.2.
                              kℓ
    As for (i), note that Sφ,≤y   is contained in pkℓ ρ−1 (♭ B≤y−1 ) and that pk restricts
to a closed immersion pℓ ρ−1 (♭ B≤y−1 ) → w T kℓ by 5.2. Thus, to prove that Sφ,≤y      kℓ

is closed in w T kℓ it is enough to check that pℓ (Ṅ ∩ (sφ × ♭ B≤y−1 )) is closed in T ℓ .
This is obvious, as well as the rest of (i). Claim (iv) is also obvious. Claim (v)
follows from the representation theory of sl2 .
                                                      kℓ
    In order to prove (iii) we first prove that Sφ,y       is a smooth scheme. The set
Vy = ġ ∩ (b♭ × By−1 ) is a closed subset of b♭ × By−1 containing Sφ,y . Set Vykℓ =
                   ♭                                  ♭

{(x + uℓ , p) ; (x, p) ∈ Vy }. Note that Vykℓ is a smooth scheme because the map ǫ :
Vykℓ → ġ, (x+uℓ , p) 7→ (x+u♭ , p! ) is smooth. Put Vφ,y
                                                        kℓ
                                                             = {(x+uℓ , p) ∈ Vykℓ ; x ∈ sφ }.
                             kℓ
It is a closed subset of Vy such that
                        kℓ                     kℓ
                       Sφ,y = {(x + uℓ , p) ∈ Vφ,y ; x ∈ N + u♭ }.
Let c be the canonical Cartan Lie algebra of g. Recall that c = p/[p, p] for each
p ∈ B and that c is independent on the choice of p, up to a canonical isomorphism,
see [CG, Lemma 3.1.26]. The map δ : ġ → c, (x, p) 7→ x + [p, p] is smooth. To
              kℓ
prove that Sφ,y   is smooth it is sufficient to check that the restriction of δ ◦ ǫ to
  kℓ
Vφ,y is smooth because Sφ,y  kℓ      kℓ
                                = Vφ,y  ∩ (δ ◦ ǫ)−1 (0). The element g ∈ B♭ acts on
Vykℓ so that g · (x + uℓ , p) = (adg x + uℓ , adg p). The subgroup Uℓ ⊂ B♭ is normal
and adUℓ by−1 = by−1 . Hence Uℓ acts trivially on ♭ By−1 . Thus B♭ /Uℓ acts on Vykℓ .
The map δ ◦ ǫ is smooth because it is the composition of two smooth maps. It is
constant along the B♭ /Uℓ -orbits. Hence it is sufficient to prove that the map
                   kℓ
(5.3.1)           Vφ,y × B♭ /Uℓ → Vykℓ , (x + uℓ , p; g) 7→ g · (x + uℓ , p)
is smooth. The group SL2 acts on b♭ via φ. The subspace uℓ ⊂ b♭ is a SL2 -
submodule. The representation theory of SL2 implies that
                        b♭ /uℓ = [b♭ /uℓ , e] ⊕ (z(f ) ∩ b♭ + uℓ )/uℓ ,
i.e. (sφ + uℓ )/uℓ is a transversal slice to the B♭ /Uℓ -orbit of e in b♭ /uℓ near e. The
C× -action in (v) descends to (sφ + uℓ )/uℓ . Hence, by (v), the space (sφ + uℓ )/uℓ is
a transversal slice to the B♭ /Uℓ -orbit of e in b♭ /uℓ . In other words the map (5.3.1)
                      kℓ
is smooth. Hence Sφ,y     is smooth.
    Note that ǫ is a A-equivariant vector bundle, with C×       δ acting trivially on the
                          k
base. The fiber of ǫ ◦ pℓ : Vy → ġ containing the element (x1 , p1 ) is
                        {g · (x1 + x, p1 ); (g, x) ∈ U♭ × (u♭ ∩ p1 )}.
Hence     C×
           δ  acts with positive weights on the fibers of ǫ. Since Sφ,y kℓ
                                                                           ⊂ Vykℓ is a
smooth closed C×                                           kℓ
                    δ -subscheme, the restriction of ǫ to Sφ,y is a vector bundle over
     kℓ
ǫ(Sφ,y  ) by the following fact, which follows from [BH, Theorem 9.1] : if f : V → B
is a vector bundle over a smooth variety, with a fiber preserving linear C× -action
with positive weights, and M ⊂ V is a C× -stable smooth closed subvariety, then
M is a sub-bundle of V restricted to f (M ). Finally γykℓ is the restriction of ǫ to
  kℓ            kℓ
Sφ,y  , and ǫ(Sφ,y ) = S φ.                                                          ⊓
                                                                                     ⊔
                                                                                      25

Corollary. Assume that a ∈ Ae .
       a
  (i) Sφ,≤y is closed in w T a , Sφ,y
                                  a               a
                                      is open in Sφ,≤y .
                 ×        ×                                          ×
          a          a                                      a
  (ii) (Sφ,y )Cδ , (Sφ,<y )Cδ are both open and closed in (Sφ,≤y )Cδ .
                                                                  a
  (iii) γy restricts to an Ae -equivariant vector bundle γy,a : Sφ,y   → S aφ .

5.4. From now on D ⊂ Ae is a closed subgroup containing a. For any y ∈ W ♭ the
          a
scheme Sφ,≤y   is of finite type, hence KD (Sφ,≤y
                                             a
                                                  ) makes sense. Given y ′ , y ′′ ∈ W ♭ ,
                                                             −1
w, w′ ∈ W such that y ′′ , w′ are large enough and w ≥ w♭ y ′ , the 1-st projection
                              ′
is a proper map w Z≤y ∩ (w T × Sφ,≤y′ ) → Sφ,≤y′′ (as for Lemma 4.2.(iii)). Thus
there is a ⋆-product

                      KD (w Z≤y
                             a
                                ) × KD (Sφ,≤y
                                         a           D  a
                                              ′ ) → K (Sφ,≤y ′′ )


             ′
relative to w T a × w T a . If y ≤ y ′ the closed immersion Sφ,≤y
                                                             a       a
                                                                  → Sφ,≤y ′ gives a map
          D   a            D    a
hyy : K (Sφ,≤y ) → K (Sφ,≤y′ ). We set
    ′




                          KD (Sφa ) = lim (KD (Sφ,≤y
                                                a
                                                     ), hyy′ ).
                                      −→ y


The ring KD (Z a ) acts on KD (Sφa ) because the map hyy′ commutes with ⋆, see
(A.3.1). This representation is smooth. See 4.9 for the definition of a smooth
module. Using Ψa we get the following.
Proposition. (i) There is a unique H-action on KD (Sφa )a such that −q −1 (ti + 1)
takes E to Di,a ⋆ E, and xλ takes E to Dλ,a ⋆ E.
   (ii) H takes KD (Sφ,1
                      a
                         )a into itself.
5.5. Lemma. (i) K1,top (S aφ ) = 0, and the comparison map K0 (S aφ ) → Ktop (S aφ )
is invertible. The same holds for Sφa .
   (ii) If Cφ ⊂ D and D is generated by D ◦ ∪{a}, then KD (S aφ ) is a free RD -module,
                             a        hai   a                                  a
the forgetful map KD                                                       D
                      top (S φ )a → Ktop (S φ )a and the comparison map K (S φ ) →
   D      a                           D    a                 a
Ktop (S φ ) are invertible, and dim K (S φ )a = dim Ktop (S φ ). The same holds for
Sφa .
                                              ν
    (iii) The natural sequence KD (Sφ,<y
                                      a
                                           )→KD (Sφ,≤y
                                                     a
                                                         ) → KD (Sφ,y
                                                                   a
                                                                      ) → 0 is exact.
           ×                               ◦
If Cφ , Cδ ⊂ D and D is generated by D ∪ {a}, then ν is injective.
Proof: We say that a variety X has property (SQ ) if K1,top (X ) = 0, and the
comparison map K0 (X ) → Ktop (X ) is an isomorphism. Recall that a C× -action
on X is a contraction to the subset Y ⊂ X if limz→0 z · x ∈ Y for all x ∈ X , or
limz→∞ z · x ∈ Y for all x ∈ X . Using the Bialynicki-Birula decomposition we get
the following, see [DLP, Section 1].
Claim 1. Let X be a smooth quasi-projective C× -variety. Assume that the C× -
                                                        ×
action is a contraction to a compact subset and that X C has property (SQ ), then
X has property (SQ ).
Recall that a ∈ Ae and e ∈ sφ . Set B se = B e ∩ B s . Then S aφ ∩ B e = B se , where
B e is viewed as a subset in the fiber at e of the Springer map S φ → sφ . The
Cφ -action on S aφ preserves B se , and (Bse )Cφ = (Bseφ )Cφ with sφ as in 5.1. Since sφ
and e commute, each connected component of Bseφ is isomorphic to the variety of
26                                  ERIC VASSEROT

Borel subgroups of Gsφ containing e. Hence (Bseφ )Cφ has property (SQ ) by [DLP].
Thus S aφ has property (SQ ), because the Cφ -action on S aφ is a contraction to B se and
(S aφ )Cφ = (B seφ )Cφ . The proof for Sφa is identical because Gsφ is a reductive group.
(i) is proved.
                                                                                ′
    Given a linear group H, we say that a variety X has property (TH ) if KH  1,top (X ) =
          ′
                                                                 H′          H′
0, KH   top (X ) is a free RH ′ -module, the comparison map K (X ) → Ktop (X ) is an
                                                                      ′
isomorphism, and the forgetful map KH (X ) ⊗RH RH ′ → KH (X ) is an isomor-
phism, for any closed subgroup H ′ ⊂ H. Observe that if X has the property
(SQ ) and H acts trivially on X , then X has also the property (TH ), because
      ′
                                        H′                                       ′
KH0 (X ) = RH ′ ⊗ K0 (X ) and Ki,top (X ) = RH ′ ⊗ Ki,top (X ) for any H . Using
the Bialynicki-Birula decomposition we get the following equivariant annalogue of
Claim 1, see [N, 7.1] for instance.
Claim 2. Given a diagonalizable group H, a one-parameter subgroup C× ⊂ H,
and a smooth quasi-projective H-variety X such that the C× -action on X is a
                                       ×
contraction to a compact subset, if X C has property (TH ) then X has property
(TH ).
                                                                                        ×
Fix a one-parameter subgroup ψ : C× → D ◦ in general position so that (S aφ )Cψ =
        ◦
(S aφ )D , and such that the C×              a                       s
                              ψ -action on S φ is a contraction to B e (this is possible
                                                                           ×
by Lemma 5.3.(v) because Cφ ⊂ D ◦ ). Then D acts trivially on (S aφ )Cψ , because D
                                                       ×           ×                ×
is generated by D ◦ ∪ {a}. On the other hand (S aφ )Cψ = (Bseφ )Cψ . Hence (S aφ )Cψ has
the property (SQ ) by [DLP]. Thus it has the property (TD ) by the remark above.
Hence S aφ has the property (TD ). The proof for Sφa is identical.
    The first part of (iii) follows from the localization long exact sequence and
Corollary 5.3.(i). The second one follows by induction on y from (ii), Corollary
5.3.(ii), (iii), and the following general fact.
Claim 3. Let H be a diagonalizable group, X a H-variety, Y ⊂ X a closed subset
                                                              ×     ×      ×
preserved by the H-action, C× ⊂ H a subgroup such that Y C , X C \ Y C ⊂
   ×
X C are open and closed. If the RH -module KH (Y) is free then the natural map
KH (Y) → KH (X ) is injective.
Let ν be the map KH (Y) → KH (X ). In any connected component Hi ⊂ H we can
                                      ×
fix an element hi such that X hi ⊂ X C . Using the concentration theorem and the
natural commutative square

                                               0
                           KH    hi   hi
                            1 (X  \ Y )      −→ KH (Y
                                                     )
                                                       hi
                                 y                  y
                             KH
                              1 (X \ Y)       −→     KH (Y),

we prove that for any x ∈ Ker (ν) and for any i, there is an element ui ∈ RH \ Jhi
such that ui · x = 0. Since the RH -module KH (Y) is free, we get x = 0. Claim 3
is proved.                                                                      ⊓
                                                                                ⊔

     From now on we assume that Cφ , C×                                 ◦
                                      δ ⊂ D and that D is generated by D ∪ {a}.

5.6. The group KD (S φ ) is endowed with the H-action in [L3, Proposition 4.4].
The ring H acts also on KD (Sφ,1
                              a                                               k0
                                 )a by Proposition 5.4.(ii). Note that S φ ≃ Sφ,1
                                                                                             27

                                                                                 w♭
because k is large. In particular S φ is identified with a closed subset in           T k0 . Let

                                 c̃a : KD (S φ )a → KD (S aφ )a

be the concentration map relative to w♭ T k0 , i.e. the map (A.3.3) with Z ⊂ T1 × T2
equal to S φ , T1 = w♭ T k0 , and T2 = {•}. Set Θ̃♭ = (γ1,a )∗ ◦ c̃a , where γ1,a is the
value of γy,a at y = 1, see Corollary 5.3.
Lemma. Θ̃♭ is an isomorphism of H-modules KD (S φ )a → KD (Sφ,1
                                                            a
                                                                )a .
Proof: Θ̃♭ is invertible because γ1,a is an vector bundle, see Corollary 5.3. Let
                  ×
Ψ : H → KG×Cq (Z) be the ring homomorphism in [L2, Theorem 7.25]. The
H-action on KD (S φ ) is the composition of Ψ and the ⋆-product

                                KD (Z) × KD (S φ ) → KD (S φ )
              2
relative to Ṅ . The H-action on KD (Sφ,1
                                        a
                                           ) is the composition of Ψa and the ⋆-
product
                             a
                     KD (w♭ Z≤w ♭
                                  ) × KD (Sφ,1
                                           a
                                               ) → KD (Sφ,1
                                                        a
                                                            )
relative to (T a )2 . Let Θ♭ , ca , Γ and pa be as in 4.9. We must prove that the
diagram
                          ×
                     KG×Cq (Z)     × KD (Sφ )a −→ KD (Sφ )a
                       Θ♭ y                Θ̃♭ y            Θ̃♭ y
                          a
                  KD (w♭ Z≤w ♭
                               )a     × KD (Sφ,1
                                             a
                                                 )a        −→ KD (Sφ,1
                                                                   a
                                                                       )a
is commutative. Recall that
                  w♭
                       T k0 ≃ w♭ P ♭,k ×G Ṅ ,   w♭    k0
                                                      Z≤w ♭
                                                            ≃ w♭ P ♭,k ×G Z.

We can complete the diagram as follows
                            ×
                   KG×Cq (Z)          ×    KD (S φ )a      −→     KD (S φ )a
                      Γy                        k                      k
                           k0
                  KD (w♭ Z≤w  )        ×    KD (S φ )a      −→     KD (S φ )a
                           ♭ a                                         
                       ca y                   c̃a y                  c̃a y
               KD ((w♭ Z≤w0
                             )a )      ×    KD (S aφ )a     −→     KD (S aφ )a
                           ♭ a                                        
                     ♯
                       pa y                   p∗
                                               a
                                                 y                   p∗
                                                                      a
                                                                        y
                          a
                  KD (w♭ Z≤w ♭
                               )a      ×    KD (Sφ,1
                                                 a
                                                     )a     −→ KD (Sφ,1
                                                                    a
                                                                        )a .

Note that γ1,a equals pa . The intermediate horizontal maps are the ⋆-products
                            2
relative to w♭ P ♭,k ×G Ṅ and ((T 0 )a )2 .
   We have Γ(E) ⋆ F = E ⋆ F by (A.4.2), ca (E) ⋆ c̃a (F ) = c̃a (E ⋆ F ) by (A.4.3),
and ♯ pa (E) ⋆ p∗a (F ) = p∗a (E ⋆ F ) by (A.3.2). Hence the diagram is commutative. ⊓
                                                                                     ⊔
5.7. Fix y ∈ W ♭ and i ∈ I with si y < y. Hence si y ∈ W ♭ . Let

         σi : KD (Sφ,≤s
                   a
                         ) → KD (Sφ,≤y
                       iy a
                                  a
                                       )a → KD (Sφ,≤y
                                                 a
                                                      )a → KD (Sφ,y
                                                                a
                                                                    )a

be the composition of the direct image, of the map E 7→ Di,a ⋆ E, and of the
restriction.
28                                     ERIC VASSEROT

Lemma. σi is surjective.
Proof: We have KD (Sφ,<s
                       a
                               ) ⊂ Ker (σi ), because Ψa (ti )⋆KD (Sφ,≤y
                             iy a
                                                                    a            D  a
                                                                         ′ )a ⊂ K (Sφ,≤y ′ )a

whenever si y ′ w♭ < y ′ w♭ . The map σi factorizes uniquely through a map σi′ :
KD (Sφ,s
      a
          ) → KD (Sφ,y
        iy a
                       a
                           )a by Lemma 5.5.(iii). We have the map

                              (γy,a )∗ : KD (S aφ )a → KD (Sφ,y
                                                            a
                                                                )a .

It suffices to prove that σi′ ◦ (γsi y,a )∗ and (γy,a )∗ have the same image, because
(γsi y,a )∗ and (γy,a )∗ are invertible by Corollary 5.3. Fix w, w′ with w ≥ y −1 si
                                                                ′
and w′ large enough. Hence Sφ,≤si y ⊂ w T and Sφ,≤y ⊂ w T . Fix an open subset
        ′
U ⊂ w T × w T such that

                            U ∩ Zsi = U ∩ Z̄si ,
                            w
                              Zsi ∩ (T × Sφ,si y ) ⊂ U ∩ Zsi ,
                            U ∩ (T × Sφ,≤si y ) = U ∩ (T × Sφ,si y ).

The map p 7→ p! is B♭ -equivariant and takes bw to b for all w ∈ ♭ W . Hence
p!i = p! whenever pi = adg (by−1 si ), p = adg (by−1 ), and g ∈ B♭ . Thus we have the
commutative diagram
             w                               ι                                 q2
                 Z̄sai ∩ (T a × Sφ,≤s
                                 a
                                     iy
                                        )   ←−    w
                                                      Zsai ∩ (T a × Sφ,s
                                                                     a
                                                                        iy
                                                                           )       a
                                                                               −→ Sφ,s
                                                                                 iy
(5.7.1)                     y                                 q1 y                yγs y
                                                                                        i
                                                                               γy
                         a
                        Sφ,≤y               ←−                a
                                                             Sφ,y              −→   S aφ .

Given an equivariant sheaf E on S aφ , pick Fi ∈ KD (Sφ,≤sa
                                                                ) whose restriction to
                                                             iy a
  a                  ∗              D   a
Sφ,si y is (γsi y,a ) (E). Let F ∈ K (Sφ,≤y )a be the direct image of Fi . As in 4.9
                                         ′
we fix invertible elements Ri ∈ KD (w T a )a and Si ∈ KD (w T a )a such that the
restriction of Di,a to w Zsai is (Ri ⊠ Si )|w Zsa . Since the left square in (5.7.1) is
                                                 i
Cartesian we have
          σi (Si−1 ⊗ Fi )     = q1∗ ι∗ (Di,a ⊗ (C ⊠ (Si−1 ⊗ F )))
                              = q1∗ ((Ri ⊠ Si ) ⊗U a (C ⊠ (Si−1 ⊗ (γsi y,a )∗ (E)))).

The map q1 in (5.7.1) is an isomorphism. The varieties U ∩Zsai and U ∩(T ×Sφ,si y )a
                                              a
are smooth and intersect transversally along Sφ,y . Hence, σi (Si−1 ⊗ Fi ) = q1∗ (Ri ⊠
(γsi y,a )∗ (E))|Sφ,y
                  a . We are done.                                                   ⊓
                                                                                     ⊔

5.8. Let Υ : Hτ,ζ ⊗Hζ KD (S φ )a → KD (Sφa )a be the linear map such that x ⊗ y 7→
Ψa (x) ⋆ Θ̃♭ (y).
Theorem. (i) Υ is invertible.
                                      hai
   (ii) The natural map KD (Sφa )a → Ktop (Sφa )a is an isomorphism. The same holds
for S aφ .
Proof: The map Υ is a H-homomorphism by Lemma 5.6. Let us prove that it is
invertible. For any y ∈ W ♭ the subspace H≤yw♭ ⊂ Hτ,ζ is a free right Hζ -submodule
of rank ℓ(y), see 3.1. We claim that Υ restricts to a surjective map

                        Υy : H≤yw♭ ⊗Hζ KD (S φ )a → KD (Sφ,≤y
                                                         a
                                                              )a .
                                                                                    29

The existence and invertibility of Υ1 follows from Lemma 5.6. Assume that ℓ(y) > 0
and that Υy′ is defined and surjective for all y ′ ∈ W ♭ such that y ′ < y. We can
find i ∈ I such that ℓ(si y) = ℓ(y) − 1. Then si y ∈ W ♭ . We get
    Υy H≤yw♭ ⊗Hζ KD (S φ )a = {1, Ψa (ti )} ⋆ Υsi y H≤si yw♭ ⊗Hζ KD (S φ )a =
                                                                           

                   = {1, Ψa (ti )} ⋆ KD (Sφ,≤s
                                          a
                                                ) = KD (Sφ,≤y
                                              iy a
                                                         a
                                                              )a ,
where the second equality comes from the surjectivity of Υsi y , and the third from
Lemma 5.7. The claim is proved.
   The map Υy is invertible because H≤yw♭ ⊗Hζ KD (S φ )a and KD (Sφ,≤y   a
                                                                              )a are
finite dimensional vector spaces of the same dimension by Lemma 5.5.(iii) and
Corollary 5.3.(iii). Claim (i) is proved.
   Claim (ii) follows from Lemma 5.5.(ii).                                        ⊓
                                                                                  ⊔

                               6. The regular case
   In 6.1 we give a ring homomorphism Ka → Ext(La , La ). It is injective with a
dense image. The standard modules are introduced in 6.2. In the regular case, the
simple modules of Ext(La , La ) are given in 6.3. In 6.4-7 we compute the Jordan-
Hölder multiplicities of the induced modules.
6.1. The schemes Ṅia in 2.13 are smooth of finite type by Lemma 2.13. They are
preserved by the Gs -action. The Springer map restricts to a Gs -equivariant proper
map p : Ṅia → N a . Set La,i = p! CṄ a ∈ DGs (N a ). By the Beilinson-Deligne-
                                         i         L
Gabber decomposition theorem we have La,i =      ˙   χ La,χ,i ⊗ Sa,χ , where Sa,χ are
simple Gs -equivariant perverse sheaves
                                   L     on  N a
                                                 and  LLa,χ,i are finite dimensional Z-
graded vector spaces. Set La,χ = i La,χ,i , and La =  ˙    χ La,χ ⊗ Sa,χ . Note that La
                                            a
is not well-defined as an object of DGs (N ) because Ξs is infinite. We only use it
as a convenient notation. We shall write {χ} for the set of labels χ parametrizing
the non-zero Z-graded vector spaces La,χ . Observe that La,χ,i may be {0} for some
i, although La,χ 6= {0} by convention.
   Consider the topological ring
                                     YM
                    Ext(La , La ) :=       ExtD(N a ) (La,i , La,j ).
                                        i       j
The product is opposite to the Yoneda product, and the topology is the product
topology. Recall that we have an injective continuous ring homomorphism
                                   YM
(6.1.1)                     Ka →           KA (Zij
                                                 a
                                                   )a ,
                                            j       i

see Remark 4.4. Its image contains i,j∈S KA (Zij
                                              a
                                        L
                                                 )a for all finite subset S ⊂ Ξs .
For each S we have the map
                      M                M
               ΦS :       KA (Zij
                                a
                                  )a →    ExtD(N a ) (La,i , La,j )
                       i,j∈S                    i,j∈S

as in A.2, because   a
                    Zij  = {(x, p; x , p ) ∈ Ṅia × Ṅja ; x = x′ } by Proposition 4.3.
                                    ′       ′
                                                        a      a
Composing ΦS with the direct image by the flip Zij         → Zji  and taking the limit,
we get a continuous ring homomorphism L     Φa : Ka → Ext(La , La ).
   The ring Ext(La , La ) is the sum nilp⊕ χ End(La,χ ), where nilp is an ideal con-
                                                  L
sisting of nilpotent elements. The topology on χ End(La,χ ) is the finite topology,
because for each i there is a finite number of parameters χ such that La,χ,i 6= {0}.
In particular La,χ is endowed with a smooth action of Ext(La , La ).
30                                        ERIC VASSEROT

                                                  L
Lemma. (i) Φa is injective, and Φa (Ka ) contains i,j∈S ExtD(N a ) (La,i , La,j ) for
all S.
   (ii) The set of smooth and simple Ka -modules is {Φ•a (La,χ )}.

Proof: The map (6.1.1) is injective. Hence to prove (i) it is sufficient to prove that
ΦS is invertible for all S. For any y ∈ W the second projection Zya ∩ Zija
                                                                            → Xjs is an
vector bundle by Lemma 4.1.(iv) and Lemma 4.2.(i). Moreover the Chern character
K0 (Xjs ) → H∗ (Xjs ) is an isomorphism because Xjs is isomorphic to the flag variety
of the group Gs . Hence the bivariant Riemann-Roch map RR : K0 (Zij     a
                                                                          ) → H∗ (Zija
                                                                                       )
               a     a
relative to Ṅi × Ṅj is invertible by [CG, Theorem 5.9.19]. The rest is standard,
see A.2.
   The set of smooth and simple Ext(La , La )-modules is {La,χ }, see [J] and Ap-
pendix B. Thus (ii) follows from (i) as in the proof of Theorem 4.9.(iv).             ⊓
                                                                                      ⊔

6.2. Given e ∈ N a we set Bes = Be ∩ B s . Note that Bes 6= ∅ because e is a nil-
element, and the C× -fixed point subset of a projective variety is non-empty. Thus
Bes is a disjoint union of (reduced) projective schemes of finite type. For any y ∈ W
          s
we set Be,≤y                                                                      s
               = Bes ∩X≤y−1 . It is a projective scheme. Put H∗ (Bes ) = lim H∗ (Be,≤y ).
                                                                               −→ y
As in 5.4 we a have the ⋆-product

                          H∗ (w Z≤y
                                 a           s
                                    ) × H∗ (Be,≤y            s
                                                  ′ ) → H∗ (Be,≤y ′′ )



                                  −1
relative to (T a )2 if w ≥ y ′ . The Riemann-Roch map RR : KA (w Z≤y          a
                                                                                )a →
     w a                                            s
H∗ ( Z≤y ) yields a representation of Ka on H∗ (Be ).
   Let G(s, e) ⊂ Gs be the centralizer of e, and Π(s, e) be the group of components
of G(s, e). It is finite because Gs is reductive. The natural Π(s, e)-action on Ka is
trivial, because the group Gs acts on Zij  a
                                             and Gs is connected by Lemma 2.13.(i).
Hence the natural Π(s, e)-action on H∗ (Bes ) commutes with the Hτ,ζ -action. For
any irreducible representation χ of Π(s, e) we have the standard module

                              Na,e,χ = HomΠ(s,e) (χ, H∗ (Bes )).

  Let Π(s, e)∨ be the set of irreducible representations of Π(s, e) occuring in
H∗ (Bes ). Let ι be the inclusion {e} ⊂ N a . We have

                                       La,χ′ ⊗ HomΠ(s,e) (χ, H∗ (ι! Sa,χ′ ))
                               L
(6.2.1)            Na,e,χ =
                          ˙       χ′


                            ∗ !
because H∗ (Bes )=                        Hence Na,e,χ 6= {0} if and only if χ ∈ Π(s, e)∨ .
                     L
                 ˙       i H (ι La,i ).

6.3. In the rest of Section 6 we assume that (τ, ζ) is regular. By Proposition
2.14 there is a finite number of Gs -orbits in N a . Hence the complex Sa,χ is the
intersection cohomology complex of an irreducible Gs -equivariant local system on
a Gs -orbit O ⊂ N a . Therefore, in the regular case, we may identify the set {χ} in
6.1 with a set of irreducible Gs -equivariant local systems on N a .
   Given any e ∈ O, a local system as above may also be viewed as a representation
of the group Π(s, e). Let Π(a)∨ be the set of all Gs -equivariant local systems
corresponding to a representation in Π(s, e)∨ for some e ∈ N a .
                                                                                       31

Proposition. Assume that (τ, ζ) is regular. The set {χ} is finite and coincides
with Π(a)∨ .
Proof: The corresponding statement for affine Hecke algebras is due to [KL1].
Another proof due to Grojnowski is given in [CG, 8.8]. Our proof of the proposition
is very similar to loc. cit., to which we refer for some technical result. Fix a Gs -orbit
O ⊂ N a and e ∈ O. Let Ō ⊂ N a be the Zariski closure.
Claim 1. There is a group homomorphism v : (C× , ×) → (Q, +) such that v(ζ) > 0
and v(τ ) < 0.
   If ζ = τ k/m with k < 0, m > 0, the existence follows from [CG, Lemma 8.8.12].
Else, fix t, z ∈ C such that exp(2iπt) = τ , exp(2iπz) = ζ. The elements 1, t, z ∈ C
are Q-independent because (τ, ζ) is regular. Hence there is a Q-linear map C → Q
such that 1 7→ 0, t 7→ 1, z 7→ −1. This map induces a group homomorphism
C× → Q such that τ 7→ −1, ζ 7→ 1.
Claim 2. Up to conjugating e by an element of Gs , there is a sl2 -triplet φ ⊂ gKM
containing e such that C×
                        φ ⊂ H.

   By Proposition 2.14 there are S ⊂ H × C×        q , d ∈ Z>0 , r ∈ (1/d)Z≤0 , and
γd ∈ G(Kd ) such that S is finite and the conjugation by γd takes s into H, e into
N S ⊗ εr , and G(K)s onto a group containing GS .
   Given a sl2 -triple φ = {e, f , h} ⊂ g such that e ⊗ εr = adγd e, we set

                 M      = {(g, z) ∈ G × C×q ; adg e = ze}
                 Mφ     = {(g, z) ∈ M ; adg x = adφ(z 1/2 ) x, ∀x ∈ Gφ }

(the choice of a square root of z is irrelevant). The subgroup M φ ⊂ M is maximal
reductive by [BV, 2.4], see also [CG, 8.8]. Therefore we can choose φ such that
S ⊂ M φ , because S generates a reductive subgroup of M . Then C×  φ ⊂G .
                                                                         S

   Consider the sl2 -triple φr = {e ⊗ εr , f ⊗ ε−r , h} ⊂ g ⊗ Kd . Set φ′ = {e, f, h′ } =
ad−1      r             ′           s                 S
   γd (φ ). Note that h ∈ (g ⊗ K) because h ∈ g . We have also e ∈ g ⊗ C[ε
                                                                                     ±1
                                                                                        ].
            ′       ±1                                       s
Hence φ ⊂ g⊗C[ε ]. Thus there is a unique h ∈ (gKM ) such that φ = {e, f, h} is
a sl2 -triple in gKM . We have C×      s              ×         s
                                 φ ⊂ G because Cφ′ ⊂ G(K) . There is an element
        s                 ×                         s
g ∈ G such that adg (Cφ ) ⊂ H because H ⊂ G is a maximal torus.

Claim 3. There is a non-empty subset Q̂ ⊂ Bes such that adGs (na ) = Ō for any
p ∈ Q̂, where n ⊂ p is the pro-nilpotent radical.
   Fix ζ 1/2 , sφ as in 5.1, and put

                gt,i = {x ∈ g ; adsφ x = t x, adφ(z) x = z i x, ∀z ∈ C× }.
              L         L                         L       L
Set also q =     v(t)≤0  i∈Z gt,i . If k ≪ 0 then  v(t)<k   i∈Z gt,i is a finite codi-
mensional Lie subalgebra of u which is preserved by the adjoint action of q and
H. Hence there are J ( I and g ∈ G such that adg bJ is also preserved by q and
H by [KcW, Proposition 2.8]. Thus q ⊂ adg bJ because adg bJ is equal to its own
normalizer in g (see [KcW, Lemma 1.17]). Then adg uJ ⊂ q, and there is g such that
adg b ⊂ q. Hence we may choose  L J andLg such that adg bJ = q by [KcW, Lemma
1.5]. Then adg gJ = l with l = v(t)=0 i∈Z gt,i . Set Q = adg BJ and L = adg GJ .
32                                 ERIC VASSEROT

   The set {p ∈ B ; p ⊂ q} is non-empty and projective. It is preserved by the
action of s, exp(e) ∈ G, because ads q = q and [e, q] ⊂ q (since e ∈ g1,2 ). Hence the
simultaneous fixed point set of s and exp(e) is non-empty. Set Q̂ = {p ∈ Bes ; p ⊂ q}.
   Given p ∈ Q̂, and n ⊂ p its pro-nilpotent radical, we have
                         O = adGs e ⊂ adGs (na ) ⊂ adGs (qa ).

Let P = adg B with g ∈ G such that p = adg b. The group Gs is reductive
and P s , Qs ⊂ Gs are parabolic. The subset adGs (na ) ⊂ N a is closed because
adP s (na ) ⊂ na and Gs /P s is projective. Similarly adGs (qa ) ⊂ N a is closed because
adQs (qa ) = qa and Gs /Qs is projective. To prove that adGs (na ) = Ō it is sufficient
to prove that O ⊂ adGs (qa ) is dense, or that adQs e ⊂ qa is dense. This follows from
the equality [e, qs ] = qa , which is a consequence of the theory of representations of
sl2 and the identities
                                     M                     M
                  e ∈ g1,2 , qs =        gζ −i/2 ,i , qa =   gζ −i/2 ,i+2 .
                                   i≥0                  i≥0

Claim 3 is proved.
   Let N̂ a ⊂ Ṅ a be the union of the connected components intersecting Q̂. Set
also B̂es = N̂ a ∩ Bes . Since N̂ a ⊂ Ṅ a is open, closed, and Gs -stable, we conclude
that B̂es ⊂ Bes is open, closed, and G(s, e)-stable. Therefore, H∗ (B̂es ) is a Π(s, e)-
submodule of H∗ (Bes ).
Claim 4. Any representation χ ∈ Π(s, e)∨ occurs in H∗ (B̂es ).
   Set L(s, e) = G(s, e) ∩ L, and ZL◦ ⊂ L equal to the connected center. We have
e ∈ g1,2 ⊂ l. Similarly s ∈ L because s ∈ Gsφ , Gsφ is connected by Lemma
2.13.(i), and gsφ ⊂ l. Therefore ZL◦ ⊂ L(s, e). Thus the G(s, e)-action on Bes
restricts to a ZL◦ -action. The chain of inclusions Q̂ ⊂ B̂es ⊂ Bes gives a chain of
                                             ◦          ◦                            ◦
inclusions of L(s, e)-varieties Q̂ ⊂ (B̂es )ZL ⊂ (Bes )ZL . The fixed point set B ZL is
a disjoint union of pieces, each L-equivariantly isomorphic to {p ∈ B ; p ⊂ q}.
               ◦
Hence (Bes )ZL is a disjoint union of pieces, each L(s, e)-equivariantly isomorphic
                                                                   ◦
to Q̂. Hence any simple L(s, e)-module occuring in H∗ ((Bes)ZL ) occurs in H∗ (Q̂).
                      ◦                                                                ◦
The set Q̂ ⊂ (B̂es )ZL is open and closed, because it is open and closed in (Bes )ZL .
                                                                           ◦
Hence the L(s, e)-module H∗ (Q̂) is a direct summand in H∗ ((B̂es )ZL ). Thus any
                                               ◦                             ◦
simple L(s, e)-module occuring in H∗ ((Bes )ZL ) occurs also in H∗ ((B̂es )ZL ). By [CG,
                                                   ◦
Proposition 2.5.1] the L(s, e)-modules H∗ ((Bes )ZL ) and H∗ (Bes ) have the same class
                                                                                  ◦
in the Grothendieck group. The same holds for the L(s, e)-modules H∗ ((B̂es )ZL ) and
H∗ (B̂es ). Hence any irreducible L(s, e)-module that occurs in H∗ (Bes ) occurs also
in H∗ (B̂es ). Therefore, to prove Claim 4 it is enough to prove that the projection
G(s, e) → Π(s, e) restricts to a surjective group homomorphism L(s, e) → Π(s, e).
   In order to prove this, we first check that G(s, e) ⊂ Qs . Let G(sφ , φ) be the
simultaneous centralizer of Gφ and sφ . It is a reductive group because Gφ ⊂ Gsφ ,
and Gsφ , Gφ are reductive. Set
                Ms    = {(g, z) ∈ Gs × C× q ; adg e = ze}
                Mφs   = {(g, z) ∈ M s ; adg x = adφ(z 1/2 ) x, ∀x ∈ Gφ }.
The group M s is linear. Let Mus ⊂ M s be the unipotent radical. We have Mus ⊂
G(s, e) × {1}. Hence Lie(Mus ) ⊂ g(s, e), where g(s, e) is the Lie algebra of G(s, e).
                                                                                    33

Thus Mus ⊂ Qs × {1}, because Mus is unipotent, g(s, e) ⊂ qs by the representation
theory of sl2 , and Qs = NGs (qs ). Similarly, if (g, z) ∈ Mφs then g commutes with sφ
and C×                   s     s          s       s     ×             s
       φ . Hence adg (q ) ⊂ q . Thus Mφ ⊂ Q × Cq , because Q = NG (q ). The
                                                                             s
                                                                                 s
           s                                                         ×
group Mφ is reductive because it is the central extension of Cq by G(sφ , φ). We
claim that Mφs ⊂ M s is maximal reductive, i.e. M s = Mφs ·Mus . Then G(s, e)×{1} ⊂
M s ⊂ Qs × C×                        s
                q , hence G(s, e) ⊂ Q .
    To prove that Mφs ⊂ M s is maximal reductive it is sufficient to prove that
G(sφ , φ) ⊂ G(s, e) is maximal reductive, because, then, any element (g, z) ∈ M s
has the form u · r where r is (φ(z 1/2 ), z) times the component in G(sφ , φ) of the
element φ(z −1/2 )g ∈ G(s, e), and u belongs to the unipotent radical of G(s, e). By
the representation theory of sl2 , we have adh x ∈ Z≥0 · x whenever x ∈ g(s, e).
Let v ⊂ g(s, e) be the Lie subalgebra linearly spanned by {x ; adh x ∈ Z>0 · x},
and V ⊂ G(s, e) be the corresponding unipotent normal subgroup. The adjoint
V -action on the affine space h + v is transitive, see [CG, 3.7]. The group G(s, e)
acts naturally on h + v, and any reductive subgroup in G(s, e) has a fixed point in
h + v, hence is conjugated to a subgroup fixing h, hence φ. We are done.
    We can now complete the proof of Claim 4 by proving that the projection
L(s, e) → Π(s, e) is surjective. Let g ∈ G(s, e) be a representative of an element
ḡ ∈ Π(s, e). The group Gs is reductive, Qs ⊂ Gs is parabolic, and Ls ⊂ Qs is a
Levi subgroup. Set g = ru with r ∈ Ls and u in the unipotent radical of Qs . Then
r ∈ L(s, e) because e ∈ l. Moreover r maps to ḡ because Π(s, e) is a finite group.
This yields the surjectivity.
        S Claim 3 and 4 we can now prove the proposition. Fix Ξ̂s ⊂ Ξs such that
    Using
N̂ a = i∈Ξ̂s Ṅia . We have e ∈ O, and p(Ṅia ) = Ō for any i ∈ Ξ̂s by Claim 3.
Therefore a representation χ of Π(s, e) occurs in H∗ (B̂es ) if and only if the complex
ICχ occurs in La,i for some i ∈ Ξ̂s . Thus, for any χ ∈ Π(s, e)∨ the complex ICχ
occurs in La,i for some i ∈ Ξs by Claim 4.                                            ⊓
                                                                                      ⊔
6.4. Fix e ∈ N a . Fix a sl2 -triple φ ⊂ g containing e. Up to conjugating e by an
element in Gs we may assume that C×    φ ⊂ H. Let

                    ⋆ : H∗ (w Z≤y
                               a           a
                                  ) × H∗ (Sφ,≤y            a
                                                ′ ) → H∗ (Sφ,≤y ′′ )

                                                                       a
be as in 6.2. It yields a representation of Ka on H∗ (Sφa ) = lim H∗ (Sφ,≤y ). The
                                                                  −→ y
subspace H∗ (S aφ ) ⊂ H∗ (Sφa ) is preserved by Ψa (H).
6.5. Let Π(s, e) be the group of components of G(s, e) = G∩G(s, e). Let Π(s, e)∨ ⊂
Π(s, e) be the set of irreducible representations occuring in H∗ (Bse ). Let Π(a)∨ be
the set of Gs -equivariant local systems on N a corresponding to a representation in
Π(s, e)∨ for some e.
   The simple representations of Hζ are classified in [KL1, Theorem 7.12]. They are
labelled by conjugacy classes of triples {s′ , e, χ} where s′ ∈ G ×C×
                                                                    ω0 is semisimple, e
is as above, and χ ∈ Π(s, e)∨ . Let La,χ be the simple module labelled by {s′ , e, χ}.
   Let G(s, φ) ⊂ G be the simultaneous centralizer of Gφ and s. The group of con-
nected components of G(s, φ) is Π(s, e). The G(s, φ)-action on S aφ gives a Π(s, e)-
action on H∗ (S aφ ) which commutes with the Hζ -action. Set
   Ma,φ,χ = HomΠ(s,e) χ, H∗ (S aφ ) , na,χ,χ′ = dim HomΠ(s,e) χ′ , H∗ (ι! ICχ ) ,
                                                                                 

where ι is the inclusion {e} ⊂ N a .
34                                      ERIC VASSEROT

Lemma. (i) The Grothendieck group of finite dimensional Hζ -modules is spanned
by {Ma,φ,χ }.
   (ii) [Ma,φ,χ : La,χ′ ] = na,χ,χ′ .
Proof: This is standard, see [CG] for instance. For (ii) use the identity

                       na,χ,χ′ = dim HomΠ(s,e) χ′ , H∗ (saφ , ε! ICχ ) ,
                                                                      
(6.5.1)

where ε is the natural inclusion saφ ⊂ N a . Since ICχ is Cφ -equivariant (6.5.1)
follows from the basic result below.
   Let V be a finite dimensional vector space with a C× -action contracting to 0.
Let Z ⊂ V be a closed subset preserved by C× , ι : {0} → Z and p : Z → {0}
be the obvious inclusion and projection. Then the canonical map ι! E → p! E is an
isomorphism for any E ∈ DC× (Z). See [KS, Proposition 3.7.5] for instance.      ⊓
                                                                                ⊔
6.6. The Π(s, e)-action on H∗ (Sφa ) induced by the G(s, φ)-action on Sφa commutes
with Hτ,ζ because Gs is connected. Set Ma,φ,χ = HomΠ(s,e) χ, H∗ (Sφa ) for each
                                                                          

χ ∈ Π(s, e)∨ .
Lemma. Hτ,ζ ⊗Hζ Ma,φ,χ ≃ Ma,φ,χ .
Proof: We have a ∈ Ae . Taking D ⊂ Ae to be the closed subgroup generated by
and (Ae )◦ ∪ {a}, Proposition 5.8 yields an isomorphism of Hτ,ζ -modules

                                Hτ,ζ ⊗Hζ H∗ (S aφ ) ≃ H∗ (Sφa ).

This isomorphism is Π(s, e)-equivariant, because the vector bundle γ is G(s, φ)-
equivariant.                                                                  ⊓
                                                                              ⊔

   Using Lemma 6.5 and Lemma 6.6, it is enough to compute the Jordan-Hölder
multiplicities of Ma,φ,χ to get the Jordan-Hölder multiplicities of the induced mod-
ule Hτ,ζ ⊗Hζ L for any simple Hζ -module L.

6.7. For any χ ∈ Π(a)∨ , χ ∈ Π(a)∨ we set na,χ,χ = dim HomΠ(s,e) χ, H∗ (saφ , ε! ICχ ) ,
                                                                                      

where ε is the natural inclusion saφ ⊂ N a .

Lemma. Assume that (τ, ζ) is regular. Then Ma,φ,χ has a finite length, and
[Ma,φ,χ : La,χ ] = na,χ,χ .
Proof: Fix e ∈ N a such that χ ∈ Π(s, e)∨ . The Springer resolution restricts to a
map Sφa → saφ , yielding a Cartesian square

                                  Sφa   −→      Ṅ a
                                               
                                  y             yp
                                            ε           ι
                                  saφ   −→      Na     ←− {e}.

                         ∗ a !
Thus H∗ (Sφa )=
                  L
              ˙       i H (sφ , ε La,i ),   yielding the lemma.                    ⊓
                                                                                   ⊔

   Note that na,χ,χ = dim HomΠ(s,e) χ, H∗ (ι! ICχ ) because ICχ is Cφ -equivariant.
                                                   

In particular na,χ,χ does not depend on the choice of φ.
                                                                                         35

6.8. This subsection is given for the sake of completness. It is not used in the rest
of the paper.
Lemma. If e ∈ N a is nilpotent then Bes has no odd rational homology.
Proof: The proof is identical to the proof of [KL1, Theorem 4.1]. By Claim 2 in 6.3
there is a sl2 -triple φ ⊂ gKM containing e with Cφ ⊂ A. Then the element sφ in
                                                             s
Claim 3 belongs to H ′ × {τ } and e ∈ gsφ . In particular, Beφ is locally of finite type
and each connected component is isomorphic to the variety of Borel subgroups of
                            s
Gsφ containing e. Hence Beφ has no odd rational homology. Therefore, to conclude
                                   s
it is sufficient to observe that (Beφ )Cφ = (Bes )Cφ , that the Cφ -action on Sφa is a
                   s           a
contraction to Be , and that Sφ is locally of finite type and smooth.                  ⊓
                                                                                       ⊔

              7. Induction of sheaves and Fourier transform
7.1. Assume that τ , ζ are not roots of unity. Fix J ( I and q ∈ (B J )s . Let n be
the pro-nilpotent radical of q, and l ⊂ q a Levi Lie subalgebra. Let Q, N, L be the
corresponding subgroups of G. We have the obvious projection q → l, x 7→ x + n,
and the natural inclusion q ⊂ g. Taking the group L instead of G in 2.9 we get the
varieties BL , NL , ṄL and l̇. We may identify BL with the subset {b ∈ B ; b ⊂ q}.
It yields an inclusion l̇ ⊂ ġ.
   Set g± = {x ∈ g ; ads x = ζ ∓1 x}. Idem for q± , l± , n± . The groups Qs , N s act
on q± in the obvious way. Put E± = Gs ×N s q± and F± = Gs ×Qs q± . We have
the map p1 : E± → l± , [g : x] 7→ q1 (x), the map p2 : E± → F± , [g : x] 7→ [g : x],
and the map p3 : F± → g± , [g : x] 7→ adg x, yielding the diagram
                                     p1      p2      p3
                                 l± ←−E± −→F± −→g± .

The induction functor Indgq±     ±
                                   : DLs (l± ) → DGs (g± ) takes E to p3! (p∗2 )−1 p∗1 (E).
     Fix connected components ġ± ⊂ {x ∈ ġ ; ad(s,ζ ±1 ) x = x}, and l̇± ⊂ {x ∈
l̇ ; ad(s,ζ ±1 ) x = x}. Set Ṅ± = Ṅ ∩ ġ± and ṄL,± = ṄL ∩ l̇± . Recall the projection
p : ġ → g from 2.8. Then ġ± is a connected component in p−1 (g± ). Let p denote
also the restriction of p to ġ± , Ṅ± . Idem for l̇± , ṄL,± .
7.2. Lemma. If l̇± ⊂ ġ± there are canonical isomorphisms Indgq±
                                                               ±
                                                                 (p! Cl̇± ) =
                 g±
p! Cġ± , and Indq± (p! CṄL,± ) = p! CṄ± .

Proof: Fix an Iwahori Lie algebra p ⊂ q such that (0, p/n) ∈ l̇± and (0, p) ∈ ġ± . Set
P ⊂ G equal to the Iwahori subgroup associated to p, and p± = p ∩ g± . We have
ġ± = Gs ×P s p± and l̇± = Qs ×P s (p± /n± ). Set q̇± = Qs ×P s p± , E˙± = Gs ×N s q̇± ,
and Ḟ± = Gs ×Qs q̇± . Note that Ḟ± ≃ ġ± . We get the commutative diagram
                               ṗ1
                         l̇±
                              ←− E˙
                                    ±       −→     Ḟ
                                                     ±     =      ġ
                                                                    ±
                         py        py              py             py
                                p1           p2            p3
                         l±    ←− E±        −→     F±     −→     g± ,

where ṗ1 ([g1 : g2 : x]) = [g2 : x + n± ] for all g1 ∈ Gs , g2 ∈ Qs . Both left squares are
Cartesian. By base change we get p∗2 p! (CḞ± ) = p∗1 p! (Cl̇± ). Hence

(7.2.1)                 Indgq±
                             ±
                               (p! Cl̇± ) = (p3 p)! (CḞ± ) = p! Cġ± .
36                                   ERIC VASSEROT

     nil
Put E±   = Gs ×N s (q± ∩ N ) and F±
                                  nil
                                      = Gs ×Qs (q± ∩ N ). The diagram
                               p1            p2            p3
                      lx
                       ±      ←−      Ex±   −→     Fx
                                                    ±     −→ g± x
                                                             
                                      nil           nil
                   l ± ∩ NL   ←−     E±     −→     F±     −→ g± ∩ N

is formed by Cartesian squares because q1−1 (l± ∩ NL ) = q± ∩ N . Hence the lemma
follows from (7.2.1) and base change.                                           ⊓
                                                                                ⊔
7.3. Fix a G-invariant nondegenerate pairing h : i on g. It restricts to a non-
degenerate pairing g+ ×g− → C. The complexes p! CṄ± , p! Cġ± are C×
                                                                    g± -equivariant.
Let ρ be as in 2.5.
Lemma. (i) If E ∈ DLs (l± ) is C×                            g±            ×
                                     l± -equivariant then Indq± (E) is Cg± -equivariant,
                 g±           g∓
and Fg± ◦ Indq± (E)=Ind ˙     q∓ ◦ Fl± (E).
                                               ˙ ! Cġ∓ and Fg∓ (p! Cġ∓ )=p
  (ii) If ρ(ġ± ) = ρ(ġ∓ ) then Fg± (p! CṄ± )=p                         ˙ ! CṄ± .
Proof: Claim (i) is analogous to [L1, Corollary 10.5]. The first part of (ii) follows
from (i) and Lemma 7.2 with q ∈ ρ(ġ± ), because

 Fg± (p! CṄ± ) = Fg± ◦ Indgq±
                             ±
                               (C{0} )=Ind
                                      ˙    g∓                    g∓
                                           q∓ ◦ Fl± (C{0} ) = Indq∓ (Cl∓ ) = p! Cġ∓ .

The second part follows from the first one because the complexes p! Cġ± , p! CṄ± are
C×
 g± -equivariant.                                                                   ⊓
                                                                                    ⊔
7.4. For any pair (τ, ζ), possibly non regular, we set Π(a)∨ = {χ}, see 6.1. Hence
Π(a)∨ may be viewed as a set consisting of simple Gs -equivariant perverse sheaves
on N a . This notation is coherent with Proposition 6.3 if (τ, ζ) is regular.
   Assume that (τ −1 , ζ) is singular. Hence (τ, ζ) is regular. Recall that a =
(s, ζ), see 2.12. Set ǎ = (s−1 , ζ). Fix χ ∈ Π(a)∨ . Note that Ψ•a Φ•a (La,χ ) is
a simple integrable Hτ,ζ -module by Lemma 6.1.(ii) and Claim 1 in 7.6 below.
Hence IM• Ψ•a Φ•a (La,χ ) is again is a simple integrable Hτ −1 ,ζ -module. Therefore,
by Lemma 6.1.(ii) and Claim 2 in 7.6 there is a unique element χ̌ ∈ Π(ǎ)∨ such
that the Hτ −1 ,ζ -modules Ψ•ǎ Φ•ǎ (Lǎ,χ̌ ) and IM• Ψ•a Φ•a (La,χ ) are isomorphic. The
map Π(a)∨ → Π(ǎ)∨ , χ 7→ χ̌ is a bijection. In particular Π(ǎ)∨ is a finite set by
Proposition 6.3.
   We claim that the Fourier transform yields another bijection Π(a)∨ → Π(ǎ)∨ .
More precisely, set ā = (s, ζ −1 ). We have Ξs = Ξs−1 and Lā,i = Lǎ,i , hence Π(ā)∨ =
Π(ǎ)∨ , because the fixed point sets gā , gǎ coincide. We have also Lā,i =F  ˙ ga (La,i )
by Lemma 7.3.(ii), and Sa,χ = ICχ for all χ ∈ Π(a)∨ . The complex ICχ is C×             ga -
equivariant, and Fga (ICχ ) is a simple perverse sheaf. Hence we get a bijection
Π(a)∨ → Π(ā)∨ , χ 7→ χ̄, such that Sā,χ̄ = Fga (ICχ ). The composed map Π(a)∨ →
Π(ā)∨ = Π(ǎ)∨ is still denoted by χ 7→ χ̄.
Conjecture. χ̄ = χ̌ for each χ ∈ Π(a)∨ .
The corresponding statement for H is proved in [EM]. Probably, this proof gener-
alizes to the case of H.
7.5. For any χ ∈ Π(a)∨ , χ ∈ Π(a)∨ let ma,χ,χ be the Jordan-Hölder multiplicity
of La,χ in Hτ,ζ ⊗Hζ La,χ . If (τ, ζ) is regular then ma,χ,χ is known by 6.5-7. If (τ, ζ)
is singular then ma,χ,χ = mǎ,χ̌,χ̌ , thus it is known because (τ −1 , ζ) is regular.
                                                                                    37

7.6. An Hτ,ζ -module is said to be integrable if the action of the subring Rτ,ζ
is locally finite. Let Modint
                          Hτ,ζ ⊂ ModHτ,ζ be the full subcategory consisting of
integrable modules. The following theorem proves a refined version of [BEG1,
Conjecture 6.5]. Note that this conjecture was known, at least to the author,
before loc. cit.
Theorem. Assume that τ, ζ are not roots of unity.
   (i) If (τ, ζ) is regular, the simple integrable Hτ,ζ -modules are classified by the
G-conjugacy classes of triples {s, e, χ} with s ∈ G′ × {τ } semisimple, e ∈ N ,
χ ∈ Π(s, e)∨ , and ads e = ζe.
   (ii) If (τ, ζ) is not regular, the simple integrable Hτ,ζ -modules are in one-to-one
correspondence with the Hτ −1 ,ζ -modules.
Proof: Note that part (ii) follows from part (i) by 7.4. The proof consists in three
steps.

Claim 1. The pull-back by Ψa takes smooth and simple Ka -modules to simple
integrable Hτ,ζ -modules supported on W (s) × {ζ} ⊂ A.

                Q of the map Ψa : H → Ka to RA factorizes through the obvious
    The restriction
map RA → b∈W (a) RA /Ib by Lemma 4.8.(ii). Therefore, given a smooth Ka -
module M, the RA -action on Ψ•a (M) factorizes through b∈W (a) RA /Ib . Hence it
                                                            L

is locally finite because RA /Ib is a finite dimensional C-algebra, and the restriction
of the Hτ,ζ -action to Rτ,ζ takes Ψ•a (M) to a quasi-coherent sheaf on H ′ × {τ }
supported on W (s). Thus Ψ•a (M) is integrable and the claim follows from Theorem
4.9.(iv).

Claim 2. For any simple integrable Hτ,ζ -module L there is an element s ∈ H ′ × {τ }
and a smooth simple Ka -module L′ such that L = Ψ•a (L′ ).

   Taking e = 0 in Theorem 5.8 we get KA (Sφa )a = Hτ,ζ ⊗Hζ KA (Ṅ )a , with
Sφ = Ṅ ∩ (b♭ × B). By [L3, Proposition 8.5] we have an isomorphism of Hζ -
modules KA (Ṅ )a = Hζ ⊗RA Ca . Hence Hτ,ζ ⊗RA Ca = Ψ•a (KA (Sφa )a ) where
Ka acts on KA (Sφ )a as in 5.4. If L is an integrable Hτ,ζ -module there is a non-
zero element x ∈ L which is an RA -eigenvector. Fix s ∈ H ′ × {τ } such that
the RA -module spanned by x is isomorphic to Ca . If L is simple the linear map
ρx : Hτ,ζ ⊗RA Ca → L such that ρx (y ⊗ 1) = y(x) is surjective. The subspace
Ker (ρx ) ⊂ Hτ,ζ ⊗RA Ca is preserved by Hτ,ζ , hence by Ka because Ψa (H) ⊂ Ka
is dense and KA (Sφ )a is a smooth Ka -module. We are done.

Claim 3. Ψ•a1 (La1 ,χ1 ) ≃ Ψ•a2 (La2 ,χ2 ) if and only if the corresponding triples are
G-conjugated.

   By Claim 2 a simple integrable Hτ,ζ -module L is isomorphic to Ψ•a (L′ ) for an
element s ∈ H ′ ×{τ } and a simple smooth Ka -module L′ . The support of L, viewed
as a RA -module, is contained in a W -orbit because L is simple. By Claim 1 this
orbit is precisely W (s) × {ζ}. Hence a is uniquely determined, up to conjugation
by W . Given a, there is a unique module L′ such that L = Ψ•a (L′ ) by Theorem
4.9.(iv). Assume that (τ, ζ) is regular. Then, by Lemma 6.1 and Proposition 6.3,
the set of simple Ka -modules is {La,χ ; χ ∈ Π(a)∨ }. Hence the theorem follows
from Proposition 4.4.(ii).                                                       ⊓
                                                                                 ⊔
38                                  ERIC VASSEROT

   Given a simple integrable Hτ,ζ -module L, the corresponding G-conjugacy class
of triples {s, e, χ}, or, abusively, any element in this conjugacy class, are called the
Langlands parameters of L.

                                 8. The type A case
   In Sections 8.1 to 8.3 we compare our classification of the simple modules with
the classification announced by Cherednik, in [C2], in type A. In Sections 8.4 to 8.5
we make a link with representations of the cyclic quiver and with Kazhdan-Lusztig
polynomials.
8.1. Lemma. Assume that G = SLd and (τ, ζ) is regular. Then Π(s, e)∨ is reduced
to the trival representation of Π(s, e) for all s, e.
Proof: Up to conjugation by an element of G there is a maximal proper subset J ⊂ I
such that s ∈ GJ and Gs = GsJ , see the proof of Lemma 2.13. Let ZJ , G′J ⊂ GJ
be the center and the derived subgroup of GJ . We write ZJ◦ for (ZJ )◦ . We have
GJ = ZJ◦ · G′J , G′J ≃ SLd , and GsJ = ZJ◦ · (G′J )s . The restriction of the GsJ -action
on Ṅ a to ZJ is trivial. Hence the (G′J )s -action on Ṅ a extends to an action of
(GLd )s . Thus the GsJ -equivariant local systems on N a which belong to Π(a)∨ are
(GLd )s -equivariant. Hence they are trivial.                                           ⊓
                                                                                        ⊔

Remark. The group Π(s, e) may be non trivial, see Remark 9.3.(ii) for instance.
8.2. A multi-segment is a familly σ = (σij ) with σij ∈ Z≥0 , i, j ∈ Z, i ≤ j.
Given σ and n ∈ Z let σ[n] be the multi-segment such that (σ[n])ij = σn+i,n+j .
Fix P
P      d, m ∈ Z>0 . The multi-segment σ is m-periodic of order d if σ[m] = σ and
   i     1≤j≤m (j + 1 − i)σij = d.
    A m-periodic pair of order d is a pair {(σa ), (za )}, where (σa ) is a familly of m-
periodic multisegments such that the sum of the orders of each of them is d, and (za )
is a familly of complex numbers such that za /zb ∈   / τ (1/m)Z for all a 6= b. Let S be the
set of m-periodic pairs of order d. Two pairs are equivalent if they can be obtained
from each other by a simultaneous permutation of (σa ) and (za ), combined with
a translation {(σa ), (za )} → {(σa ), (za τ ma )}, and with a simultaneous translation
{(σa ), (za )} → {(σa [−ma ]), (za ζ ma )} with m1 , ..., mr ∈ Z. Let S/∼ be the set of
equivalence classes in S.
    From now on we fix k ∈ Z<0 with (m, k) = 1, a m-th root of τ , and ζ = τ k/m .
Hence τ Z ζ Z = τ (1/m)Z . Set G = GLd . Let C be the set of pairs (s, e), with s =
(s′ , τ ) ∈ G1 semisimple and e ∈ g⊗K nilpotent such that ads e = ζe. Let C/∼ be the
set of equivalence classes in C, where (s1 , e1 ) ∼ (s2 , e2 ) if they are G1 -conjugated.
Proposition. There is a natural bijection C/∼→ S/∼.
Proof: The group G1 = LG ⋊ C×                              d
                                   δ acts naturally on C [ε, ε
                                                                −1
                                                                   ], so that (g, z) · (v ⊗
 j       j        j
ε ) = z g(v) ⊗ ε . For any semisimple element s ∈ G1 we fix a familly of complex
numbers (s za ) such that Spec(s) = {s za } mod τ (1/m)Z and s za /s zb ∈     τ (1/m)Z for
                                                                            / L
                       s              d      −1          s    i/m
all a 6= b, and we set Vai = {v ∈ C [ε, ε ] ; s(v) = za τ         v}, Va = i s Vai . If
                                                                       s
                      s                         −1
s ∈ G(K)×{τ } then VP    a is a Z-graded C[ε, ε    ]-module such that s Vai is the degree
i subspace. Set s da = i (dim s Vai )tPi
                                         . Let D be the
                                                      P set of pairs {(da ), (za )} where
(za ) is as above, da ∈ Z≥0 [[t, t ]], a da = p(t) i∈Z tim with p(t) ∈ Z≥0 [t, t−1 ]
                                  −1

such that p(1) = d. Two pairs in D are equivalent if they can be obtained from each
other by a simultaneous permutation of (da ) and (za ), combined with a translation
                                                                                            39

{(da ), (za )} 7→ {(da t−mma ), (za τ ma )} or {(da ), (za )} 7→ {(da t−kma ), (za ζ ma )} with
m1 , ..., mr ∈ Z. The map s 7→ {(s da ), (s za )} gives a bijection from the set of G1 -
conjugacy classes of semisimple elements in G(K) × {τ } to the set of equivalence
classes in D, because (m, k) = 1.
    For any pair {s, e} ∈ C the element e acts naturally on Cd [ε, ε−1 ]. Let ea ∈
End(s Va ) be the restriction of e. The operator ea is a nilpotent endomorphism of
degree k commuting with ε. Let e σaij be the number of Jordan blocks of ea of
multi-degree {ki, ki + k, ..., kj}. Hence e σa = (e σaij ) is a m-periodicPmulti-segment
of order the rank of the C[ε, ε−1 ]-module s Va , such that s da =                 e
                                                                                i,j σaij (t
                                                                                            ki
                                                                                               +
  k(i+1)             kj
t         + · · · + t ).
    The map C → S/∼ taking the conjugacy class of {s, e} to the class of {(e σa ), (s za )}
gives a map C/∼→ S/∼. It is a bijection.                                                       ⊓
                                                                                               ⊔
8.3. In this subsection we compare the simple modules of different versions of the
double affine Hecke algebra when G is of type Ad−1 , with d ≥ 2 :
                                            ±1      ±1 ±1
   (i) Hch
         τ,ζ is the C-algebra generated by x1 ,...,xd ,π  , t1 ,...,td−1 , modulo the
relations
            xi xj = xj xi , πxi = xi+1 π, π d xi = τ −1 xi π d ,
            (ti − ζ)(ti + 1) = 0, πti = ti+1 π, π d ti = ti π d ,
            ti tj ti · · · = tj ti tj · · · if i 6= j (mij factors in both products),
            ti xi ti = ζxi+1 , ti xj = xj ti if j 6= i, i + 1.
                                                          ±1      ±1
     (ii) H′τ,ζ ⊂ Hch τ,ζ is the subalgebra generated by x1 ,...,xd , t1 ,...,td−1 , and the
element t0 = π −1 t1 π.
     (iii) Hτ,ζ is obtained by taking G = SLd in 3.1. In particular the subring spanned
by {xλ ; λ ∈ X ′ } is isomorphic to RH ′ .
     Since the algebras Hτ,ζ and H′τ,ζ differ only in the polynomial subalgebras RH ′
and C[x±1          ±1                         ′
           1 , ...xd ], a simple integrable Hτ,ζ -module may be viewed as a pair {L, α}
where L is a simple integrable Hτ,ζ -module, and α is a locally finite representation
of C[x±1          ±1
         1 , ...xd ] in L compatible with the RH ′ -action in the obvious way. Two
pairs {L, α}, {L, α′ } can only differ by a scalar z ∈ C× such that α′ (x1 ) = zα(x1 ),
because L is simple and integrable. The H′τ,ζ -modules {L, α} and {L′ , α′ } are
isomorphic if and only if there is a linear isomorphism L → L′ commuting to Hτ,ζ
up to xω0 , and taking α to α′ .
     Let cπ : H′τ,ζ → H′τ,ζ be the conjugation by π. For any H′τ,ζ -module M set
           Lℓ−1 i •                                                    ℓ •
Mπ =          i=0 (cπ ) (M), where ℓ ∈ Z>0 is minimal such that (cπ ) (M) = M. A
                         ch                                     π
simple integrable Hτ,ζ -module may be viewed as a pair {M , β}, where M = {L, α}
is simple and integrable, and β is a representation of C[π ±1 ] in Mπ compatible
with the H′τ,ζ -action in the obvious way. If β, β ′ are two such representations then
β ′ (π) ◦ β(π)−1 is a scalar because M is simple and integrable.
     The simple integrable Hτ,ζ -modules are classified by Theorem 7.6. Thus the
simple integrable Hch     τ,ζ -modules, modulo the automorphisms π 7→ zπ for any z ∈
  ×
C , are classified by S/∼ by Proposition 8.2. While we were writing this paper
Cherednik announced a classification of the simple integrable Hch -modules for G
of type A and ζ m = τ k , similar to the Bernstein-Rogawski-Zelevinsky classification
for affine Hecke algebras of type A, see [C2]. The set S/∼ is precisely the set of
new pairs of generalized m-periodic infinite skew-diagrams of total order d entering
into Cherednik’s classification. Cherednik gives also a classification of the simple
40                                ERIC VASSEROT

Hch -modules such that the action of the subring RA is semisimple. This last result
can not be deduced from our work.

8.4. Let Cd ⊂ C/∼ be the subset consisting of the conjugacy classes of pairs (s, e)
such that Spec(s) ⊂ τ (1/m)Z . The bijection in 8.2 identifies Cd with the subset
Sd ⊂ S/∼ consisting of equivalence classes of m-periodic pairs of order d such that
(za ) consists of a single element of τ (1/m)Z .
                                    (1)
   Let Qm be the quiver of type Am−1 with the cyclic orientation, i.e. the set of ver-
tices is Z/mZ and there is one arrow i → i+1 for each i ∈ Z/mZ. There is a unique
bijection from Sd to the set Qd /∼ of isomorphism classes of nilpotent representa-
tions of Qm of dimension d taking the m-periodic multisegment σ to the represen-
tation with σij Jordan blocks of multi-degree {i mod m, i + 1 mod m, ..., j mod m}.
   Assume that Spec(s) ⊂ τ (1/m)Z . Set s di = dim{v ∈ Cd [ε, ε−1 ] ; s(v) = τ i/m v}.
Let Gs1 ⊂ G1 be the centraliser of s. Note that s di+m = s di for all i. Let
                                 s
Rep s d (QQ
          m ) be the space of d-dimensional representation of Qm . The group
GLs d = i∈Z/mZ GLs di acts on Rep s d (Qm ). The bijection Cd → Qd / ∼ lifts to
an equivariant isomorphism of varieties {e ; (s, e) ∈ Cd } → Rep s d (Qm ). In par-
ticular the closure of the Gs -orbit of e in N a is isomorphic to the closure of the
corresponding GLs d -orbit in Rep s d (Qm ). Note that the intersection cohomology of
the latter is expressed by Kazhdan-Lusztig polynomials of type A(1) by [L4, Corol-
lary 11.6]. The appearence of Kazhdan-Lusztig polynomials was already mentioned
in a less precise way in [AST].
8.5. Let Um be the specialization at q = 1 of the generic Hall algebra of the
category of nilpotent finite dimensional representations of Qm . The C-algebra Um
admits
S        two natural C-bases. We use the conventions in [VV, Section 3]. Let S∞ =
  d>0 d . The first basis, B = (bx ; x ∈ S∞ ), is given by the Euler characteristic
       S
of the stalks of the cohomology sheaves of the intersection cohomology complex
of the constant local systems on the isomorphism classes. The second one, F =
(fx ; x ∈ S∞ ), is formed by the characteristic functions of the isomorphism classes
of representations of Qm . For any m-uple of non-negative integers d, let fd be the
element in F labelled by the zero representation with graded dimension d. The
algebra Um is generated by the elements fd , see [VV, Proposition 3.5].
   Let U∞ be the negative part of the enveloping algebra of type A∞ , i.e. U∞ is
the C-algebra generated by elements f i with i ∈ Z satisfying the Serre relations.
Let Q∞ be the quiver of type A∞ . The algebra U∞ is identified with the special-
ization at q = 1 of the generic Hall algebra of the category of finite-dimensional
representations of Q∞ . It admits two natural bases analoguous to B and F. Let
us denote them by B = (bx ; x ∈ S ∞ ) and F = (f x ; x ∈ S ∞ ) respectively. For any
sequence d of non-negative integers, let fd be the element in F labelled by the zero
representation with graded dimension d.
                                                                              ±1
   Set Hd = Hch   τ,ζ if d ≥ 2, and let H1 be the C-algebra generated by x1       and
  ±1                               −1
π , modulo the relation πxi = τ xi π. Let Gd be the complexified Grothendieck
group of the category of integrable HdL -modules of finite length whose Jordan-Hölder
factors are labelled by Sd . Set G∞ = d>0 Gd , and T∞ = (G∞ )∗ (=the restricted
dual). For any x ∈ Sd let Lx denote the corresponding simple Hd -module. Then
(Lx ; x ∈ S∞ ) is a basis of G∞ . Let (Lx ; x ∈ S∞ ) be the dual basis of T∞ . A
conjugacy class x ∈ Cd contains a pair (s, e) with e ∈ g. Given a sl2 -triple φ ⊂ g
containing e, let Mx be the class of the module Ma,φ,1 in Gd . It depends only on
                                                                                     41

x, see 6.7. Then (Mx ; x ∈ S∞ ) is a basis of G∞ . Let (Mx ; x ∈ S∞ ) be the dual
basis.
   For any ℓ ∈ Z let C d [ℓ] be the set of conjugacy classes of pairs (s, e) such that
e ∈ sld is nilpotent, s ∈ GLd is semisimple with Spec(s) ⊂ τ ℓ/m ζ Z , and ads e =
ζe. We write C d for C d [0]. The set S d of isomorphism classes of d-dimensional
                                                                           S
representations of Q∞ is naturally identified with S d . Set S ∞ = d>0 S d . Let
Hd ⊂ Hd be the subalgebra generated by x±1              ±1
                                                1 ,...,xd ,t1 ,...,td−1 . Let Gd be the
complexified Grothendieck group of the category of finite dimensional
                                                                   L         Hd -modules
whose Jordan-Hölder factors are labelled by S d . Set G∞ = d>0 Gd , and T∞ =
(G∞ )∗ . For any x ∈ S d let Lx denote the corresponding simple Hd -module. Let
(Lx ; x ∈ S ∞ ) be the dual basis of T∞ . Given a pair (s, e) in a conjugacy class in
C d and a sl2 -triple φ ⊂ g containing e, let Mx be the class in Gd of the module
M(s,ζ),φ,1 . Then (Mx ; x ∈ S ∞ ) is a basis of G∞ . Let (Mx ; x ∈ S ∞ ) be the dual
basis.
   There is a unique C-linear isomorphism Um → T∞ such that Lx 7→ bx and
M 7→ fx , and a unique C-linear isomorphism U∞ → T∞ such that Lx 7→ bx and
   x

Mx 7→ f x . There is a unique algebra homomorphism
                                                         P
                      ∆ : Um → Û∞ such that fd 7→          d f d,

                                                                P
where d = (dj ) and the sum is over all d = (dj ) such that di = j=i mod m dj , see
[VV, Remark 6.1]. Here Û∞ is a completion of U∞ . Given x ∈ Sd and x ∈ S d let
mx,x be the coefficient of bx in the infinite sum ∆(bx ).

Theorem. (i) If L is a simple Hd -module and Lx is a Jordan-Hölder factor in
Hd ⊗Hd L, then the Langlands parameter of L belongs to C d [ℓ] for some ℓ.
  (ii) mx,x is the Jordan-Hölder multiplicity of Lx in Hd ⊗Hd Lx .

Proof: The induction from Hd -modules to Hd -modules is an exact functor. It
yields a linear map Γ : G∞ → G∞ . Let γ : S ∞ → S∞ be the map taking
the G-conjugacy class of (s, e) to the G1 -conjugacy class of ((s, τ ), e). We have
Γ(Mx ) = Mγ(x) by Lemma 6.6. Let δ : T∞ → T̂∞ be the map dual to Γ, where
                                           P
T̂∞ is a completion of T∞ . Hence δ(fx ) = γ(x)=x f x . The square

                                           δ
                                   T∞    −→     T̂∞
                                    k            k
                                           ∆
                                   Um    −→     Û∞
                                    P
is commutative, because ∆(fx ) = γ(x)=x f x by [VV, Lemma 6.4]. Therefore mx,x
is the Jordan-Hölder multiplicity of the simple Hd -module Lx in the induced module
Γ(Lx ). Let (s, e) be the Langlands parameters of Lx . Claim (i) is obvious because
the Langlands parameters (s, e) of a Jordan-Hölder factor of Hd ⊗Hd Lx are such
that Spec(s) = Spec(s) mod τ Z .                                                  ⊓
                                                                                  ⊔

Remark. It would be interesting to give a representation theoretic construction of
the product in Um via the Grothendieck group G∞ as for the affine case, see [A]
for instance.
42                                     ERIC VASSEROT

                                     9. Other examples
  Let Moda = Ψ•a (ModKa ) ⊂ ModHζ,τ . Let Moda be the category of finite-
dimensional Hζ -modules whose central character belongs to the orbit W (s′ ).
9.1. The generic case. Assume that 1, ζ ∈   / {τ n sα ; α ∈ Φ, n ∈ Z \ {0}}. Then
                            ch
the induction functor L → Hζ,τ ⊗Hζ L takes simple modules in Moda to simple
modules in Moda by [C1, Proposition 6.6]. The proof of Cherednik uses inter-
twining operators. A geometric proof of the same result is as follows : we have
Π(a)∨ = Π(a)∨ and na,χ,χ′ = na,χ,χ′ , because Gs = Gs and N a = N a ; hence the
claim follows from Lemmas 6.5, 6.6 and 6.7.
9.2. The case s′ = 1. Set s′ = 1. The Fourier transform gives an equivalence
of categories Moda → Modā by 7.3. Hence we may assume that (τ, ζ) is regular.
Then N a = {0} unless ζ = τ k with k ∈ Z<0 , and we get N a = N ⊗ εk , Gs = H · G.
Therefore the map x 7→ x ⊗ εk gives a bijection from the set of G-orbits in N to
the set of Gs -orbits in N a . Conjecturally, Π(a)∨ is equal to the set of irreducible
G-equivariant local systems on N which occur in the homology of the Springer
fibers in B. Then, if G is a classical group, there would be a natural bijection
between the simple W -modules and the simple objects in Moda by [S, Theorem
2.5]. However the category Moda is not semisimple. Probably Moda is equivalent
to the category of W -modules with trivial central character. Note also that the
induction functor Moda → Moda is trivial because Moda is trivial.
9.3. Finite dimensional modules. Fix k, m ∈ Z>0 with (m, k) = 1. Assume
that ζ m = τ k . Fix e ∈ N a . The nil-element e may be not nilpotent. Recall
that e is regular semisimple nil-elliptic if it is regular semisimple and the group
of cocharacters of the centralizer of e in G(K) is trivial. Then Be is an algebraic
variety by[KL2, Corollary 3.2]. Thus Na,e,χ is finite dimensional for any χ.
   Let ht : Φ → Z be the height, and h = ht(θ) + 1. Let r be the rank of g, and
ρ = i∈I ωi∨ . Hence 2ρ∨ ∈ Y ∨ . Fix a, b ∈ Z≥0 with b < h and k = ah + b. Set
 ∨
      P

Πk = {(α, ℓ) ∈ Φ × Z ; (ht(α), ℓ) = (b, a), (b − h, 1 + a)}. For any α ∈ Φ we fix a
non-zero element eα ∈ gα . Assume that m = h. Fix a 2h-th root of τ such that
ζ = τ k/h . Put
                X
       ek =              eα ⊗ εℓ ,   s = (2ρ∨ ) ⊗ τ 1/2h ,   s = (s, τ ),   ak = (s, ζ).
              (α,ℓ)∈Πk


Lemma. (i) gak is the linear span of {eα ⊗ εℓ ; (α, ℓ) ∈ Πk }, and Gs = H.
  (ii) There is a finite number of Gs -orbits in gak . The orbit containing ek is
dense.
Proof: The first part of (i) is immediate because

                              ads (eα ⊗ εℓ ) = τ ℓ+ht(α)/h eα ⊗ εℓ

for all α, ℓ. For the second part it is sufficient to observe that Gs is generated by
H and the Uβ ’s with gsβ 6= {0} because it is connected by Lemma 2.13, and that
ads (eα ⊗ εℓ ) 6= eα ⊗ εℓ for all (α, ℓ) ∈ Φ × Z because τ, ζ are not roots of unity.
   Let us prove (ii). Assume first that k = 1. Recall that H = H × C×           ×
                                                                          δ × Cω0 with
C×ω0 acting trivially on g. We have Π1 = {αi ; i ∈ I}. Thus we must count the
                                                                                     43

orbits of a (r + 1)-torus acting on a (r + 1)-vector space. The set of weights of ga1
is Π1 , and Lie(H × C×                                ∨
                       δ ) is linearly spanned by {ωi ; i ∈ I}. Thus there are 2
                                                                                   r+1

orbits. Let Rk ⊂ Φ be the image of Πk by the first projection.P    By [F, Lemma 2.2]
there is an element w ∈ W such that w(Rk ) = R1 . Set ρ∨ = i∈I ωi∨ ∈ Y ∨ , and
g = ρ∨ ⊗ ε1/h ∈ G(Kh ). Then ẇ ◦ adg (gak ), adg (ga1 ) ⊂ g ⊗ Kh are linearly spanned
by {eα ⊗ εk/h ; α ∈ R1 }, {eα ⊗ ε1/h ; α ∈ R1 } respectively. Thus there is the same
number of H-orbits in ẇ ◦ adg (gak ) and adg (ga1 ). The lemma follows.             ⊓
                                                                                     ⊔

   We have N ak = gak by Proposition 2.14.(iii). Since there are a finite number
of Gs -orbits in N ak the discussion before Proposition 6.3 still holds. In particu-
lar the simple perverse sheaves Sak ,χ occuring in Lak are intersection cohomology
complexes of irreducible Gs -equivariant local systems on N ak , and the correspond-
ing representations of Π(s, e) must occur in H∗ (Bes ) for any e ∈ N ak . It can be
shown that B s = {bw ; w ∈ W } by using the Bruhat decomposition for G′ . Hence
Gs acts trivially on B s , because it is connected. Thus Π(s, e) acts trivially on
H∗ (Bes ). Therefore the local systems above are all trivial. Moreover the Hτ,ζ -
module H∗ (Besk ) is simple because the orbit of ek is dense. Obviously Besk has no
odd cohomology. Thus dim H∗ (Besk ) = k r by [F, Proposition 1]. Therefore we get
the following.
Proposition. H∗ (Besk ) is a simple Hτ,ζ -module of dimension k r .
Remarks. (i) Probably H∗ (Besk ) and IM• (H∗ (Besk )), with k > 0, m = h, and
(k, h) = 1, are the only finite dimensional simple H-modules if τ , ζ are not roots
of unity
     P and G is of type    A. This is false in general : for instance, if G = SP(2r),
e = (α,ℓ)∈Π1 eα ⊗ ε , s = (2ρ∨ ) ⊗ τ 1/4 , and ζ = τ 1/2 , then ads e = ζe and the
                      rℓ

element e is regular semisimple nil-elliptic. This yields a finite dimensional Hτ,ζ -
representation on H∗ (Bes ) which can not be of the previous type because h = 2r.
   (ii) A direct computation gives Π(s, ek ) = Z/kZ if G = SLr+1 .
9.4. Comparison with [L5]. Let us compare our construction with Lusztig’s W -
action on the homology of the affine Springer fibers. This comparison is not used
in the rest of the paper. Proofs are not given. The W -action in [L5] is described
via a familly of compatible WJ -actions, for each J ( I.
   Let H′J be the graded Hecke algebra associated to HJ , see [EM] for instance.
There is an obvious surjective C-algebra homomorphism H′J → CWJ .
   Let NJ the nilpotent cone of GJ , and pJ : ṄJ → NJ be the Springer map.
There is a commutative square of algebra homomorphisms
                          ∼
                    H′J
                                                                      
                          → ExtD          × (NJ )
                                                   (pJ )! C, (pJ )! C
                                     GJ ×Cq
                                                 
                    y                             y
                          ∼                                             
                   CWJ → HomD               × (NJ )
                                                    (pJ )! C, (pJ )! C .
                                         GJ ×Cq



Set
        w
            TJkℓ = (Uk− \ w G) ×BJ (NJ + uJ /uℓ ),   w
                                                         TJ = w G ×BJ (NJ + uJ ),

with uℓ = εℓ · uJ , ℓ, k ≥ 0, and w ∈ W J wJ . The group A acts on w TJkℓ , w T kℓ . The
obvious projection p : w T kℓ → w TJkℓ is proper, and commutes with A-action. Fix a
non empty, separated, open subset UJ ⊂ w TJkℓ which is preserved by the A-action.
44                                     ERIC VASSEROT

Set U = p−1 UJ . Let pU be the restriction of p to U. From [L5, 5.3] we get a graded
algebra homomorphism
                                                                                  
          ExtD        × (NJ )
                                (pJ )! C, (pJ )! C → ExtDA (UJ ) (pU )! C, (pU )! C .
                 GJ ×Cq



The right hand side is HA                  w kℓ     2
                        ∗ (ZU ), where ZU = Z≤wJ ∩ U . We get the commutative
square of algebra homomorphisms
                                     ′
                                    H
                                    J     −→     HA
                                                   ∗ (Z
                                                      U)
(9.4.1)                             y                 y
                                   CWJ     −→     Htop (ZU ),

where the subscript ‘top’ means that we only consider the homology groups of
maximal degrees. The right vertical map is evaluation at 0 in Lie(A).
  Fix e ∈ N . Set Be,≤w = Be ∩ B≤w . Fix w such that Be,≤w 6= ∅. Fix k such
that Be,≤w ⊂ w T kℓ . Fix UJ such that Be,≤w ⊂ U. The ring (Htop (ZU ), ⋆) acts on
H∗ (Be,≤w ), yielding a WJ -action on H∗ (Be ) = lim H∗ (Be,≤w ). This is Lusztig’s
                                                         −→ w
action.
   Let a = (s, ζ) be as in 2.12. Fix k, ℓ and UJ such that

                                   U a = (w T )a = (w T kℓ )a ,

see 2.13. Note that U is a smooth scheme of finite type. Composing the upper
horizontal map in (9.4.1) with the concentration map relative to U 2 we get an
algebra homomorphism
                             ψ : H′J → H∗ (Z≤w
                                             a
                                               J
                                                 ).
Hence H′J acts on H∗ (Bes ) by convolution whenever e ∈ N a . In 6.2 we defined a
HJ -action on H∗ (Bes ).
Claim. There are increasing Z≥0 -filtrations on HJ and H∗ (Bes ) such that the
graded ring associated to HJ is H′J , and the representations of HJ and H′J on
H∗ (Bes ) coincide modulo lower terms in the filtration.
Remark. Clearly the representations of H′J on H∗ (Bes ) are compatible, when J
varies, yielding a representation of the degenerated double affine Hecke algebra.

                                 A. Appendix : K-theory
A.1. Generalities. Let G be a linear group. In A.1 all schemes are Noetherian.
Given a G-scheme X , we say that (G, X ) has the resolution property if any G-
equivariant coherent sheaf on X is the quotient of a G-equivariant locally free sheaf,
and the quotient map commutes with the G-action. It is known that (G, X ) has
the resolution property if X is smooth and separated, see [T1]. If the scheme X is
smooth and not separated the pair (G, X ) has not the resolution property in general,
see [TT, Exercice 8.6]. If (G, X ) has the resolution property and X is smooth then
the natural group homomorphism KiG (X ) → KG        i (X ) is an isomorphism. In the
following we give a reminder on equivariant K-theory for non separated schemes.
(A.1.1) Let f : P → X be a G-equivariant map of G-schemes which is a H-
torsor, with H ⊂ G a closed normal subgroup. Then Lf ∗ is an isomorphism
                                                                                       45

  G/H
Ki    (X ) → KG
              i (P), see [T3]. In particular if G = G1 × G2 and Y is a G1 -scheme,
then P ×G1 Y is a G2 -scheme and there is the map
                     KG        G            G2
                      i (Y) → Ki (P × Y) → Ki (P ×G1 Y),
                        1



such that the first arrow takes E to C ⊠ E, and the second arrow is the inverse of
the pull-back by the projection P × Y → P ×G1 Y. The homotopy invariance and
the existence of localization long exact sequences are proved in [T3].
(A.1.2) The following lemma and its proof are taken from the proof of [T2, Lemma
4.3].
Lemma. X contains an open dense subset which is G-invariant and separated.
Proof: Fix a dense open affine subset U ⊂ X . The map G × X → X , (g, x) 7→ g · x
is flat of finite type. Hence it is open. Thus G · U ⊂ X is an open dense subset.
The open dense subset G◦ · U ⊂ X is separated by the following argument taken
from [R, Lemma V.3.11] that we reproduce for the comfort of the reader. Assume
that S is the spectrum of a discrete valuation field whith generic point x and closed
point y, and assume that f1 , f2 are maps S → G◦ · U such that f1 (x) = f2 (x). Set
Ui = {g ∈ G◦ ; g · fi (y) ∈ U}. They are non-empty open subsets of G◦ . Hence
U1 ∩ U2 6= ∅. Fix g ∈ U1 ∩ U2 . Then f1 (y), f2 (y) ∈ g −1 · U. Thus f1 = f2 because
g −1 · U is separated. Since G/G◦ is finite, G · (X \ G◦ · U) is a finite union of nowhere
dense closed subspaces of X . Hence X \ G · (X \ G◦ · U) is a G-invariant open dense
subset. It is separated because it is contained in G◦ · U.                              ⊓
                                                                                        ⊔
(A.1.3) Assume that the group G is diagonalizable and g ∈ G. Recall that KG j (X )g
                                         G
is the specialization of the RG -module Kj (X ) at the maximal ideal associated to
g, see 1.4.
Theorem. If the natural inclusion f : X g → X is a closed immersion, then the
direct image Rf∗ : KG   g       G
                    i (X )g → Ki (X )g is an isomorphism.

Proof: The proof of [T4, Theorem 2.1] extends easily to the case of non separated
schemes. Since f is a closed immersion and localization long exact sequences do
exist, we are reduced to check that KG    i (X )g = 0 for any G-scheme such that
X g = ∅. To do so, it is sufficient to construct a non empty open subset U ⊂ X
which is preserved by the G-action and such that KG      i (U)g = 0 because, then,
a Noetherian induction on closed G-subsets of X implies that KG    i (X \ U)g = 0,
and thus KGi (X ) g = 0 by the localization  long exact sequence. By Lemma A.1.2,
X contains an open dense subset U which is G-invariant and separated. Hence
KGi (U)g = 0 by the concentration theorem for separated G-schemes. We are done.
⊓
⊔
   Assume that X is smooth and f is a closed immersion. Then X g is smooth, pos-
sibly non separated, because smoothness is a local condition and X can be covered
by G-invariant open and separated subschemes. Let N be the conormal bundle of
                                            Vi
X g in X . The element λ(N ) = i≥0 (−1)i (N ) ∈ KG (X g )g is invertible. For
                                P

any G-equivariant vector bundle E on X we have f∗ (λ(N )−1 ⊗ (E|X g )) = E in
KG (X )g .
(A.1.4) The tor-product ⊗L : KG (X ) × KG (X ) → KG (X ) is well-defined if X
is smooth, possibly non separated. A naive proof is that the local Tor exist be-
cause X can be covered by G-invariant separated open subsets, see above. More
46                                    ERIC VASSEROT

rigorously, let QcohG (X ) be the Abelian category of G-equivariant quasi-coherent
sheaves on X . Let D(QcohG (X )) be its derived category. Let Db (QcohG (X )) ⊂
D(QcohG (X )) be the full subcategory whose objects are the complexes with bounded
cohomology. Let also DG (X )pf ⊂ Db (QcohG (X )) be the full subcategory whose
objects are perfect complexes (i.e. complexes locally quasi-isomorphic to a bounded
complex of locally free sheaves of finite type), and let DG (X )coh ⊂ Db (QcohG (X ))
be the full subcategory whose objects are the complexes with coherent cohomol-
ogy. Then KG (X ) = K(DG (X )coh ) because X is Noetherian, and K(DG (X )coh ) =
K(DG (X )pf ) because X is smooth and Noetherian, see [SGA6, Ch IV, §2.4-5]. Note
that [SGA6] considers only the non-equivariant case. The general case follows from
the resolution property of smooth separated G-schemes and the fact that X can be
covered by G-invariant separated open subsets by Lemma A.1.2. Since the derived
tensor product is well-defined on DG (X )pf , we have a derived tensor product on
KG (X ).
(A.1.5) Let Y1 , X1 be G-schemes with Y1 ⊂ X1 closed. Let f : X2 → X1 be a closed
immersion of G-schemes, and Y2 = f −1 (Y1 ) ⊂ X2 . If X1 is smooth then the pull-
back Lf ∗ : KG (Y1 ) → KG (Y2 ), E 7→ OX2 ⊗L E, respectively to the tor-product on
X1 , is well-defined.
Other conventions. We may identify a sheaf on X and its class in KG (X ). We
write ⊗, f∗ , f ∗ instead of ⊗L , Rf∗ , Lf ∗ . To avoid confusion we may also write ⊗X
for ⊗.
A.2. The ⋆-product. Let S be a smooth Noetherian G-scheme. Fix closed G-
subschemes 12 Z̃, 13 Z̃, 23 Z̃ ⊂ S such that 12 Z̃ ∩ 23 Z̃ ⊂ 13 Z̃. Let gij : ij Z̃ → ij Z
be smooth G-maps such that the restriction of g13 to 12 Z̃ ∩ 23 Z̃ is proper. The
⋆-product relative to S is

                                                                ∗        ∗
           KG (12 Z) × KG (23 Z) → KG (13 Z), (E, F ) 7→ g13∗ (g12 E ⊗S g23 F ).

   The following situation is standard : T is a smooth Noetherian G-scheme,
12
   Z, 13 Z, 23 Z are closed subsets in T 2 preserved by the diagonal G-action, S = T 3 ,
and qij : S → T 2 is the projection along the factor not named such that q13 re-
                             −1 12        −1 23
stricts to a proper map q12     ( Z) ∩ q23  ( Z) → 13 Z. Then the ⋆-product relative
                              ∗        ∗
to S takes (E, F ) to q13∗ (q12 E ⊗S q23 F ). If 12 Z = 23 Z = 13 Z = Z then (KG (Z), ⋆)
is a RG -algebra. This example adapts easily to the case where S is the product of
three distinct smooth schemes. This generalization is left to the reader.
   If G = {1}, p : T → N is proper with T , N separated, and Z = T ×N T , there
is a linear map Φ : K0 (Z) → ExtD(N ) (p∗ CT , p∗ CT ) taking the ⋆-product to the
Yoneda product. It is the composition of the bivariant Riemann-Roch map RR :
K0 (Z) → H∗ (Z) relative to T 2 , see [CG, 5.11], and of the chain of isomorphisms

                            ˙ ∗ (Z, DZ )=Ext
                      H∗ (Z)=H          ˙           ∗       !
                                             D(Z) (q1 CT , q2 CT ) =


     = ExtD(T ) (q2! q1∗ CT , CT ) = ExtD(T ) (p∗ p! CT , CT ) = ExtD(N ) (p∗ CT , p∗ CT ).
Moreover Φ is invertible if RR is invertible.
A.3. Functoriality of ⋆. For each k = 1, 2 we fix Tk , Zk ⊂ (Tk )2 , and Sk = (Tk )3
as in A.2. Let f : T2 → T1 be a flat G-map such that (f × f )(Z2 ) ⊂ Z1 .
                                                                                        47

(A.3.1) Assume that f × Id restricts to a proper map Z2 → (Id × f )−1 (Z1 ). Then
the maps (f × Id)∗ : KG (Z2 ) → KG ((Id × f )−1 (Z1 )) and (Id × f )∗ : KG (Z1 ) →
KG ((Id × f )−1 (Z1 )) are well-defined. If (f × Id)∗ (E2 ) = (Id × f )∗ (E1 ), and (f ×
Id)∗ (F2 ) = (Id × f )∗ (F1 ), then

  (f × Id)∗ (E2 ⋆ F2 )   = (f × Id)∗ q13∗ ((E2 ⊠ C) ⊗ (C ⊠ F2 )),
                         = q13∗ (f × f × Id)∗ ((E2 ⊠ C) ⊗ (f × Id × Id)∗ (C ⊠ F2 )),
                         = q13∗ (Id × f × Id)∗ ((Id × f × Id)∗ (E1 ⊠ C) ⊗ (C ⊠ F2 )),
                         = q13∗ ((E1 ⊠ C) ⊗ (Id × Id × f )∗ (C ⊠ F1 )),
                         = q13∗ (Id × Id × f )∗ ((E1 ⊠ C) ⊗ (C ⊠ F1 )),
                         = (Id × f )∗ q13∗ ((E1 ⊠ C) ⊗ (C ⊠ F1 )),
                         = (Id × f )∗ (E1 ⋆ F1 ).

The 3-rd and 4-th equalities follow from the projection formula, the 6-th equality
follows from base change.
    If (f × Id)∗ is invertible we set f ♯ = (f × Id)−1         ∗   G          G
                                                    ∗ (Id × f ) : K (Z1 ) → K (Z2 ),
if (Id × f )∗ is invertible we set ♯ f = (Id × f )∗−1 (f × Id)∗ : KG (Z2 ) → KG (Z1 ).
Both maps are ⋆-homomorphisms.
Examples. (i) If T1 = T2 , f = Id, and Z2 is closed in Z1 then ♯ f makes sense.
  (ii) If f is open immersion such that Z2 = (Id × f )−1 (Z1 ) then f ♯ makes sense.
(A.3.2) If Id ×f restricts to a proper map Z2 → (f ×Id)−1 (Z1 ) and (Id×f )∗ (E2 ) =
(f × Id)∗ (E1 ), (Id × f )∗ (F2 ) = (f × Id)∗ (F1 ), then E1 ⋆ F1 , E2 ⋆ F2 satisfy similar
relations.
    If (Id × f )∗ is invertible we set ♯ f = (Id × f )−1         ∗     G            G
                                                       ∗ (f × Id) : K (Z1 ) → K (Z2 ),
            ∗                                        ∗−1               G            G
if (f × Id) is invertible we set f♯ = (f × Id) (Id × f )∗ : K (Z2 ) → K (Z1 ).
Both maps are ⋆-homomorphisms.
(A.3.3) Fiven g ∈ G, let i : T g → T be the natural inclusion. Assume that G is a
diagonalizable group and i is a closed immersion (for instance if T is separated). The
map (i × i)∗ : KG (Z g )g → KG (Z)g is invertible by the Thomason concentration
theorem. Let N be the conormal bundle of T g in T . The element λ(N ) ∈ KG (T g )g
is invertible, see (A.1.3). The concentration map relative to T 2 is

                cg = (1 ⊠ λ(N )) ⊗ (i × i)−1
                                          ∗  : KG (Z)g → KG (Z g )g ,

see [CG, 5.11]. It commutes with ⋆ (indeed cg = i♯ , see (A.3.1)).
A.4. Induction. Let G, T , Z ⊂ T 2 be as in A.2. Let also S = T 3 , U = T 2 ,
and qij : S → T 2 be the obvious projection. We will assume that T is separated.
Fix another linear group H. Let P be a H-equivariant G-torsor over a smooth H-
scheme X . Set TP = P ×G T . Idem for SP , ZP , UP . The H-schemes UP , TP , SP
are smooth because the G-action on P is locally free and X is smooth. Moreover
ZP is closed in UP .
(A.4.1) The obvious projection gij : SP → UP is smooth, because the base change
                                               −1
of a smooth map is again smooth. Set ij Z̃P = gij (ZP ). The ⋆-product KH (ZP ) ×
KH (ZP ) → KH (ZP ) relative to SP is well-defined.
   Assume that X is a separated scheme. Then the map δ : ZP → (TP )2 composed
of the inclusion Z ⊂ T 2 and the diagonal P → P 2 is a closed immersion. Set ZPδ =
δ(ZP ). There is a ⋆-product KH (ZPδ ) × KH (ZPδ ) → KH (ZPδ ) relative to (TP )3 .
48                                               ERIC VASSEROT

The base change and the projection formula imply that δ∗ is a ring isomomorphism
KH (ZP ) → KH (ZPδ ).
(A.4.2) Let ϕ : P × Z → Z and ψ : P × Z → ZP be the natural projections.
The composition of the obvious map KG (Z) → KG×H (Z) and of (ψ∗ )−1 ◦ ϕ∗ is a
⋆-homomorphism KG (Z) → KH (ZP ).
(A.4.3) Assume that H is diagonalisable. Fix h ∈ H, and write ZPh , TPh , UPh for
(ZP )h , (TP )h , (UP )h . Assume that X h is a closed separated subset of X . Then
δ restricts to a closed immersion ZPh → (TPh )2 . We endow KH (ZPh ) with the ⋆-
product relative to (TPh )3 . Let i : UPh → UP be the natural inclusion. It is a closed
immersion. The concentration map relative to UP is

                          ch = λ(N ) ⊗ i−1
                                        ∗  : KH (ZP )h → KH (ZPh )h ,

where N is the pull-back by the 2-nd projection UP → TP conormal bundle to TPh
in TP . The following are easily checked :
   (i) ch commutes with ⋆,
   (ii) if X is separated then δ∗ ◦ ch ◦ (δ∗ )−1 is the concentration relative to (TP )2 .
(A.4.4) Let X ′ → X be a smooth H-map. Set P ′ = X ′ ×X P. The 1st projection
P ′ → X ′ is a H-equivariant G-torsor. The 2nd projection q : P ′ → P is smooth.
Set TP ′ = P ′ ×G T , etc. Set qT = q × Id : TP ′ → TP , and qZ = q × Id : ZP ′ → ZP .
The pull-back (qZ )∗ : KH (ZP ) → KH (ZP ′ ) makes sense because qZ is smooth.
The following are easily checked :
    (i) (qZ )∗ is a ⋆-homomorphism,
    (ii) if X h , (X ′ )h are closed and separated then ch ◦ (qZ )∗ = (qh )♯ ◦ ch , where
qh : TPh′ → TPh is the restriction of qT ,
    (iii) if X is separated then δ∗ ◦ (qZ )∗ ◦ (δ∗ )−1 = (qT )♯ .
A.5. Ind-objects and Pro-objects. Definition of KG (T ). From now on let
Tℓk be Noetherian G-schemes for k, ℓ ≥ 0, with commutative diagrams of affine
G-maps
                                                         k k1
                                                        pℓ 2
                                              k2
                                            T
                                             ℓ2
                                                         2
                                                        −→         Tℓk21
                                     k                               ypkℓ 1ℓ
(A.5.1)                             pℓ 2ℓ
                                      2 1
                                             y
                                                                           2 1
                                                         k k1
                                                        pℓ 2
                                            Tℓk12        1
                                                        −→         Tℓk11

satisfying the obvious composition rules, for any k2 ≥ k1 , ℓ2 ≥ ℓ1 . We write pk2 k1
for pℓk2 k1 , and pℓ2 ℓ1 for pkℓ2 ℓ1 . We write also pk2 k1 ∗ , p∗ℓ2 ℓ1 , p∗k2 k1 , for (pk2 k1 )∗ , (pℓ2 ℓ1 )∗ ,
(pk2 k1 )∗ . Let T be the scheme representing the projective system (Tℓk , pk2 k1 , pℓ2 ℓ1 ).
Let pkℓ : T → Tℓk be the canonical map. We set

                                                KG (Tℓk ), pk2 k1 ∗ , p∗ℓ2 ℓ1 .
                                                                                
                            KG (T ) = lim
                                               −→ k,ℓ


The tensor product by vector bundles endows KG (T ) with the structure of a RG -
algebra. If pℓ2 ℓ1 , pk2 k1 are torsors over a vector bundle then KG (T ) ≃ KG (T00 ).
Given two pro-G-schemes (1 Tℓk ), (2 Tℓk ) as above and G-maps fℓk : 2 Tℓk → 1 Tℓk com-
muting to pℓ2 ℓ1 and pk2 k1 , we have the RG -algebra homomorphism f ∗ : KG (1 T ) →
KG (2 T ) such that (Eℓk ) 7→ ((fℓk )∗ (Eℓk )).
                                                                                                 49

   If C is a category, let C◦ be the opposite category and Ind(C), Pro(C) the
categories of ind- and pro-objects in C, see [GV] for background. Objects in Ind(C)
are denoted by “lim ”Ci where (Ci ) is a filtering inductive system over C, while
                     −→ i
objects in Pro(C) are denoted by “lim ”Ci where (Ci ) is a filtering projective
                                                ←− i
system over C. Recall that Ind(C) can be considered as a full subcategory in the
category of functors C◦ → Sets, while Pro(C) = Ind(C◦ )◦ . Two pro-objects (resp.
ind-objects) are isomorphic if they are isomorphic in Pro(C) (resp. Ind(C)). See
[KT1, Section 1] for more details on pro-schemes, including pro-smoothness. Let
us quote the following fact from [EGAIV, Corollary 8.13.2].
Proposition. For any scheme X, the category of pro-objects in the category of
affine schemes of finite type over X is equivalent to the category of affine schemes
over X via the functor “lim ”Ci 7→ lim Ci .
                              ←− i         ←− i

In particular, two pro-objects (Tℓk , pk2 k1 , pℓ2 ℓ1 ) and (′ Tℓk ,′pk2 k1 ,′pℓ2 ℓ1 ) as above rep-
resenting the same scheme T are necessarily isomorphic.
A.6. Definition of KG (Z). From now on we assume that the square (A.5.1) is
Cartesian, Tℓk is smooth, and pk2 k1 , pℓ2 ℓ1 are smooth locally trivial fibrations.
   Given a G-subscheme Z ⊂ T 2 we put Zℓk = (pkℓ × pkℓ )(Z). Assume that Zℓk is
closed in (Tℓk )2 , that Id×pℓ2 ℓ1 restricts to an isomorphism Zℓk2 → (pℓ2 ℓ1 ×Id)−1 (Zℓk1 ),
and that pk2 k1 × Id restricts to an isomorphism Zℓk2 → (Id × pk2 k1 )−1 (Zℓk1 ). The
map (pk2 k1 )♯ commutes with ♯ pℓ2 ℓ1 by base change. We set

                        KG (Z) = lim          (KG (Zℓk ), (pk2 k1 )♯ , ♯ pℓ2 ℓ1 ).
                                     −→ k,ℓ


 If pℓ1 ℓ2 , pk1 k2 are torsors over vector bundles then KG (Z) is isomorphic to
K (Z00 ).
  G


A.7. The ⋆-product on KG (Z). Given 12 Z, 23 Z, 13 Z as above, assume that
                                                                           −1 12 k
each ij Zℓk is closed in (Tℓk )2 , and that q13 restricts to a proper map q12 ( Zℓ ) ∩
 −1 23 k
q23 ( Zℓ ) → Zℓ . If (Eℓ ) ∈ K ( Z) and (Fℓ ) ∈ K ( Z), then (Eℓ ⋆ Fℓk ) lies
                13 k        k        G 12           k       G 23           k

in KG (13 Z). It yields the ⋆-product KG (12 Z) × KG (23 Z) → KG (13 Z) relative to
T 3.

              B. Appendix : infinite dimensional vector spaces.
   Let k be a field, V be a k-vector space. Let L(V ) be the k-algebra consisting of
linear endomorphisms of V . It is a topological ring for the finite topology, i.e. such
that a basis of neighborhoods of the element φ is formed by the subsets

                                 {φ′ ; φ′ (x) = φ(x), ∀x ∈ S}

where S ⊂ V is finite.
Proposition. A smooth and simple representation of the topological ring L(V ) is
isomorphic to V .
Proof: Let W be a smooth representation of L(V ). It gives a continuous ring
homomorphism ρ : L(V ) → L(W ). If Ker (ρ) 6= {0} then it contains the two-
sided ideal L(V )f ⊂ L(V ) consisting of endomorphisms of finite rank, hence ρ =
50                                                 ERIC VASSEROT

0 because Ker (ρ) is closed and L(V )f is dense. Therefore, if W is simple ρ is
an isomorphism of L(V ) onto a dense subring in L(W ) by the Jacobson density
theorem. Then, by [J, Chap. IX, §11, Theorem 6 and 7] there is an isomorphism
ψ : V → W such that ρ(x) = ψ ◦ x ◦ ψ−1 for all x. We are done.               ⊓
                                                                             ⊔

                                               Index of notations
1.4. G◦ , KG (X ), KG (X ), KG           i                                           ×
                               i (X ), KG (X ), RG , Jg , Cg , Mg , δX , qij , qi , Cρ , hgi,
NG (H), H∗ (X ), KG              G
                   i,top (X ), Ktop (X ), D(X ), DG (X ), CX , DX , ICX , V =W     ˙ , FV ,
            ×             •
Dcon (V ), CV , ModA , c
2.0. G, H, g, gα , h, b, Φ, X, Y , X ∨ , Y ∨ , αi , ωi , α∨    ∨       ∨
                                                          i , ωi , θ, θ , W , W , ℓ(w), I, I,
        ∨    ∨           ∨           ∨
X, Y , X , Y , δ, α0 , α0 , c, ω0 , ω0 , ( : ), mij , Ω
2.1. K, Kd , ε, g, h, Φ, Φ+ , Φ− , gα , Θ, u(±Θ), Θℓ , uℓ , u−
                                                             ℓ , u, u
                                                                     −


2.2. G′ , GKM , G, Gd , C×    ×     ′      ′            −                       −
                         δ , Cω0 , H , H, X , Ws , U , U , U (Θ), U (−Θ), Uℓ , Uℓ ,
U±α , B, B −
2.3. X , G, π, Ẇ , 1G , 1X , Xy , X w , U w , X≤y , w X , w G, y ′′  (y, y ′ )
       w
2.4.       X k , pk 2 k 1 , pk
2.5. T , ρ : T → X , V w , w T , [g : x], Ty
2.6.   w
           T kℓ , T ℓ , pℓ , pℓk2 k1 , pkℓ2 ℓ1 , pkℓ
2.7. b, B, bw
2.8. ġ, p : ġ → g, Bx , N , Ṅ ,
2.9. ΦJ , Φ±                                        J        J     J w J w J,k
             J , UJ , uJ , GJ , BJ , bJ , WJ , wJ , W , W , X , X , X             , B J , πJ , B,
                                                                       J    J
ġ, p : ġ → g, N , Ṅ , B x , Z, BJ , ṄJ , ZJ , OJ,y , ZJ,y , ZJ,≤y , By , B, ♭, ! : B → B,
p!
2.10. P J , w P J,k
2.11. ad(g,ζ) x, C×
                  q , A

2.12. s, s′ , s, a, Gs , B s , gs , T a
           w
2.13.          X s , w T a , Xis , Ξs , Ṅia
3.1. H, ti , xλ , RH , RA , ty , IM , Rτ,ζ , Hτ,ζ , H≤w , Hch
3.2. HJ , H, Hζ
4.1. Oy , O≤y , w Oy , w Oyk
4.2. Zy , Z≤y , Z, w Zy , w Zykℓ , Zyℓ
      a
4.3. Zij
                                   ′
       w    a
4.4.       Z≤y , D ⊂ A, hw w , hyy′ , KD (Z≤y
                                           a
                                              ), KD (Z a ), Ka , Ka,≤y
4.5. KA (w Z≤w
            0
               J
                 ), ca
       w
4.6.       Lkλ , w Lkℓ                        w         w    w               s        a
                    λ , KH (X ), KA (T ), KH ( X ), KA ( T ), Lλ , Lλ , KH (X ), KA (T ),
Lλ
                                                                                                           51

4.7. Dλ , w D kℓ , w Dλ0 , Di , Z̄si , (w Zsi )kℓ , w Dikℓ, w Di0 , pa , Dλ,a , Di,a , ♯ pa
       w
4.8.       βs , Iw,s , Ia , R̂a , W (a)
4.9. Ψa , ΘJ , w ΘJ , φk , ψk , Γk , Γ, θi , w Ψa , Ψ̂a , Ĥa
5.1. gKM , φ = {e, f, h}, gφ , Gφ , Zφ (G), Ae , Cφ , sφ
                                                         k,ℓ
5.3. z(f ), sφ , S φ , sφ , Sφ,y , Sφ,≤y , Sφ,<y , Sφ , Sφ,y , γykℓ , γy , γy,a
5.4. KD (Sφ,≤y
          a
               )
5.5. (SQ ), B se , (TH )
5.6. c̃a , Θ̃♭
5.7. σi , σi′
5.8. Υ, Υy
6.1. La,i , Sa,χ , La,χ,i , La,χ , {χ}, La , Ext(La , La ), ΦS , Φa , nilp, RR
            s
6.2. Bes , Be,≤y , H∗ (Bes ), G(s, e), Π(s, e), Na,e,χ , Π(s, e)∨ , ι

6.3. Π(a)∨ , v : C× → Q, φ = {e, f , h}, M , M φ , gt,i , Q, L, q, l, Q̂, N̂ a , B̂es , L(s, e),
ZL◦ , M s , Mφs , Mus , Ξ̂s
6.5. Π(s, e), G(s, e), Π(s, e)∨ , Π(a)∨ , La,χ , G(s, φ), Ma,φ,χ , na,χ,χ′
6.7. na,χ,χ , ε

7.1. BL , NL , ṄL , l̇, g± , l± , ġ± , l̇± , E± , F± , Indgq±
                                                              ±
                                                                , Ṅ± , ṄL,±
7.3. h : i
7.4. Π(a)∨ , ǎ, Lǎ,χ̌ , ā
7.5. ma,χ,χ

7.6. Modint
        Hτ,ζ

8.2. σ = (σij ), σ[n], {(σa ), (za )}, S, S/ ∼, C, C/ ∼
8.3. H′τ,ζ , Hch             π    π
              τ,ζ , {L, α}, M , {M , β}

8.4. Cd , Sd , Qm , Qd / ∼, s di , Rep s d (Qm )
8.5. Um , S∞ , B, bx , F, fx , d, fd , U∞ , f i , Q∞ , B, F, bx , f x , d, fd , Hd , Gd , G∞ ,
T∞ , Lx , Lx , Mx , Mx , C d [ℓ], C d , S d , S ∞ , Hd , Gd , G∞ , T∞ , Lx , Lx , Mx , Mx , ∆,
Û∞ , mx,x
9. Moda , Moda
9.3. ht, h, r, ρ∨ , Πk , ek , ak
9.4. H′J , NJ , pJ : ṄJ → NJ ,           w
                                              TJkℓ ,   w
                                                           TJ , p :   w
                                                                          T kℓ → w TJkℓ , UJ , U, ZU , Be,≤w ,
H∗ (Be ), ψ
52                                   ERIC VASSEROT

                                       References
[A]     Ariki, S., On the decomposition numbers of the Hecke algebra of G(n, 1, m), J. Math.
        Kyoto Univ. 36 (1996), 789-808.
[AST] Arakawa,T., Suzuki, T., Tsuchiya, A., Degenerate double affine Hecke algebras and con-
        formal field theory, Topological Field Theory, Primitive Forms and Related Topics, Pro-
        ceedings of the 38-th Taniguchi Symposium, Birkhauser, 1998.
[B]     Bourbaki, N., Groupes et algèbres de Lie, chap. IV-VI, Hermann, Paris, 1968.
[BEG1] Baranovsky, V., Evens, S., Ginzburg, V., Representations of quantum tori and double-
        affine Hecke algebras, math.RT/0005024.
[BEG2] Berest, Y., Etingof, P., Ginzburg, V., Cherednik algebras and differential operators on
        quasi-invariants, math.QA/0111005.
[BH]    Bass, H., Haboush, W., Linearizing certain reductive group actions, Trans. Amer. Math.
        Soc. 292 (1985), 463-482.
[BL]    Bernstein, J., Lunts, V., Equivariant sheaves and functors, Lecture Notes in Math.,
        vol. 1578, Springer-Verlag, 1994.
[BV]    Barbash, D., Vogan, D., Unipotent representation of complex semisimple groups, Ann.
        Math. 121 (1985), 41-110.
[C1]    Cherednik, I., Intertwining operators of double affine Hecke algebras, Selecta. Math. 3
        (1997), 459-495.
[C2]    Cherednik, I., Double affine Hecke algebras and difference Fourier transforms, math.QA/0110024
        (revised in May 2002).
[CG]    Chriss, N., Ginzburg, V., Representation theory and complex geometry, Birkhäuser,
        Boston-Basel-Berlin, 1997.
[DLP] De Concini, C., Lusztig, G., Procesi, C., Homology of the zero-set of a nilpotent vector
        field on a flag manifold, J. Amer. Math. Soc. 1 (1988), 15-34.
[EGAIV] Grothendieck, A., Dieudonné, J., Eléments de géométrique algébrique IV, Publ. Math.
        IHES (1967).
[EM]    Evens, S., Mirković, I., Fourier transform and the Iwahori-Matsumoto involution, Duke
        Math. J. 86 (1997), 435-464.
[F]     Fan, C.K., Euler characteristic of certain affine flag varieties, Transformation Groups 1
        (1996), 35-39.
[G]     Garland, H., The arithmetic theory of loop groups, Publ. Math. I.H.E.S. 52 (1980),
        5-136.
[GG]    Garland, H., Grojnowski, I., Affine Hecke algebras associated to Kac-Moody groups,
        preprint math.QA/9508019.
[GV]    Grothendieck, A., Verdier, J.-L., Théorie des topos et cohomologie étale des schémas,
        SGA IV, Lectures Notes in Math, vol. 269, Springer, 1970.
[IM]    Iwahori, N., Matsumoto, H., On some Bruhat decomposition and the structure of the
        Hecke rings od p-adic Chevalley groups, Publ. Math. I.H.E.S. 25 (1965), 5-48.
[J]     Jacobson, N., Lectures in abstract algebra, vol. II : Linear algebra. (D. Van Nostrand
        Co., ed.), 1953.
[K]     Kashiwara, M., The flag manifold of Kac-Moody Lie algebras, Algebraic Analysis, Ge-
        ometry and Number Theory, Johns Hopkins Univ. Press, Baltimore, 1990.
[Kc]    Kac, V., Constructing groups associated to infinite-dimensional Lie algebras, MDRI
        publication, vol. 4, Springer-Verlag, 1985, pp. 167-216.
[KcP]   Kac, V., Peterson, D., On geometric invariant theory for infinite-dimensional groups,
        Lecture Notes in Math., vol. 1271, Springer-Verlag, 1987.
[KcW] Kac, V., Wang, S.P., On automorphisms of Kac-Moody Algebras and groups, Adv. in
        Math. 92 (1992), 129-195.
[KL1]   Kazdhan, D., Lusztig, G., Proof of the Deligne-Langlands conjecture for Hecke algebras,
        Invent. Math. 87 (1987), 153-215.
[KL2]   Kazdhan, D., Lusztig, G., Fixed point varieties on affine flag manifolds, Israel J. Math.
        62 (1988), 129-168.
[KS]    Kashiwara, M., Schapira, P., Sheaves on manifolds, Grundlehren Math. Wiss., vol. 292,
        Springer-Verlag, 1990.
[KT1]   Kashiwara, M., Tanisaki, T., Kazhdan-Lusztig conjecture for symmetrizable Kac-Moody
        Lie algebras, II, Operators Algebras, Unitary Representations, Enveloping Algebras, and
        Invariant theory, Prog. Math., vol. 92, Birkhauser, Boston, 1990, pp. 159-195.
                                                                                             53

[KT2]  Kashiwara, M., Tanisaki, T., Kazhdan-Lusztig conjecture for affine Lie algebras with
       negative level, Duke Math. J. 77 (1995), 21-69.
[KT3]  Kashiwara, M., Tanisaki, T., Parabolic Kazhdan-Lusztig polynomials and Schubert vari-
       eties, math.RT/9908153.
[L1]   Lusztig, G., Study of perverse sheaves arising from graded Lie algebras, Adv. Math. 112
       (1995), 147-217.
[L2]   Lusztig, G., Bases in equivariant K-theory, Representation Theory 2 (1998), 298-369.
[L3]   Lusztig, G., Bases in equivariant K-theory, II, Representation Theory 3 (1999), 281-353.
[L4]   Lusztig, G., Canonical bases arising from quantized enveloping algebras, I, J. Amer. Soc.
       3 (1990), 447-498.
[L5]   Lusztig, G., Affine Weyl groups and conjugacy classes in Weyl groups, Transformation
       Groups 1 (1996), 83-97.
[N]    Nakajima, H., Quiver varieties and finite dimensional representations of quantum affine
       algebras, J. Amer. Soc. 14 (2000), 145-238.
[R]    Raynaud, M., Faisceaux amples sur les schémas en groupes et les espaces homogènes,
       Lecture Notes in Math., vol. 119, Springer-Verlag, 1970.
[S]    Shoji, T., On the Green polynomial of classical groups, Invent. Math. 74 (1983), 239-267.
[SGA6] Berthelot, P., Grothendieck, A., Illusie, L., Théorie des intersections et Théorème de
       Riemann-Roch, Lecture Notes in Math., vol. 225, Springer-Verlag, 1971.
[SS]   Springer, T.A., Steinberg, R., Conjugacy classes, Lecture Notes in Math., part E,
       vol. 131, Springer-Verlag, 1970.
[T1]   Thomason, R. W., Equivariant resolution, linearization, and Hilbert fourteenth problem
       over arbitrary base schemes, Adv. in Math. 65 (1987), 16-34.
[T2]   Thomason, R. W., Comparison of equivariant algebraic and topological K-theory, Duke
       Math. J. 53 (1986), 795-825.
[T3]   Thomason, R. W., Equivariant algebraic vs. topological K-homology Atiyah-Segal-style,
       Duke Math. J. 56 (1988), 589-636.
[T4]   Thomason, R. W., Une formule de Lefschetz en K-théorie équivariante algébrique, Duke
       Math. J. 68 (1992), 447-462.
[TT]   Thomason, R., Trobaugh, T., Higher algebraic K-theory of schemes and of derived cat-
       egories, The Grothendieck Festschrift, vol. 3 (P. Cartier et al., ed.), Birkhauser, 1990,
       pp. 247-436.
[VV]   Varagnolo,M., Vasserot, E., On the decomposition matrices of the quantized Schur alge-
       bra, Duke Math. J. 100 (1999), 267-297.

  D épartement de Mathématiques, Université de Cergy-Pontoise, 2 av. A. Chauvin,
BP 222, 95302 Cergy-Pontoise Cedex, France
  E-mail address: eric.vasserot@math.u-cergy.fr
