                                                STABLE ENDOMORPHISM ALGEBRAS OF MODULES
                                                      OVER SPECIAL BISERIAL ALGEBRAS
arXiv:math/0208150v1 [math.RT] 21 Aug 2002




                                                            JAN SCHRÖER AND ALEXANDER ZIMMERMANN


                                                     Abstract. We prove that the stable endomorphism algebra of a mod-
                                                     ule without self-extensions over a special biserial algebra is a gentle
                                                     algebra. In particular, it is again special biserial. As a consequence, any
                                                     algebra which is derived equivalent to a gentle algebra is gentle.



                                                   Dedicated to Idun Reiten on the occasion of her 60th birthday


                                                                              1. Introduction
                                                Let k be an algebraically closed field, and let A be a k-algebra. One of
                                             the most important classes of tame algebras is the class of special biserial
                                             algebras. These algebras occur naturally in many different contexts, see
                                             the introduction of [17] or [18] for more details. We shall prove that for a
                                             special biserial algebra A and any A-module M without self-extensions the
                                             endomorphism algebra of M modulo the ideal of endomorphisms factoring
                                             through a projective A-module is not only special biserial again, but is even
                                             a gentle algebra. Gentle algebras are special biserial algebras satisfying
                                             certain minimality conditions.
                                                The result is interesting and surprising in its own right, since for arbitrary
                                             algebras this quotient of the endomorphism algebra of modules without self-
                                             extensions will be very different from the original algebra. Nevertheless, our
                                             main motivation came from different considerations, namely the theory of
                                             derived equivalences. Let mod(A) be the category of finite-dimensional right
                                             A-modules and let Db (A) be the derived category of bounded complexes of
                                             finitely generated A-modules. Two algebras A and B are said to be derived
                                             equivalent if the categories D b (A) and Db (B) are equivalent as triangulated
                                             categories. The stable module category mod(A) is the category with the
                                             same objects as mod(A), and morphisms are equivalence classes of A-module
                                             homomorphisms modulo those which factor through a projective module.
                                                Rickard shows that two algebras A and B are derived equivalent if and
                                             only if there exists a so-called tilting complex T in Db (A) such that B ≃
                                             EndDb (A) (T ), see [10],[12]. Now, Happel proved in [8] that there is a full

                                               2000 Mathematics Subject Classification: 16E30, 16G20, 18E30.
                                             We gratefully acknowledge support from the Volkswagen Foundation (RIP Program at
                                             Oberwolfach).
                                                                                         1
2               JAN SCHRÖER AND ALEXANDER ZIMMERMANN

and faithful embedding F : Db (A) −→ mod(RA) of triangulated cate-
gories, where RA is the repetitive algebra of A. Since for a tilting com-
plex T one gets HomDb (A) (T, T [1]) = 0, the algebra B is isomorphic to the
endomorphism algebra in mod(RA) of a module M = F T without self-
extensions. Thus, studying stable endomorphism algebras of modules with-
out self-extensions is of central importance when one is interested in derived
equivalences.
   In our case, since an algebra is gentle if and only if its repetitive algebra
is special biserial, (see [11] and also [14] and [15]), we get as a corollary
to our main result that the class of gentle algebras is closed under derived
equivalences. At the moment, examples of this kind are very rare and clearly
show that gentle algebras deserve much attention.
   To be more precise, let us recall some definitions: Let Q be a quiver. For
an arrow α : a → b, let s(α) = a be its starting point and e(α) = b its end
point. A path of length n ≥ 1 in Q is a sequence α1 · · · αn of arrows such
that e(αi ) = s(αi+1 ) for all 1 ≤ i ≤ n − 1. A relation for Q is a non-zero
k-linear combination of paths of length at least 2 having the same starting
point and the same end point. Let ρ be a set of relations for Q. Then (Q, ρ)
is called special biserial if the following hold:
  (1) Any vertex in Q is the starting point of at most two arrows and also
      the end point of at most two arrows;
  (2) Given an arrow β, there is at most one arrow α with e(α) = s(β) and
      αβ ∈ / ρ, and there is at most one arrow γ with e(β) = s(γ) and βγ ∈   / ρ;
  (3) Each infinite path in Q contains a subpath which is in ρ.
A special biserial pair (Q, ρ) is gentle if additionally the following hold:
  (4) All elements in ρ are paths of length 2;
  (5) Given an arrow β, there is at most one arrow α′ with e(α′ ) = s(β)
      and α′ β ∈ ρ, and there is at most one arrow γ ′ with e(β) = s(γ ′ ) and
      βγ ′ ∈ ρ.
A k-algebra is called special biserial, or gentle, if it is Morita equivalent to
an algebra kQ/(ρ) for (Q, ρ) special biserial, or gentle, respectively. In these
cases, kQ/(ρ) is finite-dimensional if and only if Q contains only finitely
many vertices. Here kQ is the path algebra of Q, and (ρ) is the ideal
generated by the elements in ρ. Recall that kQ has as a basis the set of
all paths in Q including a path ei of length 0 for each vertex i in Q. By
‘modules’ we always mean finitely generated right modules.
   Here is our main result.
Theorem 1.1. Let A be a special biserial algebra, and let M be an A-
module. If Ext1A (M, M ) = 0, then EndA (M ) is a gentle algebra.
   Let T [i] be the usual shift of a complex T in D b (A) by i degrees to the
left (we adopt the convention of [10]). Then, this theorem has the following
consequence.
                STABLE ENDOMORPHISM ALGEBRAS OF MODULES                              3

Corollary 1.2. Let A be a finite-dimensional gentle algebra, and let T be a
complex in Db (A). If HomDb (A) (T, T [1]) = 0, then EndDb (A) (T ) is a gentle
algebra. In particular, any algebra B which is derived equivalent to A is
gentle, and (up to Morita equivalence) there are only finitely many such
algebras B.
   Classical examples of gentle algebras are hereditary algebras of type An
and Ãn . It was known before that all algebras which are derived equivalent to
these examples are gentle again. For a complete classification of the derived
equivalence classes of these examples see [1] and [3]. Recently, Vossieck
classified all algebras A such that D b (A) is discrete. In this case, it turns
out that A is either derived hereditary of Dynkin type or a gentle algebra,
see [19]. Using Vossieck’s result, the derived equivalence classes of algebras
with discrete derived category have been classified in [4].
   The paper is organised as follows. In Section 2 we recall definitions and
give a survey of known results. The main theorem and its corollary are
proved in Section 3. Finally, in Section 4 we give some examples.
   Although we often write maps on the left hand side, we compose them as
if they were on the right. Thus the composition of a map θ followed by a
map φ is denoted θφ.

             2. Known facts on special biserial algebras
   In this section, we recall some basic facts on special biserial algebras,
string modules and homomorphisms between string modules. As a main
reference we use [5], see also there for further references.
   Let Q = (Q0 , Q1 ) be a quiver with set of vertices Q0 and set of arrows Q1 .
Let ρ be a set of relations for Q such that (Q, ρ) is special biserial, and let
A = kQ/(ρ) be the corresponding special biserial algebra. Without loss of
generality we can assume that ρ contains only zero relations, i.e. paths, and
relations of the form p−q with p and q paths, which are called commutativity
relations. If r = p − q is a commutativity relation, then we say that p and q
are contained in r. By ρ+ we denote the set ρ together with all paths which
are contained in commutativity relations in ρ.
   Given an arrow α in Q denote by α− a formal inverse where s(α− ) = e(α)
and e(α− ) = s(α). Also let (α− )− = α. The set of formal inverses of arrows
is denoted by Q−    1 . We use the word ‘arrow’ only for element in Q1 , we refer
to elements in Q−     1 always as inverse arrows. A string (for (Q, ρ)) of length
n ≥ 1 is a sequence c1 · · · cn of arrows or inverse arrows with the following
properties:
  (1) e(ci ) = s(ci+1 ) for 1 ≤ i ≤ n − 1;
  (2) ci 6= c−
             i+1 for 1 ≤ i ≤ n − 1;
  (3) For all 1 ≤ i < j ≤ n neither ci ci+1 · · · cj nor c−        −    −
                                                          j · · · ci+1 ci are contained
      in ρ+ .
Let C = c1 · · · cn be a string. Define s(C) = s(c1 ) and e(C) = e(cn ).
                       −
Let C − = c−  n · · · c1 be the inverse string of C. Additionally, we define for
4                 JAN SCHRÖER AND ALEXANDER ZIMMERMANN

every vertex i in Q two strings 1(i,1) and 1(i,−1) of length 0 with s(1(i,t) ) =
e(1(i,t) ) = i and 1−
                    (i,t) = 1(i,−t) for t = −1, 1. The length of an arbitrary
string C is denoted by |C|. We call C direct if |C| = 0 or C = c1 · · · cn with
ci ∈ Q1 for all i, and C is called inverse if C − is direct.
   Similarly as in [5], one can define two maps σ, ǫ : Q1 → {−1, 1} which
satisfy the following properties:
    (1) If α1 6= α2 are arrows with e(α1 ) = e(α2 ), then ǫ(α1 ) = −ǫ(α2 );
    (2) If β1 6= β2 are arrows with s(β1 ) = s(β2 ), then σ(β1 ) = −σ(β2 );
    (3) If α and β are arrows with e(α) = s(β) and αβ ∈       / ρ+ , then ǫ(α) =
        −σ(β);
    (4) Let i be a vertex such that there is only one arrow α with e(α) = i,
        and only one arrow β with s(β) = i. If αβ ∈ ρ+ , then ǫ(α) = σ(β).
Note that σ and ǫ are defined in [5] without condition (4). The set of all
strings is denoted by S. We extend σ and ǫ to maps

                                σ, ǫ : S → {−1, 1}

as follows: For an arrow α define σ(α− ) = ǫ(α) and ǫ(α− ) = σ(α). If C =
c1 · · · cn is a string of length n ≥ 1, then let σ(C) = σ(c1 ) and ǫ(C) = ǫ(cn ).
For a string 1(i,t) of length 0 define σ(1(i,t) ) = t and ǫ(1(i,t) ) = −t.
   Let C = c1 · · · cn and D = d1 · · · dm be strings of length at least 1. If
CD = c1 · · · cn d1 · · · dm is a string, then we say that the concatenation of C
and D is defined. For an arbitrary string C let 1(s(C),t) C = C if σ(C) = t,
and let C1(e(C),t) = C if ǫ(C) = −t. Otherwise, the concatenation with a
string of length 0 is not defined.
   One uses σ and ǫ to give a certain ‘orientation’ to strings. One of the
main properties of σ and ǫ is the following:

Lemma 2.1. If C and D are strings such that the concatenation CD is
defined, i.e. CD is again a string, then e(C) = s(D) and ǫ(C) = −σ(D).

     For each string C, we define a map

                          vC : {1, · · · , |C| + 1} −→ Q0

as follows. If C = 1(i,t) is a string of        length 0, then let vC (1) = i. If
C = c1 · · · cn is of length at least 1, then   let
                                  
                                    s(ci ) :    1 ≤ i ≤ |C|;
                         vC (i) =
                                    e(cn ) :    i = |C| + 1.

For each string C we construct an A-module M (C) as follows. First, assume
that C = c1 · · · cn is a string of length n ≥ 1. Fix a basis {z1 , · · · , zn+1 } of
M (C). Let ej be a path of length 0 in Q. Then define
                                                 −1
                                    
                                      zi : i ∈ vC   (j);
                          zi · ej =
                                       0 : otherwise.
               STABLE ENDOMORPHISM ALGEBRAS OF MODULES                             5

Given an arrow α in Q let
                      
                       zi+1        : α = ci , 1 ≤ i ≤ n;
             zi · α =   zi−1        : α− = ci−1 , 2 ≤ i ≤ n + 1;
                           0        : otherwise.
                      

Next, assume C = 1(i,t) is a string of length 0. Then let {z1 } be a basis of
M (C). For each path ej of length 0 in Q let
                                
                                   z1 : j = i;
                      z1 · ej =
                                    0 : otherwise.
For all α in Q1 define z1 · α = 0.
   Modules of the form M (C) are called string modules, and {z1 , · · · , zn+1 }
is called the canonical basis of M (C). The construction of string modules
goes back to Gelfand and Ponomarev, see [7] and also [5]. One can easily
check that string modules are always indecomposable. For strings C1 and
C2 define C1 ∼ C2 if C1 = C2 or C1 = C2− . Two string modules M (C1 ) and
M (C2 ) are isomorphic if and only if C1 ∼ C2 .
   For each vertex i, let Si = M (1(i,1) ). Then {Si | i ∈ Q0 } is a complete
set of isomorphism classes of simple A-modules. Furthermore, let Pi be the
corresponding indecomposable projective A-module with top(Pi ) = Si .
   For a string C define P(C) = {(D, E, F ) | D, E, F ∈ S and DEF = C}.
We call (D, E, F ) in P(C) a factor string of C if the following hold:
  (1) Either |D| = 0 or D = d1 · · · dn where dn ∈ Q−       1;
  (2) Either |F | = 0 or F = f1 · · · fm where f1 ∈ Q1 .
Dually, we call (D, E, F ) a substring of C if the following hold:
  (1) Either |D| = 0 or D = d1 · · · dn where dn ∈ Q1 ;
  (2) Either |F | = 0 or F = f1 · · · fm where f1 ∈ Q−      1.
Let fac(C) be the set of factor strings of C, and by sub(C) we denote
the set of substrings of C. If C1 and C2 are strings, then we call a pair
((D1 , E1 , F1 ), (D2 , E2 , F2 )) in fac(C1 ) × sub(C2 ) admissible if E1 ∼ E2 . De-
note the set of admissible pairs in fac(C1 ) × sub(C2 ) by A(C1 , C2 ).
   For each a = ((D1 , E1 , F1 ), (D2 , E2 , F2 )) in A(C1 , C2 ) we define a homo-
morphism
                             fa : M (C1 ) −→ M (C2 )
as follows: If E1 = E2 , then let
                               fa (z|D1 |+i ) = z|D2 |+i
for 1 ≤ i ≤ |E1 | + 1, and all other canonical basis vectors of M (C1 ) are
mapped to 0. If E1 = E2− , then let
                            fa (z|D1 |+i ) = z|D2 E2 |+2−i
for 1 ≤ i ≤ |E1 | + 1, and all other canonical basis vectors are mapped to
0. Such homomorphisms are called graph maps. It is proved in [6] that the
graph maps {fa | a ∈ A(C1 , C2 )} form a basis of the homomorphism space
HomA (M (C1 ), M (C2 )).
6                JAN SCHRÖER AND ALEXANDER ZIMMERMANN

   There is the following multiplicative behaviour of graph maps: The com-
position fa fb of graph maps is either 0 or a graph map. This fact is very
important and has numerous applications.
   If a = ((D1 , E1 , F1 ), (D2 , E2 , F2 )) is admissible, then we call a and fa
oriented if E1 = E2 . We say that a and fa are left-sided, or right-sided if
they are oriented and |D1 | = |D2 | = 0, or |F1 | = |F2 | = 0, respectively. In
case a is left-sided or right-sided, one calls a and fa one-sided. Finally, a and
fa are weakly one-sided if a or ((D1 , E1 , F1 ), (F2− , E2− , D2− )) are one-sided,
and they are two-sided if they are not weakly one-sided.
   Let C1 = D1 E1 F1 and C2 = D2 E2 F2 . A graph map fa can always be
transformed to an oriented graph map. This is done by composing fa with
one of the canonical isomorphisms M (C1− ) → M (C1 ) or M (C2 ) → M (C2− ).
Note that these are both graph maps. Since there are two possibilities, we de-
fine a(l) = a(r) = a if a is oriented, and a(l) = ((F1− , E1− , D1− ), (D2 , E2 , F2 ))
and a(r) = ((D1 , E1 , F1 ), (F2− , E2− , D2− )), otherwise. It follows that a(l) is
one-sided if and only if a(r) is one-sided if and only if a is weakly one-sided.
The next lemma follows directly from the definitions.
Lemma 2.2. Let fa and fb be weakly one-sided graph maps. If fa(l) and
fb(r) are both left-sided, or both right-sided, then fa(l) fb(r) is again left-sided,
or right-sided, respectively. In particular, fa fb is again weakly one-sided.
Otherwise, fa fb is 0 or two-sided.
   In [16] we use the term ‘perfect’ instead of ‘oriented’. Note also that we
use left modules in [16] instead of right modules. Thus strings are written
in the opposite way. One of the important steps in our work is to prove a
stable version of the following proposition.
Proposition 2.3. Let A = kQ/(ρ) be a special biserial algebra, and let Ci ,
1 ≤ i ≤ t, be strings for (Q, ρ). If each a ∈ A(Ci , Cj ), 1 ≤ i, j ≤ t, is weakly
one-sided, then EndA ( ti=1 M (Ci )) is a gentle algebra.
                        L

Proof. For A a string algebra, this statement is proved in [16, Proposition
4.8]. Now assume A is special biserial, and let p − q be a commutativity
relation in ρ. If M is a direct sum of string modules, then M · p and M · q
are both 0. Thus we can define B = A/(pi , i ∈ I) where the pi are all
paths which are contained in commutativity relations. Clearly, B is a string
algebra, and EndA (M ) is isomorphic to EndB (M ).

                        3. Proof of the main result
  Throughout this section, we assume that A = kQ/(ρ) is special biserial,
with ρ containing only zero relations or commutativity relations.
  By HomA (M, N ) we denote the A-module homomorphisms from M to
N modulo the homomorphisms which factor through projective A-modules.
Let mod(A) be the stable category of finite-dimensional A-modules. Here
the objects are the same as in mod(A), but the morphism space from M
                   STABLE ENDOMORPHISM ALGEBRAS OF MODULES                   7

to N is HomA (M, N ). For a homomorphism f let f be the corresponding
morphism in mod(A).
   It is known that any finite-dimensional indecomposable A-module is a
string module, a band module, or a non-serial projective-injective module,
see [5]. If P is an indecomposable non-serial projective-injective A-module,
then the radical rad(P ) is isomorphic to a string module M (CD) with C
a direct and D an inverse string. Similarly, the socle factor P/soc(P ) is
isomorphic to a string module M (C ′ D′ ) with C ′ an inverse and D ′ a direct
string.
   If N is a band module, then Ext1A (N, N ) 6= 0 since band modules lie in
homogeneous tubes of the Auslander-Reiten quiver of A, i.e. τA N = N ,
where τA is the Auslander-Reiten translation. For basic facts on Auslander-
Reiten theory we refer to [2] or [13].
   So, if M is an A-module with Ext1A (M, M ) = 0, then M is a direct
sum of string modules and of non-serial projective-injectives. Since we are
interested in stable homomorphisms, it is enough to consider only string
modules.
   For the rest of this section, let C1 and C2 be (not necessarily different)
strings for (Q, ρ).

Lemma 3.1. Let f : M (C1 ) → M (C2 ) be a homomorphism which factors
through a direct sum of non-serial projective-injective A-modules. Then f is
a linear combination of two-sided graph maps.

Proof. Clearly, it is enough to prove the lemma for the case that f factorizes
through an indecomposable non-serial projective-injective A-module. Thus,
let P be an indecomposable non-serial projective-injective A-module, and
let f1 : M (C1 ) → P and f2 : P → M (C2 ) homomorphisms such that
f = f1 f2 . By ι : rad(P ) → P we denote the canonical radical inclusion, and
by π : P → P/soc(P ) the projection of P onto its socle factor. Clearly, f1
must factor through rad(P ), and f2 must factor through P/soc(P ). Thus
there are homomorphisms g and h such that f1 = gι and f2 = πh. The
following picture describes the situation:
                                    f
       M (C1 )                                     -       M (C2 )

           g                                                  6
                                                              h
           ?
                                     r                     r
                               γ        δ              γ      δ
                                  r	 @ Rr
                                       @                r	 @ Rr
                                                             @
                        ι-
       r       r
                                              π-
  R1             R2          R1         R2         R1                R2
       ?
       r      ?
              r                   ?
                                  r      ?
                                         r              ?
                                                        r         ?
                                                                  r
       α@R r	β
         @                        α@R r	β
                                    @

       rad(P )                      P                  P/soc(P )
8                 JAN SCHRÖER AND ALEXANDER ZIMMERMANN
              P                        P
    Now g =     i λi fai    and h =       j   µj fbj where ai is of the form
                                        ′  −
                           ((D1i , E1i E1i , F1i ), (D2i , E2i , F2i ))
              ′ being direct strings, and b is of the form
with E1i and E1i                           j
                                    − ′
                           ((D3j , E3j E3j , F3j ), (D4j , E4j , F4j ))
              ′ being direct strings. Thus we get
with E3j and E3j
                              X
                         f=       λi µj fai ιπfbj .
                                          i,j

It is straightforward to check that for all i, j the composition fai ιπfbj is
either 0 or a sum of either one or two graph maps which are two-sided.

Lemma 3.2. Let fai : M (C1 ) → M (C2 ), 1 ≤ i ≤ s, be pairwise different
graph maps, which are weakly one-sided, with fai 6= 0. Then the fai are
linear independent in HomA (M (C1 ), M (C2 )).
                            Ps
Proof. Assume that            i=1 λi fai = 0 with λi 6= 0 for some i, and define
f = i=1 λi fai . Thus there is a projective A-module P = li=1 P (i), P (i)
     Ps                                                               L
indecomposable for all i, and homomorphisms f1 = [f11 , · · · , f1l ] : M (C1 ) →
P and f2 = [f21 , · · · , f2l ]t : P → M (C2 ) such that f = f1 f2 . Thus f1 f2 =
Pl
   i=1 f1i f2i . If P (i) is not a non-serial projective-injective for some i, then f1i
and f2i are both linear combinations of graph maps. By the multiplicativity
of graph maps, we get that f1i f2i is a linear combination of graph maps as
well, and each of these factors through P (i). Otherwise, if P (j) is a non-
serial projective-injective for some j, Lemma 3.1 yields that f1j f2j is a linear
combination of two-sided graph maps. But different graph maps are linear
independent, and the fai are by assumption weakly one-sided. So all fai
with λi 6= 0 must factor through a projective, a contradiction.

Lemma 3.3. Let fa and fb be weakly one-sided graph maps. If fa(l) and
fb(r) are both left-sided, or both right-sided, and if fa 6= 0 6= fb , then fa fb 6= 0.
Proof. Without loss of generality assume that fa and fb are both right-
sided. Define fc = fa fb . For the sake of brevity we just write ‘1’ instead of
1(e(E),−ǫ(E)) . Thus c is of the form
                                  ((D1 , E, 1), (D2 , E, 1)).
Assume that fa 6= 0 6= fb . Note that this implies that M (D1 E) and M (D2 E)
are both not projective. We have to show that fa fb 6= 0.
   Assume that fc = f1 f2 is a factorization of f through a projective mod-
ule P . Since fc is weakly one-sided, and since different graph maps are
linear independent, it follows from Lemma 3.1 that we can assume that P
does not contain non-serial projective-injective direct summands. Using the
multiplicativity of graph maps, we can assume without loss of generality
that P = M (L− RE) with L and R direct strings, |R| ≥ 1, and f1 and f2
               STABLE ENDOMORPHISM ALGEBRAS OF MODULES                         9

right-sided graph maps. In particular, E must be a direct string. Note that
D2 = D2′ R for some string D2′ . We know that a is of the form
                       ((D11 , D12 E, 1), (D3 , D12 E, 1)),
and b is of the form
                       ((D4 , D22 E, 1), (D21 , D22 E, 1)).
Now let D122 be a direct string of maximal length such that D12 = D121 D122
for some string D121 , and let D222 be a maximal direct string such that
D22 = D221 D222 for some string D221 . Since fc = fa fb , we get that |D12 | = 0
or |D22 | = 0.
   If |D22 | = 0, then fb clearly factors through P = M (L− RE), a contradic-
tion. Thus, assume |D22 | ≥ 1. This implies |D12 | = 0. If now |R| ≤ |D222 |,
then fa factors through P . Otherwise, if |R| > |D222 |, then D22 = D222 ,
since D2 = D2′ R and since b is admissible. This implies that fb factors
through P . This finishes the proof.

Proposition 3.4. Let A = kQ/(ρ) be a special biserial algebra, and let
Ci , 1 ≤ i ≤ t, be strings for (Q, ρ). If each fa , a ∈ A(Ci , Cj ), 1 ≤
i, j ≤ t,
       Lis weakly one-sided or factors through a projective A-module, then
EndA ( ti=1 M (Ci )) is a gentle algebra.
Proof. Since we are interested in algebras only up to Morita equivalence,
we can assume that the M (Ci ) are pairwise not isomorphic. We can also
assume
Lt       that the M (Ci ) are not projective. For the sake of brevity let M =
   i=1 M (Ci ). By definition EndA (M ) = EndA (M )/P where P is the ideal
of all endomorphisms which factor through projectives.
   The graph maps in HomA (M (Ci ), M (Cj )), 1 ≤ i, j ≤ t, form a basis
of EndA (M ). By our assumption, we know that all two-sided graph maps
are contained in P. This implies that the weakly one-sided graph maps
generate EndA (M ) as a vectorspace. Let B be the set of weakly one-sided
graph maps fa in EndA (M ) which satisfy fa 6= 0. It follows form Lemma
3.2 that B = {fa | fa ∈ B} is a basis of EndA (M ). This basis behaves again
multiplicative. Namely, let fa and fb be in B. Then it follows from Lemma
2.2 that fa fb = 0, or fa fb ∈ B.
   Now we can compute the quiver with relations of the algebra EndA (M ).
The vertices of this quiver are the identity maps M (Ci ) → M (Ci ). The
arrows are the maps fa in B which are not of the form fb fc with fb and
fc non-invertible elements in B. Now we proceed as in the proof of [16,
Proposition 4.8]. As in [16, Lemmas 4.1, 4.2 and Corollary 4.3] we get that
there are at most two arrows ending and at most two arrows starting at each
vertex of the quiver of EndA (M ). Thus we get property (1) in the definition
of a gentle algebra. Then property (2) and (5) are proved as in [16, Lemma
4.4, 4.5]. However, to get (5) we have to use also Lemma 3.3. Since M is a
finite-dimensional module, also EndA (M ) must be finite-dimensional, thus
we get (3). Then we copy the proof of [16, Lemma 4.6] and use Lemma
10                  JAN SCHRÖER AND ALEXANDER ZIMMERMANN

3.3 to show that each path fa1 · · · fal , which is 0 in EndA (M ), has to be of
length 2. As in [16, Lemma 4.7] we get that there are no commutativity
relations. Thus property (4) holds. This finishes the proof.
     The following lemma is based on an idea of Ringel.
Lemma 3.5. Let fa : M (C1 ) → M (C2 ) be a two-sided graph map with
a = ((D1 , E1 , F1 ), (D2 , E2 , F2 )). If D1 E1 F2 and D2 E1 F1 are strings, or if
D1 E1 D2− and F2− E1 F1 are strings, then Ext1A (M (C2 ), M (C1 )) 6= 0.
Proof. Without loss of generality assume E1 = E2 , and set E = E1 . Thus
D1 ED2− and F2− EF1 cannot be strings. If D1 EF2 and D2 EF1 are strings,
we get a short exact sequence
     0 −→ M (D1 EF1 ) −→ M (D1 EF2 ) ⊕ M (D2 EF1 ) −→ M (D2 EF2 ) −→ 0
of A-modules, see [16] for a precise construction. Since a is two-sided, it
follows that the middle term of this sequence is not isomorphic to the direct
sum of its end terms. Thus the sequence does not split, which implies
Ext1A (M (C2 ), M (C1 )) 6= 0.

Corollary 3.6. Let fa : M (C1 ) → M (C2 ) be a two-sided graph map with
a = ((D1 , E1 , F1 ), (D2 , E2 , F2 )). If E1 is not a direct or an inverse string,
then Ext1A (M (C2 ), M (C1 )) 6= 0.

Proposition 3.7. Let fa : M (C1 ) → M (C2 ) be a two-sided graph map, and
assume Ext1A (M (C2 ), M (C1 )) = 0. Then fa = 0.
Proof. Let a = ((D1 , E1 , F1 ), (D2 , E2 , F2 )). Without loss of generality we
can assume that E1 = E2 . Set E = E1 . If D1 EF2 and D2 EF1 are both
strings, then by Lemma 3.5 we get Ext1A (M (C2 ), M (C1 )) 6= 0, a contradic-
tion.
   Thus, assume that D2 EF1 is not a string. This implies that E must be a
direct string.
   Let F11 be a direct string of maximal length such that F1 = F11 F12
for some string F12 . Similarly, let D22 be a maximal direct string such
that D2 = D21 D22 for some D21 . Observe that D22 EF11 is a string if and
only if D2 EF1 is a string. Thus D22 EF11 is not a string. Since D22 E
and EF11 are both strings, we get that |D22 | ≥ 1 and |F11 | ≥ 1. Thus
fa : M (C1 ) → M (C2 ) can be visualised as follows:
           D1                                    D21
       r         r                           r     r
                E@ Rr
                   @                fa              @
                                                  D22Rr
                                                     @
                                         -
                  F11@
                     Rr
                     @    F12
                                r                      E@
                                                        R r F2 r
                                                        @

                M (C1 )                            M (C2 )
                    STABLE ENDOMORPHISM ALGEBRAS OF MODULES                            11

   Now let F111 be a maximal direct string such that D22 EF111 is still a
string. Thus there exists a (direct) string F112 with |F112 | ≥ 1 such that
F11 = F111 F112 . Next, let D212 be a maximal direct string such that D21 =
        −
D211 D212  for some string D211 . Let H be a maximal direct string such that
                                          −
D212 H is still a string. Define P = H − D212 D22 EF111 . Since |D22 | ≥ 1 and
|F112 | ≥ 1 we get a graph map fb : M (C1 ) → M (P ) with

    b = ((D1 , EF111 , F112 F12 ), (H − D212
                                         −
                                             D22 , EF111 , 1(e(F111 ),−ǫ(F111 )) )).

The corresponding picture looks as follows:
         D1
     r        r                                                   r
                                                       D212          D
              E@
               Rr
               @                                                	  @R r 22
                                                                    @
                                           fb
                                                               r
                  F111@
                      Rr
                      @                         -                       E
                                                           H            ?
                      F112@
                          R r F12 r
                          @
                                                                        r
                                                                        F
                                                               r?       ?
                                                                        r
                                                                          111



                  M (C1 )                                      M (P )

  Observe that D211 is either of length 0 or ends with an arrow. Thus we
get another graph map fc : M (P ) → M (C2 ) with
                               −                           −
                  c = ((H − , D212 D22 E, F111 ), (D211 , D212 D22 E, F2 )),

and the corresponding picture is the following:
             r                                              r
    D212      @ D                                   D212     @ D
           	   R r 22
               @                                          	   R r 22
                                                              @
                                  fc
                                       -
          r                                         r    r
                                                     D211        @  E
                      E                                          Rr
                                                                 @
      H              r?
                                                                                r
                                                                         F2
                      F
          ?
          r          ?
                     r
                       111



           M (P )                                       M (C2 )

   Next, one checks easily that fa = fb fc . Thus fa factors through M (P ).
In case M (P ) is projective, we get fa = 0.
   Otherwise, the indecomposable projective module Pj with top Sj , j =
s(D22 ), must be a non-serial projective-injective module. Assume we are in
this case. This implies that there exists a commutativity relation D212 Hα −
D22 EF111 β in ρ where α and β are arrows. We know that D212 H = γK for
some arrow γ and some (direct) string K, and D22 = δD22  ′ for some arrow δ
                             ′
and some (direct) string D22 . Thus the radical rad(Pj ) of Pj is isomorphic
to M (D22′ EF       − −
              111 βα K ), and the socle factor Pj /soc(Pj ) is isomorphic to
M (P ). The next picture describes Pj , its radical and socle factor together
with the canonical inclusion and projection, respectively.
12                      JAN SCHRÖER AND ALEXANDER ZIMMERMANN

               r        r ′                       r                            r
                         D22            D212       @ D                D212      @ D
                        ?
                        r                      r	   R r 22
                                                    @                       r	   R r 22
                                                                                 @
                         E                               E                          E
          K             ?
                        r          ι-      H             ?
                                                         r       π-     H          ?
                                                                                   r
                         F                               F                          F
               r?    r?                    r?    r?                         r?     ?
                       111                         111                               111
                                                                                   r
               α@
                R r	β
                @                          α@
                                            R r	β
                                            @

                rad(Pj )                         Pj                  Pj /soc(Pj ) = M (P )

  If |F112 | > 1, then it is easy to check that fa factors through Pj . Namely,
we have F112 = βF112 ′                             ′
                        for some (direct) string F112 of length at least 1. Then
define fd : M (C1 ) → rad(Pj ) where


                                          ′            ′
                     d = ((D1 , EF111 β, F112 F12 ), (D22 , EF111 β, α− K − )).


Thus fd looks as follows:
          D1                                                     r        r ′
                                                                           D22
      r     r
           E@ Rr
              @                                                          r?
                   F111@
                       Rr
                       @                        fd                       ?
                                                                          E
                                                     -       K           r
                        β@
                         Rr
                         @                                                F
                                                              r?    r?
                                                                      111
                             ′ @
                               R r F12 r
                               @
                            F112
                                                             α@R r	β
                                                               @

                     M (C1 )                                     rad(Pj )

     Now one checks easily that


                                           fa = fd ιπfc .


Thus fa factors through a projective module.
   Next, assume |F112 | = 1. This implies F112 = β. Let F121 be a maximal
                               −
direct string such that F12 = F121 F122 for some string F122 . Then there is a
graph map fe : M (C1 ) → rad(Pj ) with


                                       −               ′            −
                    e = ((D1 , EF111 βF121 , F122 ), (D22 , EF111 βF121 , R− ))


where R is a (direct) string such that RF121 = Kα. Thus fe looks as in the
following picture:
                    STABLE ENDOMORPHISM ALGEBRAS OF MODULES                                                   13


                                                               r       r ′                r            r ′
       D1                                                               D22                             D22
   r        r                                                          ?
                                                                       r                               ?
                                                                                                       r
         E@
          Rr
          @                                       fe
                                                       -   R           E                               E
                                                                       ?      =       K                ?
                F111@
                    Rr
                    @           F122
                                                                       r                               r
                                                                       F                               F
                                                              r?    ? 111
                                                                                      r?    r?
                                                                                              111
                                r       r
                     β@
                      R r	F121
                      @                                             r
                                                           F121@
                                                               R r	β
                                                               @                      α@
                                                                                       R r	β
                                                                                       @

                  M (C1 )                                                  rad(Pj )

  If |F121 | < |Hα|, then one easily checks that
                                              fa = fe ιπfc .
Thus, again fa factors through a projective.
  It remains to consider the case |F121 | ≥ |Hα|. Note that this implies
|D212 | ≥ 1. It follows that there is some (direct) string F1211 such that
F121 = F1211 F1212 and D212 = D2121 F1211 for some (direct) strings F1212 and
D2121 . Note that |F1212 | ≥ 1. Thus we get a graph map fl : M (C1 ) → M (C2 )
with
                        −       −                       −       −
       l = ((D1 EF111 βF1212 , F1211 , F122 ), (D211 , F1211 , D2121 D22 EF2 )).
We get
                                            fa + fl = fe ιπfc .
Define g = fa + fl . Clearly, we have g = 0. The following picture illustrates
the situation:
     D1
   r        r
         E@
          Rr
          @                         r
                                       F122
                                              r                               r
                                                                      D2121      D
                F111@
                    Rr
                    @           r	 F1211
                                                       g
                                                           -               r	  @R r 22
                                                                                @
                                                                    F1211          @   E
                     β@
                      R r	 F1212
                      @                                            r    r	          Rr
                                                                                    @              r
                                                                   D211                       F2
                      M (C1 )                                              M (C2 )

   Now we need some Auslander-Reiten theory: If |D1 | ≥ 1, then fa fac-
tors through τA−1 M (C1 ). This can be checked by using the construction of
Auslander-Reiten sequences for string algebras as explained in [5]. Here we
use also that |F111 | ≥ 1. Then we use the Auslander-Reiten formula

                 Ext1A (M (C2 ), M (C1 )) ≃ DHomA (τA−1 M (C1 ), M (C2 )).

Thus, since Ext1A (M (C2 ), M (C1 )) = 0, we get fa = 0.
   Similarly, if |F122 | ≥ 1, then fl factors through τA−1 M (C1 ). Here we use
that |F1212 | ≥ 1. Again, since Ext1A (M (C2 ), M (C1 )) = 0, we get fl = 0. But
if g = fl = 0, then we get also fa = 0.
14               JAN SCHRÖER AND ALEXANDER ZIMMERMANN

  Thus, it remains to consider the case |D1 | = |F122 | = 0. Then we can
construct a short exact sequence
                                    −                        h
      0 −→ M (C1 ) −→ Pj ⊕ M (D211 F1211 ) ⊕ M (EF2 ) −→ M (C2 ) −→ 0.
Here
                                h = [πfc , fm , fn ]t
where fm and fn are graph maps with
                            −                    −       −
             m = ((1, D211 F1211 , 1), (1, D211 F1211 , D2121 D22 EF2 ))
and
                                          −     −
                n = ((1, EF2 , 1), (D211 F1211 D2121 D22 , EF2 , 1)).
For the sake of brevity, in the definition of m and n we just wrote ‘1’ for
all strings of length 0. Next, one checks easily that h is an epimorphism
with kernel isomorphic to M (C1 ). This sequence does obviously not split,
thus Ext1A (M (C2 ), M (C1 )) 6= 0, a contradiction. Altogether, we proved the
following: If D2 EF1 is not a string, then the Proposition holds.
   Thus, assume now that D2 EF1 is a string. If D1 EF2 is also a string,
then we apply Lemma 3.5 and get that Ext1A (M (C2 ), M (C1 )) 6= 0, again
a contradiction. Otherwise, if D1 EF2 is not a string, then we proceed as
before and get that the Proposition holds. This finishes the proof.



Proof of Theorem 1.1. Let A be a special biserial algebra, and let M be an
A-module with Ext1A (M, M ) = 0. Thus M does not contain direct sum-
mands which are isomorphic to band modules. Furthermore, since we are
interested in stable endomorphism algebras, we can assume that M does not
contain projective direct summands. Also, since we consider algebras only
up to Morita equivalence, we assume that M is a direct sum of pairwise
different
Lt         indecomposable modules. Thus M is isomorphic to a direct sum
   i=1 M  (C i ) of pairwise different non-projective string modules M (Ci ).
   The endomorphism algebra EndA (M ) has a basis consisting of the graph
maps in HomA (M (Ci ), M (Cj )), 1 ≤ i, j ≤ t. By Proposition 3.7 we know
that any two-sided graph map M (Ci ) → M (Cj ) factorizes through a pro-
jective module. Hence we can apply Proposition 3.4 and get that EndA (M )
is a gentle algebra.
Proof of Corollary 1.2. If B is a finite-dimensional k-algebra, then mod(B)
is a suspended category with suspension functor S = Ω where Ω is the
syzygy functor. For B-modules M and N and n ≥ 1 we have
                       HomB (S n (M ), N ) = ExtnB (M, N )
where the ExtnB (M, N ) are the usual groups of module extensions. Now
let A be a finite-dimensional k-algebra. Then there is a full and faithful
               STABLE ENDOMORPHISM ALGEBRAS OF MODULES                          15

embedding
                           F : D b (A) −→ mod(RA)
of triangulated categories, where RA is the repetitive algebra of A. For
details we refer to [8, Chapter 2] and [9, Section 3]. For any two bounded
complexes M and N of A-modules, we get
           HomDb (A) (M [−1], N ) = HomRA (F (M [−1]), F (N ))
                                     = HomRA (S(F (M )), F (N ))
                                     = Ext1RA (F (M ), F (N )),
since F is full, faithful and respects the triangulated structure.
   Now assume that A is a finite-dimensional gentle algebra, and let T be
a complex in Db (A) such that HomDb (A) (T, T [1]) = 0. Using the above
considerations, we get Ext1RA (F (T ), F (T )) = 0. Since A is gentle, we know
that RA is special biserial. Furthermore, EndDb (A) (T ) and EndRA (F (T ))
are isomorphic. Thus we can apply Theorem 1.1 and get that EndDb (A) (T )
is a gentle algebra.
   If T is a tilting complex, then by definition HomDb (A) (T, T [i]) = 0 for
every i 6= 0. But two algebras A and B are derived equivalent if and
only if there is a tilting complex T in D b (A) such that B is isomorphic to
EndDb (A) (T ), see [10] or [12]. Thus any algebra which is derived equivalent
to a finite-dimensional gentle algebra is gentle again.
   It is known that two derived equivalent finite-dimensional algebras A and
B have the same number of isomorphism classes simple modules [10, Lemma
6.3.3]. Since there are (up to Morita equivalence) only finitely many gentle
algebras with a given number of isomorphism classes of simple modules, also
the last statement in Corollary 1.2 holds.

                        4. Examples and remarks
Example 1. Let A be the algebra k[x, y]/(x2 , y 2 , xy) where k[x, y] is the
polynomial algebra in two commuting variables. Observe that A is special
biserial. Now let M be the string module M (x− yx− y). One easily checks
that Ext1A (M, M ) = 0 and EndA (M ) = k[x1 , · · · , x6 ]/(xi xj , 1 ≤ i, j ≤ 6),
which is obviously not gentle and also far from being special biserial. But
we get EndA (M ) = k. Thus Theorem 1.1 cannot be extended to a result on
endomorphism algebras, rather than stable endomorphism algebras.

Example 2. Now let A = k[x, y]/(x3 , y 3 , xy) which is again special biserial.
Let M be the band module M (x− x− yx− yy, 1, 1), see [5] for the construction
of M . Since M is a band module we know that Ext1A (M, M ) 6= 0. The
endomorphism algebra EndA (M ) is a factor of the free algebra in 5 non-
commuting variables, and we get EndA (M ) = k. On the other hand, if we
interpret M as a module over the algebra B = k[x, y]/(x5 , y 5 , xy), then one
easily checks that EndA (M ) ≃ EndB (M ) ≃ EndB (M ).
16                JAN SCHRÖER AND ALEXANDER ZIMMERMANN

Example 3. The algebra A = k[x]/(x2 ) is gentle, the simple module S
satisfies Ext1A (S, S) 6= 0, and EndA (S) = EndA (S) = k is gentle.

Remark. There are still several important open problems: One needs cri-
teria to decide when two given gentle algebras are derived equivalent.
   Also it is still not clear whether tilting-cotilting equivalence is the same
as derived equivalence. This holds in the case of gentle one-cycle algebras,
see [3] and [4].


                                     References
 [1] I. Assem, D. Happel, Generalized tilted algebras of type An , Comm. Algebra 9 (1981),
     no 20., 2101–2125.
 [2] M. Auslander, I. Reiten, S. Smalø, Representation theory of Artin algebras. Corrected
     reprint of the 1995 original, Cambridge Studies in Advanced Mathematics, Vol. 36,
     Cambridge University Press, Cambridge (1997), xiv+425pp.
 [3] I. Assem, A. Skowroǹski, Iterated tilted algebras of type Ãn , Math. Z. 195 (1987),
     269–290.
 [4] G. Bobiński, C. Geiß, A. Skowroński, Classification of discrete derived categories,
     Preprint (2001), 1–35.
 [5] M.C.R. Butler, C.M. Ringel, Auslander-Reiten sequences with few middle terms and
     applications to string algebras, Comm. Algebra 15 (1987), no. 1-2, 145–179.
 [6] W. Crawley-Boevey, Maps between representations of zero-relation algebras, J. Alge-
     bra 126 (1989), 259–263.
 [7] I.M. Gelfand, V.A. Ponomarev, Indecomposable representations of the Lorentz group
     (Russian), Uspehi Mat. Nauk 23 (1968), no. 2 (140), 3–60.
 [8] D. Happel, Triangulated categories in the representation theory of finite-dimensional
     algebras, London Mathematical Society Lecture Note Series, Vol. 119, Cambridge
     University Press, Cambridge (1988), x+208pp.
 [9] B. Keller, Chain complexes and stable categories, Manuscripta Math. 67 (1990), no.
     4, 379–417.
[10] S. König and A. Zimmermann, Derived equivalences for group rings, Lecture Notes
     in Mathematics, Vol. 1685, Springer-Verlag, Berlin (1998), x+246pp.
[11] Z. Pogorzaly, A. Skowroński, Selfinjective biserial standard algebras, J. Algebra 138
     (1991), 491–504.
[12] J. Rickard, Morita theory for derived categories, J. London Math. Soc. (2) 39 (1989),
     no. 3, 436–456.
[13] C.M. Ringel, Tame algebras and integral quadratic forms, In: Lecture Notes in Math-
     ematics, Vol. 1099, Springer-Verlag, Berlin (1984), xiii+376pp.
[14] C.M. Ringel, The repetitive algebra of a gentle algebra, Bol. Soc. Mat. Mexicana (3)
     3 (1997), no. 2, 235–253.
[15] J. Schröer, On the quiver with relations of a repetitive algebra, Arch. Math. (Basel)
     72 (1999), 426–432.
[16] J. Schröer, Modules without self-extensions over gentle algebras, J. Algebra 216
     (1999), 178–189.
[17] J. Schröer, On the infinite radical of a module category, Proc. London Math. Soc.
     (3) 81 (2000), no. 3, 651–674.
[18] J. Schröer, On the Krull-Gabriel dimension of an algebra Math. Z. 233 (2000), 287–
     303.
[19] D. Vossieck, The algebras with discrete derived category, J. Algebra 243 (2001) 168-
     176.
              STABLE ENDOMORPHISM ALGEBRAS OF MODULES   17

  Jan Schröer
Department of Pure Mathematics
University of Leeds
Leeds LS2 9JT
UK
  E-mail address: jschroer@maths.leeds.ac.uk

   Alexander Zimmermann
Faculté de Mathématiques et CNRS (LAMFA UMR 6140)
Université de Picardie Jules Verne
33, rue St Leu
80039 Amiens
FRANCE
   E-mail address: alexander.zimmermann@u-picardie.fr
