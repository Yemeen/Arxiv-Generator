                                             HOMOLOGY OF AFFINE SPRINGER FIBERS IN THE UNRAMIFIED
                                                                    CASE
arXiv:math/0305144v1 [math.RT] 9 May 2003




                                                       MARK GORESKY1 , ROBERT KOTTWITZ2 , AND ROBERT MACPHERSON

                                                   Abstract. Assuming a certain “purity” conjecture, we derive a formula for the (complex)
                                                   cohomology groups of the affine Springer fiber corresponding to any unramified regular
                                                   semi-simple element. We use this calculation to present a complex analog of the funda-
                                                   mental lemma for function fields. We show that the “kappa” orbital integral which arises
                                                   in the fundamental lemma is equal to the Lefschetz trace of Frobenius acting on the étale
                                                   cohomology of a related variety.



                                                                                     1. Introduction
                                               Let F = C((ε)) be the field of formal Laurent series and let o = C[[ε]] be its integer ring of
                                            formal power series. A fundamental object of study in modern representation theory is the
                                            affine Grassmannian X = G (F ) /G (o) associated to a complex reductive algebraic group
                                            G. Let g = Lie(G). Each regular semisimple element γ ∈ g(o) determines a “vector field’ on
                                            X whose fixed point set
                                                                                                              	
                                                                     Xγ = xG(o) ∈ X : Ad(x−1 )(γ) ∈ g(o)
                                            is a finite dimensional increasing union of complex projective varieties, which is known as
                                            the affine Springer fiber corresponding to γ. The study of affine Springer fibers was initiated
                                            in [KL88], where many of the basic properties of these varieties were described.
                                               In this paper we suppose T ⊂ G is a maximal torus defined over C and we consider the
                                            affine Springer fiber Xγ associated to regular semisimple elements γ ∈ t(o), where t = Lie(T ).
                                            (Not all affine Springer fibers are of this type: since T is split over F we refer to this as the
                                            unramified case.) The complex torus T (C) acts on Xγ . In Theorem 9.2, the first principal
                                            result of this paper, we give an explicit description of the T (C)−equivariant homology of
                                            Xγ under the assumption that the ordinary homology of Xγ is pure, in the sense of mixed
                                            Hodge theory. (We conjecture this always holds, cf. §5.3.) The description in §9.2 is made
                                            possible by using [GKM98] §6.3 (the lemma of Chang and Skjelbred) which describes the
                                            equivariant homology of a T (C)-variety in terms of the 0 and 1 dimensional orbits of T (C).
                                              1991 Mathematics Subject Classification. primary: 22E67,55N91 secondary: 14M15,11D88, 11F85.
                                              Key words and phrases. loop Grassmannian, affine Springer fiber, fundamental lemma, equivariant
                                            homology.
                                              1. partially supported by N.S.F. grant no. DMS-9900324 and DMS-0139986.
                                              2. partially supported by N.S.F. grant no. DMS-0071971.
                                                                                               1
The computation is reduced to the case of the equivariant homology of affine Springer fibers
for the group SL(2). Among the various ways to compute the equivariant homology in this
special case of SL(2), we have chosen to describe one which is conceptually simple, but
which is computationally rather cumbersome. It uses the existence of a slightly larger torus
Te(C) which acts on this Springer fiber. To facilitate the exposition we have extracted the
combinatorial details and placed them in §12.
   Suppose G is adjoint, s ∈ Tb is an element of the dual torus and (H, s) is endoscopic data
for G. Then H and G share the same torus T so γ corresponds to a regular semisimple
element γH ∈ H, and there is an associated affine Springer fiber XγHH . Motivated by the
fundamental lemma ([La83] §III.1), one predicts that there should be a close relation between
the homology H∗ (Xγ ; C) and H∗ (XγHH ; C). However from a geometrical point of view, any
relationship between these homology groups comes as a surprise, since the group H may
not be a subgroup of G. In fact, the varieties Xγ and XγHH have very little to do with each
other: there does not appear to be any map or correspondence between them, and even their
dimensions are different, in general. Moreover, the relation between these homology groups
turns out to be rather subtle: they are not simply isomorphic, but rather, they become
isomorphic only after a degree shift and a certain localization.
   The element s gives rise to a homomorphism χ∗ (T ) → C× (defined on the cocharacter
group of T ) so that the set of co-roots for H is given by
                          Φ∨ (H, T ) = {α∨ ∈ Φ∨ (G, T ) : s(α∨) = 1} .
The same cocharacter group χ∗ (T ) acts freely on Xγ . Let J be the multiplicative subset of
the group algebra C[χ∗ (T )] which is generated by the elements (1−α∨ ) where α∨ ∈ Φ∨ (G, T )
and s(α∨ ) 6= 1. For any C[χ∗ (T )] module V, let VJ = J −1 V be its localization with respect
to J. Let r = r(γ) be the non-negative integer defined in §10.1. The second principal result
in this paper is the following complex analog to the fundamental lemma in the unramified
case (a more precise version of which will be stated in Theorem 10.2).
1.1. Theorem. Suppose the homology of Xγ is pure and the homology of XγHH is pure. Then
for each i there is a homomorphism
                                    T (C)                T (C)
                                Hi          (Xγ , C) → Hi−2r (XγHH , C)                (1.1.1)
which becomes an isomorphism
                                         (Xγ ; C)J ∼
                                 T (C)                T (C)
                               Hi                  = Hi−2r (XγHH ; C)J                 (1.1.2)
after localizing with respect to J.
  The homomorphism (1.1.1) is compatible with a number of algebras which act on these
homology groups. First, the equivariant homology is a module over the equivariant coho-
mology D = HT∗ (C) (pt) of a point (§4). Second, the group algebra C[χ∗ (T )] acts. Finally, a
                                                     2
              fG,H of automorphisms of the situation also acts (cf. §9.4 and §10.1), and
certain group W γ
the homomorphism (1.1.1) transforms by a certain character η under WfG,H .
                                                                      γ
  Using the action of D, it is possible to recover the ordinary homology of Xγ from its
equivariant homology, so (1.1.1) gives a homomorphism
                                     Hi (Xγ ; C) → Hi−2r (XγHH ; C)
of the ordinary homology, which also becomes an isomorphism after localizing with respect
to J. In §10 the action of the group algebra C[χ∗ (T )] is used in order to (partially) describe
the homology of the quotient χ∗ (T )\Xγ . Finally, the action of the group W  fG,H provides a
                                                                                γ
complex analog for the action of the Frobenius automorphism.
   These extra ingredients are related to the fundamental lemma for function fields. In
Theorem 15.8, the κ-orbital integral which occurs in the fundamental lemma is shown to
equal the trace of the Frobenius automorphism on the étale cohomology of the quotient
χ∗ (T )\Xγ (k); where now Xγ (k) is the finite characteristic analog of the complex algebraic
variety Xγ . Next, the analog of Theorems 9.2 and 10.2 need to be established in étale
homology, a task which we have not fully carried out here. In §15.12 we indicate how these
results are related to the fundamental lemma in the unramified case.
   We would also like to draw attention to the recent preprint [L02a] in which G. Laumon
uses the methods and techniques of the present paper together with a deformation argu-
ment from [L02b] to prove (under the same purity assumption) the “geometric fundamental
lemma” (that is, the étale cohomology analog of Proposition 11.2) for unitary groups (and
for arbitrary regular semi-simple elements γ).
   In §13 and §14 we list the changes which are needed in order to establish similar results for
Springer fibers Yγ in the affine flag manifold Y. The homology of a Springer fiber in the affine
flag manifold carries the additional structure of a (right) action of the affine Weyl group,
the Springer action. It was constructed by Lusztig [Lu96] and (using a statement from
[KL80] whose proof does not appear in the literature) by Sage [Sa97]. In §14.4 this action
is explicitly described using our formula (Theorem 14.3) for the homology of the Springer
fiber Yγ (under the assumption that this homology is pure). In Theorem 14.6 we state the
main consequence: If (H, s) is endoscopic data for G, if H∗ (Yγ ; C) is pure and H∗ (YγHH ; C) is
pure, then for each i we obtain a homomorphism
                           T (C)               T (C)                      f
                         Hi        (Yγ ; C) → Hi−2r (YγHH ; C) ⊗C[W
                                                                  f H ] C[W ]

of D modules, and a homomorphism on ordinary homology,
                          Hi (Yγ ; C) → Hi−2r (YγHH ; C) ⊗C[W       f
                                                            f H ] C[W ],

                                                                 f and transforms by the char-
each of which is equivariant with respect to the right action of W
                             f  G,H
acter η under the action of Wγ . Each of these homomorphisms becomes an isomorphism
after localizing with respect to J.
                                                    3
  We wish to thank R. Hain and David Nadler for useful conversations. The authors
are grateful to the University of Chicago, the Université de Paris VII, the École Normale
Supérieure, the Institut Henri Poincaré, and the Institute for Advanced Study for their
support during various stages of this research.

                                  2. Purity for ind-varieties
2.1. Let X be a complex projective algebraic variety with (increasing) weight filtration W
of the cohomology H ∗ = H ∗ (X; C) (see [D75]). The cohomology of X is pure if
                     Grm W (H i) = W m (H i )/W m−1 (H i ) = 0 for i 6= m.
We obtain an increasing weight filtration on the homology H∗ = H∗ (X; C) :
                                                            ∗
                             W m (Hi ) = H i /W −1−m (H i )
by duality. If f : X → Y is a morphism of projective varieties, the induced mapping
f∗ : H∗ (X) → H∗ (Y ) is strictly compatible with the weight filtration.
   Let X be a complex projective ind-variety ([Ku96], [Sh82]), that
                                                                  S∞ is, a set with a filtration
X0 ⊂ X1 ⊂ . . . by complex projective varieties such that X = n=1 Xn and such that each
Xn → Xn+1 is a closed immersion. A set Y ⊂ X is closed in the limit topology for X iff
Y ∩ Xn is closed (in the classical topology) for each n. Then H∗ (X) = limH∗ (Xn ) inherits
                                                                             →   S
a limit weight filtration W from the weight filtrations on H∗ (Xn ). If X = ∞      n=1 Yn is an
equivalent ind-variety structure on X (meaning that the identity mapping X → X is a
morphism of ind-varieties) then the resulting weight filtration W ′ on H∗ (X) agrees with W.
We say the homology of X is pure if Gr−m W (Hi (X)) = 0 for m 6= i.
   Let A = (C× )m be a complex torus which acts on a projective ind-variety X such that
each Xn is invariant under A and so that the action of A on Xn is algebraic and is compatible
with the immersion Xn → Xn+1 . In this case we say that A acts algebraically on X. The
classifying space BA may be taken to be the ind-variety (P1 )m ⊂ (P2 )m . . . , which has pure
homology. The Cartan-Leray spectral sequence for the A-equivariant homology of Xn is
the spectral sequence for the fibration Xn ×A EA → BA with E 2 ∼         = H∗ (BA) ⊗ H∗ (Xn ).
It inherits a weight filtration such that the differentials are strictly compatible with the
weight. It follows that the Cartan-Leray spectral sequence for the A-equivariant homology
of X inherits a weight filtration such that the differentials are strictly compatible with the
weight. The following fact will be needed for Corollary 10.3.
2.2. Lemma. Suppose X is a complex projective ind-variety with an action of an algebraic
torus A. Suppose the homology of X is pure. Then the homology of X is equivariantly formal
[GKM98] §1, that is, the Cartan-Leray spectral sequence for the A-equivariant homology of
X collapses at E 2 and gives rise to an isomorphism
                           H A (X; C) ∼
                              ∗       = H∗ (X; C) ⊗C H A (pt; C).
                                                          ∗
                                               4
2.3. Purity of BZn . Define an action of the additive group Z on the contractible ind-variety
                             EZ = (Z × C)/(m, 0) ∼ (m + 1, 1)
(which is a countable union of affine lines joined each to the next at a single point) by
m · (r, t) = (r + 2m, t) (where m, r ∈ Z and t ∈ C). The quotient BZ = EZ/Z consists of
two copies V0 , V1 of C, joined at two points: 0 ∈ V0 is identified with 1 ∈ V1 and vice versa.
The inclusion of the unit circle T 1 → BZ given by
                                    (
                                      θ
                                        ∈ V0       if 0 ≤ θ ≤ π
                              eiθ 7→ πθ
                                      π
                                        − 1 ∈ V1 if π ≤ θ ≤ 2π
is a homotopy equivalence. Let Λ = Zn , and set EΛ = (EZ)n and BΛ = (BZ)n . We obtain
a homotopy equivalence T n = (T 1 )n → BΛ.
   Suppose X is an ind-variety on which Λ acts freely by morphisms. Let E(X) = EΛ ×Λ X
be the Borel construction, together with its projections
                                        p              π
                               Λ\X ←−−− E(X) −−−→ BΛ.
   Let s : Λ → GL(1, C) be a 1-dimensional representation of finite order, and write Cs
for the representation space. Then s determines local systems Ls = Cs ×Λ X on Λ\X and
                                                                                ∗ B ∼ ∗
LBs = EΛ×Λ Cs on BΛ, and there is a canonical isomorphism of local systems, π Ls = p Ls .
Denote this local system on E(X) by LE       s . The homology Leray spectral sequence, with
coefficients in LE
                 s , for the fibration π : E(X)  → BΛ has
          2
         Epq = Hp (Λ; Hq (X; Cs )) = Hp (BΛ; LB
                                              s ⊗ Hq ) =⇒ Hp+q (Λ\X; Ls )                (2.3.1)
where Hq denotes the local system on BΛ corresponding to Hq (X; C). The following fact
will be needed for Proposition 11.2.
2.4. Lemma. Suppose the homology of X is pure. Then the spectral sequence (2.3.1) col-
lapses at E 2 . Hence there is an isomorphism
                                            M
                           Hm (Λ\X; Ls) ∼=    Hp (Λ; Hq (X; Cs )).             (2.4.1)
                                            p+q=m

2.5. Proof. First consider the case when n = 1 and when s is the trivial representation.
The homology H∗ (BZ; Hq ) may be computed from the Mayer Vietoris sequence for the
covering of BZ by the two (Zariski) closed sets V0 and V1 . It is easy to see that this sequence
gives a short exact sequence (of mixed Hodge structures)
         0 −−−→ H1 (BZ; Hq ) −−−→ Hq −−−→ Hq −−−→ H0 (BZ; Hq ) −−−→ 0
                                              µ−1

where Hq = Hq (X; C), and where µ is the homomorphism induced on homology from the
action of 1 ∈ Z.
                                               5
  Next consider the case of general n but still with s the trivial representation. It follows
by
V∗ induction that the homology H∗ (BZn ; Hq ) is the homology of the Koszul complex K• =
     n
   (C ) ⊗ Hq with differential
                                       r
                                       X
          ∂(ei1 ∧ . . . ∧ eir ⊗ h) =         (−1)j+1 ei1 ∧ . . . ∧ b
                                                                   eij ∧ . . . ∧ eir ⊗ (µij (h) − h)
                                       j=1

where µ1 , . . . , µn are the homomorphisms on Hq determined by the action of the standard n
                                     V
basis elements e1 , . . . , en . Each k (Cn ) ⊗ Hq is pure of weight −q since it arises as a direct
sum of copies of Hq . So each homology group Hp (BΛ; Hq ) is pure of weight −q. Since the
differentials in the spectral sequence (2.3.1) are strictly compatible with the weight filtration,
this implies the spectral sequence collapses at E 2 .
   Now consider the case of a nontrivial representation s of finite order. Such a repre-
sentation factors through the (finite) quotient Λ/NΛ for some positive integer N. Let
φ : Be = EΛ/NΛ → BΛ be the resulting (finite) cover, and let E            e be the fiber product
in the following diagram,

                                 Ee −−Φ−→ EΛ ×Λ X −−−→ Λ\X
                                                    p
                                            
                                            π
                               π̃ y          y
                                e −−−→
                                B                   BΛ
                                        φ

The preceding argument may be used to see that the Leray spectral sequence for the mapping
π̃ (with constant coefficients) collapses at E 2 .
   The covering φ is a principal homogeneous space for the group Λ/NΛ, which acts by deck
transformations on B.e So it acts on the local system φ∗ (C) as the regular representation,
and determines decompositions
                                      L B                 L E
                            φ∗ (C) ∼=     Lθ and Φ∗ (C) ∼
                                                        =     Lθ                    (2.5.1)
                                             θ                          θ

into one dimensional local systems corresponding to the distinct characters θ : Λ/NΛ → C× .
It follows (see below) that there is a natural isomorphism
                                            L
                                 e HBe ) ∼
                             H∗ (B;             H∗ (BΛ; Hq ⊗ Lθ )                    (2.5.2)
                                       q =
                                                     θ

          e                                    e
where HB  q (resp. Hq ) is the local system on B (resp. on BΛ) corresponding to Hq (X; C).
In fact the whole spectral sequence for π̃ decomposes under Λ/NΛ into a direct sum (over
distinct characters θ of Λ/NΛ) of spectral sequences for π with coefficients in Lθ . It follows
that each of these constituent spectral sequences collapses, one of which corresponds to the
character s.
                                                         6
   There are several ways to verify equation (2.5.2). One way is to use the homotopy equiva-
lence T n → BΛ, Poincaré duality, and (2.5.1). However it may also be verified directly. Let
DBΛ (resp. DBe ) be the dualizing complex on BΛ (resp. on B).  e Since φ is a finite covering
space, φ∗ ∼
          = Rφ∗ ∼= Rφ! and φ (DBΛ ) ∼
                               ∗
                                       = DBe . Since the diagram above is a fiber square,
                                                                    
                             Be ∼         ∗         ∼          L B
                      Rφ∗ (Hq ) = Rφ∗ (φ Hq ⊗ C) = Hq ⊗           Lθ .
                                                                           θ

The homology        e HBe )
                H∗ (B;        is the cohomology (with compact supports) of the sheaf
                       q
                                          e ∼ ∗        e
                                   DBe ⊗ HB            B
                                          q = φ DB ⊗ H q .

Pushing this sheaf forward under φ gives
                                                                               
                                        e      ∼                      L
                          DB ⊗    Rφ∗ (HB
                                        q)     = DB ⊗ H q ⊗                LB
                                                                            θ
                                                                      θ
                                                 L
whose compactly supported cohomology is                    H∗ (BΛ; Hq ⊗ LB
                                                                         θ ) as claimed.        
                                                   θ

2.6. Remarks. Presumably the theory of weights can be extended to include (co)homology
groups such as Hk (BΛ; Hq ⊗ Ls ), in which case equation (2.5.2) implies that this group is
pure of weight −q. We remark that if the homology of X is both pure and Tate (meaning
that it lives only in even degrees and that Gr −2q H∗ (X) is all of Hodge type (q, q)), then the
decomposition (2.4.1) is canonical because in this case, the Hodge filtration and the weight
filtration are opposed ([D71] Prop. 1.2.5). It seems likely that Lemma 2.4 remains valid
even when the local system s fails to have finite order.

                                   3. Symmetric algebras
3.1. Consider the polynomial algebra
                                                               L∞
                                  S = Q[x1 , . . . , xn ] =       k=0 Sk
in n variables, graded by degree (with finite dimensional graded pieces); and its dual algebra
of differential operators                                L
                                D = Q[∂1 , . . . , ∂n ] = ∞k=0 Dk
with ∂i xj = δij . Then Dk Sj ⊂ Sj−k . The natural pairing
                                                       h·,·i
                                        D ⊗ S −−−→ Q                                       (3.1.1)
given by h∂, P i = (∂P )(0) satisfies
                                        h∂∂ ′ , P i = h∂, ∂ ′ P i.                         (3.1.2)
It restricts to a nondegenerateL
                               (finite dimensional) bilinear form Dk ⊗Sk → Q, which vanishes
on Dk ⊗ Sj for j 6= k. If I = ∞  k=0 Ik ⊂ D is a homogeneous ideal, define
                              S{I} = {s ∈ S : ∂s = 0 for all ∂ ∈ I}
                                                       7
to be the subspace annihilated by I. It follows from (3.1.2) that
                                                  L
                                  S{I} = I ⊥ = ∞         ⊥
                                                    k=0 Ik                               (3.1.3)
where
                         Ik⊥ = {s ∈ Sk : h∂, si = 0 for all ∂ ∈ Ik } .
So the pairing (3.1.1) passes to a nondegenerate pairing (Dk /Ik ) ⊗ Ik⊥ → Q. If ∂ ∈ D set
S{∂} = S{(∂)}.
3.2. Lemma. Suppose ∂, ∂ ′ ∈ D are relatively prime homogeneous elements of D. Then
                                   S{∂∂ ′ } = S{∂} + S{∂ ′ }                             (3.2.1)
and
                                              ∂′·
                                     S{∂} −−−→ S{∂}                                      (3.2.2)
is surjective and lowers degree by deg(∂ ′ ).
3.3. Proof. If I, J ⊂ D are homogeneous ideals, then it follows from (3.1.3) that
                                  S{I + J} = S{I} ∩ S{J}
                                  S{I ∩ J} = S{I} + S{J}.
Taking I = (∂) and J = (∂ ′ ) proves (3.2.1). Since ∂ and ∂ ′ are relatively prime, the mapping
                                              ∂′·
                                     D/(∂) −−−→ D/(∂)
is an injective homomorphism of graded algebras, which raises degree by deg(∂ ′ ). It follows
by duality (3.1.1) that (3.2.2) is surjective.                                             

                                4. Equivariant homology
4.1. Let A = A(C) be a complex torus with Lie algebra a. We will often use without
mention the canonical isomorphism χ∗ (A) ⊗ C → a∗ . Let
                                              ∞
                                              M
                            D(a) = Sym(a∗ ) =     Symd (a∗ )
                                                     d=0

be the symmetric algebra of linear differential operators (with constant complex coefficients)
on a∗ , graded by degree. Let
                                                  ∞
                                                  M
                              S(a) = Sym(a) =        Symd (a∗ )∗
                                                    d=0

be the dual symmetric algebra of complex valued polynomial functions on a∗ .
  Throughout this paper, cohomology and homology will be taken with complex coefficients
(unless otherwise stated), however it is possible to use rational coefficients, (by replacing a∗
with χ∗ (A) ⊗ Q, for example). Let BA be the classifying space for A. If ϕ : A → C× is
                                               8
a character let c1 (ϕ) be the first Chern class of the resulting line bundle on BA. Then c1
extends to an isomorphism
                                D(a) → H ∗ (BA) = HA∗ (pt)

(the Chern-Weil isomorphism) of graded algebras, which doubles degrees.
  Multiplication A × A → A determines an H-space structure m : BA × BA → BA which
gives rise to an algebra structure on H∗ (BA) = H∗A (pt). The homology H∗ (BA) is also
a module over H ∗ (BA) under the cap product. If x ∈ H 2(BA) then the Hopf formula
m∗ (x) = 1 ⊗ x + x ⊗ 1 implies that x acts on H∗ (BA) as a derivation, so H ∗ (BA) acts
on H∗ (BA) by differential operators. It follows that the mapping S(a) → H∗ (BA) (dual
to the Chern-Weil isomorphism) is an algebra isomorphism and is compatible with the cap
product, in the sense that the following diagram commutes:

                               Dk ⊗ Sj            −−−→      Sj−k
                                                            
                                  ∼                         ∼
                                  y=                         y=
                                                   ∩
                        H 2k (BA) ⊗ H2j (BA) −−−→ H2j−2k (BA)

   Suppose A acts on a complex projective algebraic variety X whose cohomology is pure.
Then the cohomology of X is equivariantly formal and the Cartan-Leray spectral sequence
for the equivariant cohomology of X collapses at E2 . Let T ⊂ A be a (possibly trivial)
subtorus and let I = ker(H ∗ (BA) → H ∗ (BT )) be the resulting homogeneous ideal. Then
the T -equivariant cohomology of X may be recovered from the A-equivariant cohomology
by
                            HT∗ (X) = HA∗ (X) ⊗HA∗ (pt) HT∗ (pt).

The equivariant homology H∗A (X) is a module over D = HA∗ (pt) and by duality, the T -
equivariant homology of X,
                                  H∗T (X) = H∗A (X) {I}                             (4.1.1)

is the submodule of H∗A (X) consisting of those elements which are annihilated by the ho-
mogeneous ideal I.


4.2. Let ϕ : A → C× be a nontrivial character with corresponding differential operator
∂ϕ ∈ D(a). Let M = ker(ϕ) with Lie algebra m = ker(∂ϕ ) ⊂ a∗ . Let j ∗ : S(m) → S(a) be the
homomorphism induced by inclusion m ⊂ a. Then the image of j ∗ consists of the polynomial
functions S(a) {∂ϕ } on a∗ which are annihilated by ∂ϕ .
  Such a nontrivial character ϕ extends to an action of A on CP1 = C× ∪ {0} ∪ {∞} . As in
[GKM98] §7.1, 7.2, the long exact sequence for the pair (CP1 , {0} ∪ {∞}) breaks into short
                                              9
exact sequences
                                                 ∂
  0 −−−→ H∗A (CP1 , {0} ∪ {∞}) −−−→ H∗A ({0}) ⊕ H∗T ({∞}) −−−→ H∗A (CP1 ) −−−→ 0
                         ||                                            ||
                       S(m)                 −−−→               S(a) ⊕ S(a)
                                                 β

where β(f ) = (j ∗ (f ), −j ∗ (f )).
4.3. Now suppose that a complex algebraic torus A acts algebraically on a complex pro-
jective variety Y whose cohomology is pure. Let Y0 ⊂ Y be the set of fixed points and let
Y1 ⊂ Y be the union of the 0 and 1 dimensional orbits of A in Y. The lemma of Chang and
Skjelbred [CS74] (cf. [GKM98] §6.3), when translated into homology, says that the following
sequence is exact:
                                             ∂
                       H∗A (Y1 , Y0 ) −−−→ H∗A (Y0 ) −−−→ H∗A (Y ) −−−→ 0.                         (4.3.1)
Suppose, moreover, that there are finitely many fixed points Y0 = {y1 , y2 , . . . , yr } and finitely
many 1-dimensional orbits {E1 , E2 , . . . , Ed } . The closure E i of each 1-dimensional orbit is
obtained by adding two fixed points ∂Ei = {yia } ∪ {yib } . Let mi ⊂ a be the Lie algebra of
the stabilizer of any point in Ei and let ji∗ : S(mi ) → S(a) be the resulting homomorphism.
Using §4.2, the sequence (4.3.1) becomes
                    Ld                   Lr                     A
                      i=1 S(mi ) −−β
                                   −→        k=1 S(a) −−−→ H∗ (Y ) −−−→ 0                      (4.3.2)
            P
where β = di=1 βi with
                              βi (fi ) = (0, . . . , ji∗ (fi ), . . . , −ji∗ (fi ), . . . , 0) .
for any fi ∈ S(mi ). (Here, the two nonzero entries occur in the positions corresponding to
yia and yib respectively.)

                                       5. Affine Springer fibers
5.1. Notation. Let Gm denote the multiplicative group. If k is a field, if k is an alge-
braic closure, and if T is an algebraic torus defined over k, let χ∗ (T ) = Hom(Gm , T ) ∼     =
        ×                                                                 ∗
Hom(k , T (k)) denote the group of cocharacters of T and let χ (T ) = Hom(T, Gm ) =            ∼
               ×
Hom(T (k), k ) denote the group of characters of T . The dual torus is Tb = Hom(χ∗ (T ), Gm ).
If G is a connected reductive complex algebraic group, if T ⊂ G is a maximal torus in G
and if (χ∗ (T ), Φ, χ∗ (T ), Φ∨ ) is the resulting root datum for G (where Φ and Φ∨ are the roots
and co-roots of T in G respectively), then we denote by G        b the “dual” connected reductive
complex algebraic group corresponding to the root datum (χ∗ (T ), Φ∨ , χ∗ (T ), Φ).
   Throughout this paper (except in §15) we let F = C((ε)) be the field of formal Laurent
series over C and denote by o = C[[ε]] its ring of integers, the formal power series over C.
                                                             10
The valuation val : F → Z takes integer values. Let T be an algebraic torus defined over C.
The following sequence is exact:
                                                      val
                     1 −−−→ T (o) −−−→ T (F ) −−−→ χ∗ (T ) −−−→ 1.
Here, val is defined by the property that α(val(ℓ)) = val(α(ℓ)) for all α ∈ χ∗ (T ) and all
ℓ ∈ T (F ). (On the left side of this equality, α is viewed as a homomorphism χ∗ (T ) → Z.)
The choice of uniformizing parameter ε determines a splitting χ∗ (T ) → T (F ) by β 7→ β(ε),
whose image Λ will be called the lattice of translations. It is a free abelian group of rank
equal to the dimension of T.
5.2. In this section we recall some definitions and results from [KL88]. Let G be a connected
reductive algebraic group over C, with Lie algebra g. Set g(F ) = g ⊗C F and g(o) = g ⊗ o.
Denote by Ad the adjoint action of GF on gF . We will often write K for the group G(o) of
o-points of G.
  The loop Grassmannian (or affine Grassmannian) is the quotient X = G(F )/K. The affine
Grassmannian X is an ind-algebraic variety: it is an increasing union [KL88]
                                   X0 ⊂ X1 ⊂ X2 ⊂ . . . ⊂ X
of finite dimensional complex projective algebraic varieties. If H ⊂ G is a connected reduc-
tive algebraic subgroup then the inclusion of H into G induces an injection H(K)/H(o) ֒→ X
of the loop Grassmannian for H into the loop Grassmannian for G.
   Each element γ ∈ g(F ) gives rise to a “vector field” on X whose fixed point set
                                                                    	
                        Xγ = xK ∈ G(F )/K : Ad(x−1 )(γ) ∈ g(o)
is called an affine Springer fiber. We say the element γ is compact if Xγ 6= φ. In [KL88]
it is proven that a compact element γ ∈ g(F ) is regular and semisimple iff Xγ is finite
dimensional, in which case Xγ is an ind-subvariety of X. It is a union of (possibly) infinitely
many irreducible components, each of which is a complex projective variety.
5.3. Conjecture. If γ ∈ g(F ) is compact, regular, and semisimple then for all i the homol-
ogy group Hi (Xγ ; C) is pure of weight i.
  In [GKMx] we prove this conjecture for elements γ which have “equal valuation”.
5.4. Bruhat decomposition. Let T ⊂ G be a maximal torus defined over C (hence split
over F ), with its lattice of translations Λ ⊂ T (F ) ⊂ G(F ). The identification Λ ∼
                                                                                    = T (F )/T (o)
induces an embedding φ : Λ → G(F )/G(o) = X of the loop Grassmannian for T into the loop
Grassmannian for G. Fix a Borel subgroup B ⊃ T and let I ⊂ G(F ) be the corresponding
Iwahori subgroup. Then G(F ) = IΛK so X decomposes into I orbits or Bruhat cells,
                                                 a
                                            X=       IℓK.
                                               ℓ∈Λ

We denote by Cℓ = Iℓx0 ⊂ X the orbit (cell) corresponding to ℓ ∈ Λ.
                                                11
5.5. Turning torus. Each λ ∈ C× determines an automorphism σλ of the field F = C((ε))
by σλ (εm ) = λm εm . We say that λ acts on F by “turning the loop” and we refer to the
image of C× → Aut(F ) as the “turning torus”. The turning torus preserves o = C[[ε]] and
the fixed point set of its action is
                                        ×        ×
                                     oC = F C = C · ε 0 .
The resulting action of C× on G(F ) preserves K = G(o) and induces an action on X =
G(F )/K which commutes with the action of T (C) ⊂ I. On each Bruhat cell Cℓ the action
of the extended torus
                                 Te(C) = T (C) × C×                             (5.5.1)
may be described by
                                  (t, λ) · gℓK = λ(tgt−1)ℓK.                             (5.5.2)

5.6. Affine roots. Let Φ = Φ(G, T ) be the root system for G, with positive roots Φ+
determined by the choice of B, and with root space decomposition
                                               M
                                 g(C) = t(C) ⊕     CYα
                                                     α∈Φ

where Yα ∈ g(C)α are root vectors. Let Φ     e = {(α, k) : α ∈ Φ, k ∈ Z} be the collection of
affine roots. Each affine root (α, k) may be considered to be a character of the extended
torus Te(C) (5.5.1) with (α, k)(t, λ) = α(t)λk . Then Te(C) acts on the affine root space Cεk Yα
through this character, that is,
                                  (t, λ) · εk Yα = α(t)λk εk Yα .                        (5.6.1)

  Let C0 be the fundamental alcove determined by I and let ∆ e be the set of simple affine
roots, so
                    n                                                 o
                                                                     e .
               C0 = a ∈ χ∗ (T ) ⊗Z R : α(a) + k > 0 for all (α, k) ∈ ∆
There is a split short exact sequence
                                  1 → I+ → I → T (C) → 1
where I+ denotes the unipotent radical of I. Its Lie algebra is given by
                                          Y              Y
                       N(I) = Lie(I+ ) =      εn T (C) ⊕     Cεk Yα                      (5.6.2)
                                              n∈Z             (α,k)


where the product is taken over those affine roots (α, k) ∈ Φe such that α(a) + k > 0 for all
a ∈ C0 . To fix notation we recall the following standard description of the Bruhat cells.
                                                12
5.7. Lemma. Let x0 = K ∈ X denote the basepoint. Fix ℓ ∈ Λ. The exponential map
determines a Te(C)-equivariant isomorphism between the Bruhat cell Cℓ = Iℓx0 and the
vector space
                                         M
                                   Dℓ =     Cεk Yα                            (5.7.1)
                                             (α,k)

                                                                  e such that
where the sum is over those (finitely many) affine roots (α, k) ∈ Φ
                     val(α(ℓ)) + k < 0 and α(a) + k > 0 for all a ∈ C0
and where Te(C) acts on this vector space according to (5.6.1).
5.8. Proof. The subgroup I+ acts transitively on Cℓ . The stabilizer Sℓ of the point ℓx0 is
I+ ∩ ℓG(o)ℓ−1 whose Lie algebra sℓ is the sum of the affine root spaces Cεk Yα such that
α(a) + k > 0 (for a ∈ A) and Ad(ℓ)(εk Yα ) ∈ g(o). The second condition is:
                                     εk+val(α(ℓ)) Yα ∈ g(o)
or equivalently, val(α(ℓ)) + k ≥ 0. But (5.7.1) is a Te(C)-invariant complement to sℓ in N(I)
so the exponential mapping takes it isomorphically to the Bruhat cell Iℓx0 .               
5.9. Lemma. The fixed point set of the turning torus on X is:
                                         ×
                                      X C = G(C)Λx0 .
The fixed point set of the torus T (C) on X is:
                                        X T (C) = Λx0 .
                                                     ×
5.10. Proof. It is easy to see that G(C)Λx0 ⊂ X C . To verify the reverse inclusion it suffices
to show that
                                       ×
                                    X C ∩ Cℓ ⊂ G(C)Λx0
for each Bruhat cell Cℓ . But the fixed point set of the turning torus on the vector space Dℓ
consists of those factors in the sum (5.7.1) with k = 0. So their exponentials are contained
in G(C) ∩ I. Similarly, the action of T (C) on Dℓ has a single fixed point at the origin so
T (C) acts on Cℓ with a single fixed point ℓx0 .                                           

5.11. One dimensional orbits. Let X1 ⊂ X denote the union of the 0 and 1-dimensional
orbits under the action of T (C) on X. If α ∈ Φ+ let Uα ⊂ G be the unique connected
T -stable 1-dimensional unipotent subgroup whose Lie algebra contains the root space gα .
Then each α ∈ Φ+ determines a unique reductive connected algebraic subgroup Hα ⊂ G
of semi-simple rank 1 which is generated by T, Uα , and U−α . Let X α = Hα (F )/Hα (o) be
the loop Grassmannian for this subgroup. The inclusion of Hα into G induces an injection
X α ֒→ X.
                                              13
5.12. Lemma. The union of the 0 and 1-dimensional orbits of T (C) on X is
                                         [
                                  X1 =      X α.
                                              α∈Φ+

If α, β ∈ Φ+ and α 6= β then X α ∩ X β = Λ.
5.13. Proof. If dim(T ) = 1 then the result is obvious since both sides coincide with X,
so we may assume that dim(T ) ≥ 2. The adjoint action of the torus T (C) on Hα factors
through anSaction of the 1-dimensional quotient T (C)/ ker(α). Hence X α ⊂ X1 . To show
that X1 ⊂ α∈Φ+ X α it suffices to show that
                                            [
                                 X1 ∩ C ℓ ⊂     X α ∩ Cℓ                         (5.13.1)
                                              α∈Φ+

for each Bruhat cell Cℓ . By Lemma 5.7 this amounts to determining the 1-dimensional
orbits of the action of T (C) on the vector space Dℓ of (5.7.1). It follows from (5.6.1) that
if dim(T ) ≥ 2 then these 1-dimensional orbits are precisely the coordinate axes Cεk Yα .
Therefore we may classify the 1-dimensional orbits of T (C) on Dℓ by the positive roots,
with those orbits corresponding to a fixed α ∈ Φ+ being contained in the subspace
                                   M            M
                            Dℓ,α =    Cεk Yα =     εk Lie(Uα )(C).
                                   k               k

Here, the sum is taken over those k such that α(a)+k > 0 (for all a ∈ C0 ) and val(α(ℓ))+k <
0. Let Cℓ,α ⊂ Cℓ be the corresponding subset of the Bruhat cell. Then Cℓ,α = X α ∩Cℓ , which
implies (5.13.1). Finally, if α 6= β then Dℓ,α ∩Dℓ,β = {0} which proves that X α ∩X β = Λ. 

                         6. Affine Springer fibers for SL(2)
6.1. In this section we fix G(C) = SL(2, C) and set X SL(2) = G(F )/K with basepoint
x0 = K = G(o). Let T be the torus of diagonal matrices and let α be the positive root,
α a0 a−1
      0
         = a2 . Let α∨ : F × → T (F ) be the corresponding co-root,
                                                    
                                      ∨        b 0
                                    α (b) =            .
                                               0 b−1
Then ΛSL(2) = hα∨ (ε)i is the cyclic group spanned by α∨ (ε), whose elements we denote by
ℓm = α∨ (εm ). For any integer n ≤ −1 set
                                            
                                        1 εn
                                 xn =          K ∈ X SL(2) .                       (6.1.1)
                                        0 1
Let α′ : t(F ) → F be the differential of α : T (F ) → F. The following fact was observed by
D. Nadler.
                                              14
6.2. Lemma. The affine Grassmannian X SL(2) is the disjoint union of countably many T (F )
orbits,
                                        a
                              X SL(2) =     T (F ) · xn .
                                                    n≤0

The orbit of the point xn has (complex) dimension |n| . If γ ∈ t(o) and v = val(α′ (γ)) then
                           SL(2)
the affine Springer fiber Xγ     is the union of the T (F ) orbits
                                                    0
                                                    [
                                      XγSL(2)   =          T (F ) · xn                           (6.2.1)
                                                    n=−v

and it is preserved by the turning torus.
                                                                                   SL(2)
It follows that we may unambiguously denote the affine Springer fiber Xγ                   in (6.2.1) by
  SL(2)
X≤v .

6.3. Proof. First observe that every point x ∈ X SL(2) has an expression of the form gK
with
                                         m       
                                          ε b0 εn
                                    g=
                                           0 ε−m
where either (1) b0 = 0 or (2) b0 ∈ o× and n − m < 0. In′ fact, the standardmBorel subgroup
                                     a b′
acts transitively on X, so x = 0 a−1 x0 for some a, b ∈ F. Set a = a0 ε with a0 ∈ o×
                                                                             εm b
and right multiply by α∨ (a−1  0 ) ∈ K to obtain x = gx0 with g =             0 ε−m . If b = 0 or if
                                                                  n
val(b) < m then we are done.       Otherwise     set b  =   b0 ε   with n ≥ m  and b0 ∈ o× . Right
                          n−m
multiply by k = 10 −b0 ε1       ∈ K to see that x = gkK ∈ Λ.
                                      m   εn
                                             
   Now let x = gK with g = ε0 εb0−m            . If b0 = 0 then x = α∨ (εm )x0 ∈ T (F ) · x0 . If
b0 ∈ o and m > n let a ∈ o be a square root of b0 . Set t = α∨(aεm ) ∈ T (F ) and
        ×                           ×

k = α∨ (a−1 ) ∈ K. Then txn−m k = g which proves the first statement. The dimension
                                                       SL(2)
statement is straightforward. If γ ∈ t(o) then Xγ            is preserved by T (F ) so it is a union of
                                                                                              n 
T (F ) orbits. To verify (6.2.1), suppose γ = ( a0 −a 0
                                                        ) ∈ t(o). Then Ad(xn )γ = a0 −2aε  −a     which
is in g(o) iff val(a) + n ≥ 0.                                                                       
                                    e
   Each 1-dimensional orbit O of T (C) necessarily contains exactly two fixed points ℓs , ℓt ∈ Λ
in its closure, in which case we say that O “connects” the points ℓs and ℓt .

6.4. Lemma. For any two lattice points ℓs , ℓt ∈ Λ there exists a unique 1-dimensional orbit
Ost of Te(C) in X SL(2) which connects them, and this accounts for all the 1-dimensional orbits
of Te(C) in X SL(2) . The stabilizer of any point in Ost is the kernel of the affine root (α, s + t).
                                    SL(2)
The orbit Ost is contained in Xγ          iff val(α′ (γ)) ≥ |s − t| .
                                                     15
6.5. Proof. By Lemma 6.2 for any T (o) orbit T there exists a unique s ∈ Z and a unique
n ≤ 0 such that ℓs xn ∈ T . Set t = s + n. We will show that
    (1) the Te(C) orbit O of ℓs xn is 1-dimensional,
    (2) this is the only 1-dimensional orbit of Te(C) in T ,
    (3) O connects ℓs and ℓt = ℓs + nα∨ (ε), and
    (4) Te(C) acts on O through the affine root (α, 2s + n).
  First compute
          P        the action of Te(C) on the T (o) orbit of the point ℓxn . Let α∨(b) ∈ T (o)
with b = i≥o bi εi ∈ o× . Let a ∈ C× . Since
                                                s s+n 
                                                ε ε
                                       ℓs xn =
                                                0 ε−s
the action of (α∨ (a), λ) ∈ Te(C) on the point α∨ (b)ℓs xn is the point
                                                                   
                                a(λ · b)λs εs a(λ · b)λs+n εs+n
                          y=                                          K.
                                      0       a−1 (λ · b−1 )λ−s ε−s
Right multiply by α∨ (a−1 (λ · b)−1 λ−s ) ∈ K to find that
                                    s 2                     
                                     ε a (λ · b)2 λ2s+n εs+n
                              y=                               K.                          (6.5.1)
                                     0           ε−s
As a, λ ∈ C× vary, this is a 2-dimensional orbit unless b = b0 ∈ C× , in which case λ · b = b,
hence lima→0 y = ℓs . To find lima→∞ y, choose λ = b = 1 and right multiply by
                                   −3 −1 −n        
                                   a     a ε − a2
                                                       ∈K
                                   a−2      ε−n
to find                             −3 s                    
                                     a ε + εs+n a−1 εs−n
                             y=                                K.
                                       a−2 ε−s       ε−s−n
So y → ℓs + nα∨ (ε) as a → ∞. It follows from (6.5.1) that Te(C) acts on this 1-dimensional
orbit through the character (α, 2s + n) = (α, s + t), cf. (5.6.1). This verifies (1)–(4). Finally,
by (6.2.1), the orbit O ⊂ Xγ iff |n| ≤ val α′ (γ).                                              

                7. Equivariant homology of SL(2) Springer fibers
7.1. As in §6 let G = SL(2), let X = X SL(2) = G(K)/G(o), let Λ = ΛSL(2) . (We use
multiplicative notation for the group law in Λ.) Let T ⊂ G be the diagonal matrices, with
simple root and co-root α and α∨ . Then α∨ (ε) ∈ Λ is a generator (which, by abuse of
notation, we denote by α∨) so it determines an isomorphism Z ∼      = Λ, written s 7→ ℓs . So
α∨ = ℓ1 and α∨ ℓs = ℓs+1 . Fix γ ∈ t(o) with corresponding Springer fiber Xγ .
  To simplify the notation, for the remainder of §7 we will write Te for Te(C), t for t(C), and
so on. Let D = D(t) be the algebra of differential operators on t∗ , which is identified with
                                                16
HT∗ (pt) by the Chern-Weil homomorphism. Let S(t) be the symmetric algebra of complex
                                ∗
valued polynomial functions
                          don
                             	 t . The character   α corresponds to a differential operator
∂α ∈ D(t). Denote by S(t) ∂α the kernel of ∂αd . The Chern-Weil homomorphism determines
an isomorphism of D modules
                                 H T (Λ) ∼
                                         = C[Λ] ⊗C S(t).
                                              ∗

7.2. Proposition. Let v = val(α′ (γ)). The inclusion Λ ⊂ X induces exact sequences,
                       e                 β̃       e              e
                     H∗T (Xγ , Λ) −−−→ H∗T (Λ) −−−→ H∗T (Xγ ) −−−→ 0
                          S              S             S                                  (7.2.1)
                                         β
                     H∗T (Xγ , Λ) −−−→ H∗T (Λ) −−−→ H∗T (Xγ ) −−−→ 0
and the image of β is the D-submodule
                        v
                        X                        	
                          (1 − α∨ )d C[Λ] ⊗ S(t) ∂αd ⊂ C[Λ] ⊗ S(t).                       (7.2.2)
                           d=1

7.3. Proof. The Springer fiber Xγ has a paving by affines ([GKMx]): it is an increasing
union of complex projective algebraic varieties φ ⊂ (Xγ )0 ⊂ (Xγ )1 ⊂ . . . such that each
(Xγ )j − (Xγ )j−1 is isomorphic to a single affine space. In fact the intersection of Xγ with a
single Bruhat cell is either empty, or else it is a single affine cell in this paving. It follows
that the homology of (Xγ )j vanishes in odd degrees. The extended torus Te = T × C×
(§5.5) preserves each (Xγ )j and it acts with finitely many fixed points and finitely many
1-dimensional orbits. So the results of §4.1 and §4.3 may be applied to this action. Since
homology commutes with direct limits, we obtain the exact sequences (7.2.1) for both the
Te-equivariant homology and the T -equivariant homology.
   The co-root α∨ determines canonical isomorphisms
                                  S(et) ∼
                                        = C[x, t] and D(et) ∼
                                                            = C[∂x , ∂t ].                (7.3.1)
According to Lemma 6.4, for each unordered pair of distinct integers a, b ∈ Z such that
|b − a| ≤ v = val(α′ (γ)), there is a unique 1-dimensional orbit Eab ⊂ Xγ which connects ℓa
and ℓb , on which the torus Te acts through the character Φab whose differential φab : et → C
corresponds to the differential operator
                                 ∂ab = ∂α + (a + b)∂t = 2∂x + (a + b)∂t .
Let mab = ker(φab ) denote the Lie algebra of the stabilizer of any point in this orbit, and let
 ∗
jab : S(mab ) → S(et) be the resulting inclusion. Then by (4.1.1) the image of jab∗
                                                                                     consists of
all polynomial functions on et which are annihilated by the differential operator ∂ab . Hence
                               ∗

                             ∗
                            jab S(mab ) = {g((a + b)x − 2t) : g ∈ C[z]}
                                                      17
consists
     P of polynomial functions of z = (a + b)x − 2t. It follows that the image of β̃ is the
sum a,b Mab of submodules Mab spanned by elements
                                    (ℓb − ℓa ) ⊗ gab ((a + b)x − 2t)
with |b − a| ≤ v. This is the module Pv of §12.6 (with 2t replaced by t).
  The T -equivariant homology of Xγ may be recovered (4.1.1) from the Te-equivariant ho-
mology of Xγ as the kernel of the operator ∂t . So the image of β is
                                        Im(β) = Pv ∩ ker(∂t ).
Then Proposition 12.7 identifies Pv ∩ ker(∂t ) with the submodule (7.2.2).                             
                             8. Groups of semisimple rank one
  For lack of an adequate reference we include a proof of the following well-known fact.
8.1. Lemma. Let H be a connected reductive complex linear algebraic group of rank n and
of semisimple rank 1. Then H is isomorphic to either
    (1) (C× )n−1 × SL(2, C)
    (2) (C× )n−1 × PGL(2, C)
    (3) (C× )n−2 × GL(2, C).
8.2. Proof. Let (L, {α} , L∨ , {α∨ }) be the (based) root datum for H where h·, ·i : L∨ × L →
Z is a dual pairing of rank n lattices, α ∈ L, α∨ ∈ L∨ , and hα∨ , αi = 2. If
                                            hα∨ , ·i : L → Z                                      (8.2.1)
is even-valued, then 21 α∨ ∈ L∨ so
                                       ⊥
                             L = (α∨ ) ⊕ hαi while L∨ = α⊥ ⊕ h 21 α∨ i
which corresponds to case (1). (Here, hαi denotes the cyclic group generated by α ∈ L, and
(α∨ )⊥ denotes the kernel of (8.2.1).) Similarly if h·, αi : L∨ → Z is even-valued then 21 α ∈ L
so
                                     ⊥
                            L = (α∨ ) ⊕ h 21 αi while L∨ = α⊥ ⊕ hα∨i
which corresponds to case (2).
   Now suppose that neither of these homomorphisms is even-valued. Let {e1 , e2 , . . . , en−1 }
be a basis of L0 = (α∨ )⊥ . Let L1 = {x ∈ L : hα∨ , xi = 1} . Then L1 − 21 α is a translate of
                            	                                       Pn−1
L0 so there exists ai ∈ 0, 21 such that L1 − 21 α = L0 + i=1                 ai ei and not all the ai are
0. By relabeling the basis we may assume that a1 = a2 = . . . = ar = 21 and the remaining
coefficients are 0. Let v = e1 + e2 + . . . + er . Then {v, e2 , . . . , er } is also a basis for L0 , and
1
2
  α + 21 v ∈ L. It follows that
                                   L = Y ⊕ he2 , e3 , . . . , en−1 i
where                                                                           	
                        Y = mα + m′ v : m, m′ ∈ Z or m, m′ ∈ Z + 21 .
                                                   18
Then this corresponds to case (3), with L∨ = he2 , e3 , . . . , en−1 i⊥ ⊕ Y ⊥ .               
8.3. Let H be a connected reductive complex linear algebraic group of semisimple rank
one. Fix a Borel pair B ⊂ T ⊂ H with resulting positive root α. Let X H be the affine
Grassmannian for H and let ΛH ⊂ X H be the lattice of translations for T. Consider the
abstract SL(2, C) which corresponds to the simple root α. The canonical mapping SL(2) →
H induces an inclusion φα : X SL(2) ⊂ X H with φα (ΛSL(2) ) = hα∨(ε)i ⊂ ΛH (the infinite
cyclic subgroup generated by α∨ (ε)). To simplify the notation, identify the co-root α∨ with
its image α∨ (ε) in ΛH .
8.4. Lemma. The following statements hold.
    (1) The affine Grassmannian for H is the disjoint union,
                                       a
                              XH =            ℓφα (X SL(2) ).
                                           ℓ∈ΛH /hα∨ i

   (2) The T H (o) orbits on X H coincide with the T SL(2) (o) orbits on X H (which are in turn
       translates, by elements of ΛH , of T SL(2) (o) orbits on X SL(2) ).
   (3) Let γ ∈ tH (o) be a regular element. Then the affine Springer fiber XγH is the disjoint
       union                              a               SL(2)
                                 XγH =             ℓφα (X≤v )                            (8.4.1)
                                           ℓ∈ΛH /hα∨ i

        where v = val(α′ (γ)), cf. equation (6.2.1).
8.5. Proof. For part (1) use Lemma 8.1 to reduce to the case H = GL(2) or PGL(2). If
H = GL(2) then the exact sequences
                                                               det
                    I −−−→ SL(2, F ) −−−→ GL(2, F ) −−−→ F × −−−→ 1
                  I −−−→ SL(2, o) −−−→ GL(2, o) −−−→ o× −−−→ 1
together with the isomorphism val : F × /o× ∼
                                            = Z give rise to a diagram
                                                           val det
                                 X SL(2) −−−→ X GL(2) −−−−→          Z
                                   x            x                    
                                                                   
                                                                   
                       0 −−−→ ΛSL(2) −−−→ ΛGL(2) −−−→ Z −−−→ 0
from which the result follows. Now suppose H = PGL(2). If g √           ∈ H(F ) let τ (g) =
val det g (mod 2). If τ (g) = 0 then det g has a square root in F and g/ det g ∈ SL(2, F ). So
the following exact sequences
                                                                         τ
                    {±I} −−−→ SL(2, F ) −−−→ PGL(2, F ) −−−→ Z/(2)
                    {±I} −−−→ SL(2, o) −−−→ PGL(2, o) −−−→                   1
                                                   19
give rise to a diagram
                                                         τ
                             X SL(2) −−−→ X PGL(2) −−−→ Z/(2)
                               x             x            
                                                        
                                                        
                   0 −−−→ ΛSL(2) −−−→ ΛPGL(2) −−−→ Z/(2) −−−→ 0
from which the result follows.
   For part (2) we may assume H = GL(2) or PGL(2). Let gK ∈ X H and let t = ( a0 0d ) ∈
T (o). Then ad−1 has a square root λ ∈ o. Set t′ = α∨(λ) ∈ T SL(2) (o). By matrix multipli-
  H

cation, tgt−1 = t′ g(t′)−1 hence tgK H = t′ gK H .
   Now consider part (3). It is easy to verify for H = GL(2), for H = PGL(2) and for
                                                                 n
n ≤ −1 that xn ∈ XγH iff |n| ≤ v = val(α′ (γ)), where xn = ( 10 ε1 ) K. Since XγH is a union of
T SL(2) (o) orbits, it follows that
                                                             SL(2)
                                 XγH ∩ φα (X SL(2) ) = φα (X≤v ).                          (8.5.1)
By Lemma 8.1, equation (8.5.1) holds for any H of semi-simple rank one. It follows that the
union (8.4.1) is contained in XγH . Conversely, if O is a T H (o) orbit in XγH then there exists
                                                                         SL(2)
ℓ ∈ ΛH so that ℓφα (xn ) ∈ O, which holds iff φα (xn ) ∈ XγH or xn ∈ X≤v . So
                                          [                 
                                     H                 SL(2)
                                   Xγ ⊂        ℓφα X≤v
                                           ℓ∈ΛH
                         SL(2)
The normalizer of φα (X≤v ) in ΛH is the sub-lattice hα∨i = φα (ΛSL(2) ), so the union (8.4.1)
is disjoint.                                                                                

                9. Equivariant homology of affine Springer fibers
9.1. As in §5 we consider a connected reductive linear algebraic group G defined over C and
a Borel pair T ⊂ B ⊂ G with resulting system of positive roots Φ+ . Fix γ ∈ t(o) and let Xγ
be the resulting affine Springer fiber. It contains the lattice Λ = ΛG . We use multiplicative
notation for the group operation in Λ. For notational simplicity in this section we denote by
t, t∗ , etc., the complex vector spaces t(C), t∗ (C), etc. Let α ∈ Φ+ and let α∨ : F × → T (F ) be
the corresponding co-root; it determines a lattice element which we also denote by α∨ ∈ Λ.
Moreover, α∨ ∈ t = t∗∗ corresponds to a (degree 1) monomial
                                           xα∨ ∈ S(t)
while α ∈ t∗ corresponds to a (degree 1) differential operator
                                         ∂α ∈ D(t)
                                  d	
such that ∂α (xα∨ ) = 2. Let S(t) ∂α be the submodule of polynomial functions which are
                                                                                  T (C)
annihilated by the differential operator ∂αd . Define the following submodule of H∗ (Λ) =
                                                  20
C[Λ] ⊗ S(t) :
                                         val(α′ (γ))
                                           X                    d            	
                                Lα,γ =                 (1 − α∨ ) C[Λ] ⊗ S(t) ∂αd .
                                            d=1

9.2. Theorem. Suppose the homology H∗ (Xγ ; C) is pure. Then the inclusion Λ ⊂ Xγ
induces an exact sequence
                      P                                T (C)
            0 −−−→        Lα,γ −−−→ C[Λ] ⊗ S(t) −−−→ H∗ (Xγ ) −−−→ 0.
                            α∈Φ+

9.3. Proof. Since the homology of Xγ is equivariantly formal, the exact sequence (4.3.1)
becomes
                 T (C)             β      T (C)            T (C)
               H∗ ((Xγ )1 , Λ) −−−→ H∗ (Λ) −−−→ H∗ (Xγ ) −−−→ 0                       (9.3.1)
where (Xγ )1 denotes the closure of the set of 1-dimensional T (C) orbits in Xγ . By Lemma
5.12, Xγα ∩ Xγβ = Λ if α 6= β, and
                                                [
                                     (Xγ )1 =       Xγα
                                                                α∈Φ+
where Xγα is the affine Springer fiber corresponding to γ in the loop Grassmannian X α for
the group H α of semi-simple rank one which is determined by α. So the image of β is the
sum over positive roots of the image of the corresponding mapping in the semisimple rank
one case. Thus, it suffices to consider the case in which the group G has semisimple rank
one, which we now assume.
  Let A = ker(α)0 ⊂ T and let T1 ⊂ T be the 1-dimensional sub-torus corresponding
to the co-root α∨. The canonical decomposition t = t1 ⊕ a determines an isomorphism
H∗ (pt) ∼ = H T1 (C) (pt) ⊗ H∗ (pt), that is, S(t) ∼
  T (C)                      A(C)
                                                   = S(t1 ) ⊗ S(a) and
                                     d	          d	
                               S(t) ∂ ∼  = S(t1 ) ∂ ⊗ S(a).
                                                  α                    α

  So the exact sequence (9.3.1) for T (C)-equivariant homology is obtained from the same
exact sequence for T1 (C)-equivariant homology
                     T (C)                β1           T (C)                    T (C)
                  H∗ 1       (Xγ , Λ) −−−→ H∗ 1                (Λ) −−−→ H∗ 1            (Xγ ) −−−→ 0   (9.3.2)
by tensoring with S(a). By Lemma 8.4 the homomorphism β1 decomposes as a direct sum
of homomorphisms
             L            T (C) SL(2)              L           T (C)
                  ℓ∗ φα∗ H∗ 1 (X≤v , ΛSL(2) ) −−−→     ℓ∗ φα∗ H∗ 1 (ΛSL(2) )
            ℓ∈ΛH /hα∨ i                                                    ℓ∈ΛH /hα∨ i

(where φα∗ and ℓ∗ denote the homomorphisms on homology which are induced by φα and by
translation by ℓ ∈ ΛH , respectively). So by Proposition 7.2 the image of β1 is the sum
      X             v
                    X                                      v
                         ∨      d    SL(2)
                                                      d	 X                          	
             ℓ∗ φα∗    (α − 1) C[Λ         ] ⊗ S(t1 ) ∂α =   (α∨ − 1)d C[Λ] ⊗ S(t1 ) ∂αd .
  ℓ∈ΛH /ΛSL(2)            d=1                                                  d=1
                                                               21
Since the image of β is obtained by tensoring with S(a), we obtain
                                     v
                                     X                           	
                           Im(β) =         (α∨ − 1)d C[Λ] ⊗ S(t) ∂αd . 
                                     d=1

  In fact, in the semisimple rank one case, as a module over S(a) the vector space of relations
Lα,γ has a basis consisting of the collection of elements
                            fℓ,d,α = (1 − α∨ )d ℓ ⊗ xd−1
                                                     α   ∈ C[Λ] ⊗ S(t)
with ℓ ∈ Λ and 1 ≤ d ≤ val(α′ (γ)).
9.4. Let Aut denote the automorphism group of the based root datum for G. Let W =
W (G, T ) be the Weyl group and let W f = Λ ⋊ W be the extended affine Weyl group. Then
the group
                                           f ⋊ Aut
                                           W                                           (9.4.1)
acts on T and on Λ. It acts through W ⋊ Aut on T (C) and on the root system Φ(G, T ).
Consider the diagonal action (from the left) of the group (9.4.1) on the equivariant homology
                                 H T (C) (Λ) ∼
                                       ∗     = C[Λ] ⊗C S(t).
It preserves the kernel
                                       ∞
                                     X X                        	
                            L∞ =         (1 − α∨ )d C[Λ] ⊗ S(t) ∂αd
                                   α∈Φ+ d=1
                   T (C)           T (C)
of the surjection H∗ (Λ) → H∗ (X) so it passes to an action on the equivariant homology
of X, which we will refer to as the “left” action. If γ ∈ t(o) then the subgroup
                    n                                                         o
        f                   f
        W ⋊ Aut = τ ∈ W ⋊ Aut : val(τ α(γ)) = val(α(γ)) for all α ∈ Φ         +
                                                                                  (9.4.2)
                  γ

preserves the module of relations
                                           X
                                               Lα,γ ⊂ H∗T (C) (Λ).
                                       α∈Φ+

Consequently, if the homology H∗ (Xγ ) is pure, the group (W     f ⋊ Aut)γ acts (from the left)
                                     T (C)
on the equivariant homology H              (Xγ ) by D(t) module homomorphisms. By (4.1.1) the
                                                         T (C)
ordinary homology is the submodule H∗ (Xγ ) = H∗ (Xγ ){I} which is killed by the aug-
mentation ideal I, so we obtain an action of (W      f ⋊ Aut)γ on the ordinary homology of the
affine Springer fiber.
   We remark that in many cases (including G = SL(n), Sp(n), or O(n)) it is possible to
construct a (continuous) action of the group (9.4.1) on X which is T (C) covariant, meaning
that τ (t · x) = τ (t) · τ (x) for t ∈ T (C), x ∈ X, and τ ∈ W   f ⋊ Aut. The induced action
                                                    22
     T (C)
on H∗ (X) then agrees with the left action. However, even in these cases, the topological
action of the subgroup (9.4.2) does not necessarily preserve the Springer fiber Xγ .

                                  10. Endoscopic groups
10.1. In this section we assume, for simplicity only, that G is adjoint. Fix endoscopic data
(H, s) for G. This means that H is a connected reductive complex algebraic group, that
s ∈ Tb ⊂ G,b and H  b = Gbs is the centralizer of s in G.
                                                        b Then H  b is connected since Gb is
simply connected ([Hum95] §2.11). We assume moreover that Borel pairs T ⊂ B ⊂ G and
TH ⊂ BH ⊂ H (defined over C) have been chosen, giving rise to a canonical isomorphism
                                         TH ∼= T.                                   (10.1.1)
Then Tb = THb is also a maximal torus in H.
                                         b The set of co-roots of T in H is
                        Φ∨ (H, TH ) = {α∨ ∈ Φ∨ (G, T ) : s(α∨ ) = 1} .
Let D = D(t) ∼= S(t∗ ) be the graded algebra of differential operators on t∗ . Each α ∈ Φ(G, T )
determines a differential operator ∂α ∈ D of degree 1. Define the homological transfer factor
                                   Y              ′
                        ∆=                 ∂αval α (γ) ∈ D = HT∗ (C) (pt).              (10.1.2)
                             α∈Φ+ (G)−Φ+ (H)
                                                    P
It is a homogeneous element of some degree, r =         α∈Φ+ (G)−Φ+ (H)   val α′ (γ). The action of ∆
is a surjection of graded D modules
                                       ∆·
                                S(t) −−−→ S(t)[−r] −−−→ 0
(where
     L A[−r] denotes the shift in grading, A[−r]k = Ak−r for any graded vector space
A = k Ak ).
   Fix γ ∈ t(o) regular and semisimple and let γH ∈ tH = Lie(TH ) be the element which
corresponds to γ under the isomorphism (10.1.1). Then γH acts as a “vector field” on the
affine Grassmannian X H = H(F )/H(o) and we denote its fixed point set by XγHH .
   Let AutG,H be the subgroup of the automorphism group of the based root datum for G
which preserves the roots of H. Let W H be the Weyl group for H, set W f H = Λ ⋊ W H and
fG,H = W
W        f H ⋊ AutG,H , and define a subgroup of WfG,H by
                n                                                          o
        fG,H = τ ∈ W
        W             fG,H : val(τ α(γ)) = val(α(γ)) for all α ∈ Φ+ (G, T ) .    (10.1.3)
         γ

Note that the square of ∆ is invariant under W  fG,H and hence that there exists a sign
                                                  γ
character
                                       η:WfG,H → {±1}
                                           γ
                                        fG,H .
such that τ (∆) = η(τ ) · ∆ for all τ ∈ Wγ
  Let J ⊂ C[Λ] be the multiplicative subset which is generated by the elements 1 − α∨ for
α∨ ∈ Φ∨ (G, T ) − Φ∨ (H, TH ). For any C[Λ] module M, let MJ = J −1 M denote the C[Λ]J =
                                               23
J −1 C[Λ] module which is obtained by inverting the elements of J. The localization of the
module C[Λ] ⊗ S(t) is C[Λ]J ⊗ S(t).
10.2. Theorem. Suppose the homology of Xγ and of XγHH is pure. Then the surjection
                        1 ⊗ ∆ : C[Λ] ⊗C S(t) → C[Λ] ⊗C S(t)[−r]                   (10.2.1)
induces a homomorphism of D modules
                           Ψ : H∗T (C) (Xγ ) → H∗T (C) (XγHH )[−2r]               (10.2.2)
which becomes an isomorphism
                          ΨJ : H∗T (C) (Xγ )J → H∗T (C) (XγHH )J [−2r]
                                                                             fG,H equi-
after localizing with respect to J. The homomorphisms Ψ and ΨJ are not quite W γ
                                       f G,H
variant; rather they transform under Wγ by the sign character η defined above.
  Assuming the homology of Xγ is pure, by Lemma 2.2 and equation (4.1.1) the ordinary
homology of Xγ is given by the D-submodule of the equivariant homology
                             H∗ (Xγ ; C) ∼
                                         = H T (C) (Xγ ; C) {I}
                                                    ∗

which is annihilated by the augmentation ideal I ⊂ D. We conclude:
10.3. Corollary. The action of 1 ⊗∆ on the equivariant homology induces a homomorphism
H∗ (Xγ ) → H∗ (XγHH )[−2r] and an isomorphism
                            H∗ (Xγ ; C)J ∼
                                         = H∗ (XγHH ; C)J [−2r].                  (10.3.1)
                                 fG,H by the sign character η.
These maps again transform under Wγ

  Although the homomorphism (10.2.2) may be described relatively easily in equivariant
homology, the resulting isomorphism (10.3.1) in ordinary homology is much more compli-
cated.
10.4. Proof of Theorem 10.2. The mapping Ψ is well defined because the mapping
(10.2.1) kills the submodule
                                 val(α′ (γ))
                                   X                                  	
                        Lα,γ =                 (1 − α∨ )d C[Λ] ⊗ S(t) ∂αd
                                    d=1

whenever α ∈ Φ+ (G) − Φ+ (H). If w ∈ W f ⋊ Aut and if f ∈ S(t) then w(∆f ) = w(∆)w(f ).
                          fG,H then w(∆) = η(w) · ∆. Therefore the maps 1 ⊗ ∆ and Ψ
If w lies in the subgroup W  γ
transform under W fγG,H by the sign character η.
   Now let us check that ΨJ is an isomorphism. The surjection
                       (1 ⊗ ∆)J : C[Λ]J ⊗ S(t) → C[Λ]J ⊗ S(t)[−r]
                                                    24
has kernel
                                   ker(1 ⊗ ∆)J = C[Λ]J ⊗ S(t) {∆}
and it restricts to a mapping hJ in the following diagram.
                P             −1                                T (C)
       0−→         α∈Φ+ (G) J    Lα,γ −→ C[Λ]J ⊗ S(t) −→     H∗ (Xγ )J   −→ 0
                                               
                         
                      hJ y
                                                (1⊗∆)
                                                y     J

             P                                             T (C)
       0−→ α∈Φ+ (H) J −1 Lα,γ [−r]−→ C[Λ]J ⊗ S(t)[−r]−→ H∗ (XγHH )J [−2r]−→ 0
It suffices (by the snake lemma) to show that hJ is surjective, and that
                                               X
                              ker(1 ⊗ ∆)J ⊂          J −1 Lα,γ .                        (10.4.1)
                                                           α∈Φ+ (G)

If α ∈ Φ+ (G) − Φ+ (H) (that is,	if s(α∨ ) 6= 1) then (1 − α∨ ) becomes invertible in C[Λ]J . If
a ≤ b then S(t) {∂αa } ⊂ S(t) ∂αb . Therefore the localization of the submodule Lα,γ is
                                                       n     ′
                                                                  o
                             J −1 Lα,γ = C[Λ]J ⊗ S(t) ∂αval(α (γ)) .
By Lemma 3.2, the sum
                                   X             n       ′
                                                              o
                                             S(t) ∂αval(α (γ)) = S(t) {∆}
                                 α∈Φ+ (G)
                                 s(α∨ )6=1

is killed by ∆. Therefore
                                                                X
                                    ker(1 ⊗ ∆)J =                       J −1 Lα,γ
                                                            α∈Φ+ (G)
                                                            s(α∨ )6=1

which proves (10.4.1). On the other hand, if α ∈ Φ+ (G) and s(α∨) = 1 then
                                         val(α′ (γ))
                                             X                                 	
                           −1
                       J        Lα,γ =                 (1 − α∨ )d C[Λ]J ⊗ S(t) ∂αd .
                                             d=1

In this case (by Lemma 3.2) the action of ∆ is a surjection
                                     	           	
                               S(t) ∂αd → S(t) ∂αd [−r]
which implies that hJ is surjective.                                                           

10.5. Remark. We did not use the full strength of the endoscopic hypothesis on H, and in
fact Theorem 10.2 remains valid whenever H is a connected reductive group for which there
exists a Borel pair TH ⊂ BH and an isomorphism T ∼   = TH such that the set of positive roots
  +                                           +
Φ (H, TH ) is a subset of the positive roots Φ (G, T ).
                                                           25
                                11. The quotient under Λ
11.1. As in §10, fix a Borel pair T ⊂ B ⊂ G, with resulting positive roots Φ+ . Fix regular
γ ∈ t(o) with affine Springer fiber Xγ and its lattice of translations Λ. The quotient Λ\Xγ ad-
mits the structure of a complex projective algebraic variety [KL88]. Let (H, s) be endoscopic
data, with s ∈ Tb, and assume that s has finite order. View s as a character s : Λ → GL1 (C)
and let Cs be the 1-dimensional C[Λ] module defined by s. Then s determines 1-dimensional
local systems
                           Ls = Xγ ×Λ Cs and Ms = XγHH ×Λ Cs
on Λ\Xγ and Λ\XγHH respectively. Let r = deg(∆) as in (10.1.2).
11.2. Proposition. Suppose that H∗ (Xγ ; C) and H∗ (XγHH ; C) are pure. Then there is an
isomorphism
                         Hm (Λ\Xγ ; Ls ) ∼
                                         = Hm−2r (Λ\XγHH ; Ms ).                (11.2.1)
                                                                           H
If the homology of Xγ is both pure and Tate, and if the same is true of XγH , then this
isomorphism may be chosen in a canonical manner.
11.3. Proof. The E 2 term of the Cartan-Leray spectral sequence for the above Λ-equivariant
homology group is
       2
      Epq (Xγ ; Cs ) = Hp (Λ; Hq (Xγ ; Cs )) = TorC[Λ]
                                                  p    (Hq (Xγ ), Cs ) =⇒ Hp+q (Λ\Xγ ; Ls ).
By Lemma 2.4 the spectral sequence collapses and gives rise to an isomorphism
                                       M
                    Hm (Λ\Xγ ; Ls ) ∼
                                    =       TorC[Λ] (Hq (Xγ ; C), Cs )
                                                      p                                   (11.3.1)
                                           p+q=m

which is canonical if H∗ (Xγ ; C) is also Tate.
  Let J ⊂ C[Λ] be the multiplicative subset generated by the collection of elements (1 − α∨ )
with α ∈ Φ+ (G) and s(α∨ ) 6= 1. The homomorphism C[Λ] → Cs (ℓ 7→ s(ℓ)) which gives rise
to the local system Ls may be factored as the composition of ring homomorphisms
                                     C[Λ] → C[Λ]J → Cs                                    (11.3.2)
in which the second map is defined by
                               (1 − α∨ )−1 ℓ 7→ (1 − s(α∨ ))−1 s(ℓ)
for any α∨ ∈ Φ∨ (G, T ) − Φ∨ (H, TH ) and any ℓ ∈ Λ. It is well defined because s(α∨ ) 6= 1. For
any C[Λ] module V , the composition (11.3.2) induces an isomorphism
                   V ⊗C[Λ] Cs ∼= V ⊗C[Λ] C[Λ]J ⊗C[Λ] Cs ∼ J = VJ ⊗C[Λ] Cs .
                                                                         J

Taking derived functors gives an isomorphism          TorC[Λ]   ∼
                                                                = TorC[Λ]
                                                              (V, Cs )      J
                                                                              (VJ , Cs ). Taking
                                                         p                p
V = Hq (Xγ ; C) gives an isomorphism
                                        M
                      Hm (Λ\Xγ ; Ls ) ∼
                                      =   TorC[Λ]
                                             p
                                                  J
                                                    (Hq (Xγ ; C)J , Cs ).
                                         p+q=m
                                                 26
So Proposition 11.2 follows from Corollary 10.3.                                               
11.4. Although we have not constructed the isomorphism (11.2.1) in a canonical way, the
isomorphism induced by ∆,
                           E 2 (Xγ ; Cs ) ∼
                                 pq       = E2  (X H ; Cs )
                                                         p,q−2r   γH

is canonical, and it transforms under WfG,H by the sign character η. It follows that the
                                        γ
Lefschetz number of any w ∈ Wγ f G,H
                                     on E∗2 (Xγ ; Cs ) is equal to that on E∗2 (XγHH ; Cs ) times
the sign η(w).

                                12. Combinatorial Lemmas
12.1. Let Λ be a free abelian group of rank one, and let Q[Λ] be its group ring. (The
group law in Λ will be written multiplicatively.) A choice of generator α∨ ∈ Λ determines
an isomorphism Λ ∼   = Z. Write ℓa ∈ Λ for the element corresponding to a ∈ Z. Then
multiplication by ℓ1 = α∨ acts as a “shift operator”: α∨ ℓa = ℓa+1 .
   The algebra Q[∂x , ∂t ] of differential operators in two variables acts on the algebra Q[x, t]
of polynomials in two variables, and hence also on the algebra Q[Λ] ⊗Q Q[x, t] with
                                      ker(∂t ) = Q[Λ] ⊗Q Q[x].
Fix d, m ∈ Z with d ≥ 1. Define
                  X
        fm,d =           Cab (ℓb − ℓa ) ⊗ ((a + b)x − t))d−1 ∈ Q[Λ] ⊗Q Q[x, t]          (12.1.1)
                m≤a<b≤m+d

where Cab ∈ Z is the integer
                                                                       
                                          a−b            d              d
                            Cab = (−1)          (a − b)                    .
                                                        a−m            b−m
Define Jv ⊂ Q[Λ] ⊗Q Q[x, t] to be the span
                                                 v X
                                                 X
                                          Jv =             Qfm,d .
                                                 d=1 m∈Z

12.2. Lemma. Fix d, m ∈ Z with d ≥ 1. Then
                         fm,d = (−1)d d!(1 − α∨ )d ℓm ⊗ xd−1 ∈ ker(∂t ).                (12.2.1)
If v ≥ 1 then
                                    v
                                    X                             	
                             Jv =         (1 − α∨ )d Q[Λ] ⊗Q Q[x] ∂xd                   (12.2.2)
                                    d=1
            	
where Q[x] ∂xd denotes the polynomials which are annihilated by ∂xd , that is, the polynomials
of degree ≤ d − 1.
                                                    27
12.3. Proof. We use the fact [H86] §1.1 that for any polynomial p,
                    n                  (
                   X          n           0          if deg p ≤ n − 1
                       (−1)k     p(k) =                                                 (12.3.1)
                   k=0
                              k           (−1) n! if p(k) = k n .
                                                n


Since Cab = −Cba we may express fm,d as:
      m+d
      X m+d
          X                          d−1
                Cab ℓb ⊗ (a + b)x − t
      a=m b=m
      m+d              d−1                                      !
      X m+d
          X            X      d−1           j j       d−1−j d−1−j
    =         ℓb ⊗ Cab              (a + b) x (−1)         t
      a=m b=m          j=0
                                j
      m+d d−1                            m+d                                         !
      XX                ′     d      d − 1     ′
                                                 X                 d
    =         ℓb ⊗ (−1)b                     td      (−1)a−m            (a − b)(a + b)j xj
      b=m j=0
                            b − m      j         a=m
                                                                a −  m

where b′ = b + d − 1 − j − m and d′ = d − 1 − j. By (12.3.1), the innermost sum vanishes
unless j = d − 1, leaving
                                     X
                                     m+d          
                                                     d
                                                         
                                 d            b−m
                      fm,d = (−1) d!     (−1)            ℓb ⊗ xd−1
                                     b=m
                                                   b − m

which is (12.2.1). To verify the reverse inclusion in equation (12.2.2) it suffices to show that
(1 − α∨ )d ℓm ⊗ xe−1 is in Jv for every d, e with 1 ≤ e ≤ d ≤ v. But
             (1 − α∨ )d ℓm ⊗ xe−1 = (1 − α∨ )e (1 − α∨ )d−e ℓm ⊗ xe−1
                                               Xd−e                
                                          ∨ e           d−e−j d − e
                                  = (1 − α )        (−1)              ℓm+j ⊗ xe−1
                                                j=0
                                                                  j
                                             d−e               
                                    (−1)d−e X          j d−e
                                  =               (−1)           fm+j,e
                                       e!     j=0
                                                             j

by (12.2.1). Since e ≤ v, this quantity lies in Jv . This completes the proof.                 
12.4. Lemma. Fix d, h, v ≥ 1 with v ≤ h. Fix m ∈ Z. Let
                            X
                    g=              (ℓb − ℓa ) ⊗ Gab ((a + b)x − t)d−1                  (12.4.1)
                            m≤a<b≤m+h
                              b−a≤v

where Gab ∈ Q (with b > a). If ∂t g = 0 and d > v then g = 0.
                                               28
12.5. Proof. Write gab = Gab ((a + b)x − t)d−1 . The sum in (12.4.1) may be written either
as
                        X min(m+h,a+v)
                       m+h−1      X             m+h
                                                 X       b−1
                                                         X
                                           or                    .
                             a=m         b=a+1             b=m+1 a=max(m,b−v)

Therefore
                      m+h
                      X            b−1
                                   X                          X min(m+h,a+v)
                                                             m+h−1  X
                g=                             ℓb ⊗ gab −                           ℓa ⊗ gab
                      b=m+1 a=max(m,b−v)                       a=m      b=a+1
                                                                             
                      m+h                a−1                 min(m+h,a+v)
                      X                  X                       X
                  =         ℓa ⊗                    gba −                  gab 
                      a=m          b=max(m,a−v)                 b=a+1

(but if a = m then the first sum is empty, while if a = m + h the second sum is empty).
Fix a with m ≤ a ≤ m + h. Expanding ((a + b)x − t)d−1 , the equation ∂t g = 0 gives the
following system of linear equations:
                        a−1                           min(m+h,a+v)
                        X                                    X
                                                 j
                                   Gba (a + b) −                     Gab (a + b)j = 0          (12.5.1)
                   b=max(m,a−v)                              b=a+1

for 0 ≤ j ≤ d − 2. This is a system of d − 1 homogeneous equations of van der Monde
type, in min(m + h, a + v) − max(m, a − v) variables. If the number of equations equals or
exceeds the number of variables, then only the zero solution exists, since the corresponding
van der Monde determinant is nonzero. Suppose d > v. First consider the system (12.5.1)
corresponding to a = m. Then the first sum in (12.5.1) is empty, leaving the second sum,
which consists of d − 1 (homogeneous) equations (of van der Monde type) in ≤ v unknowns
Gmb (with a + b ≤ b ≤ a + v). So these coefficients vanish. Suppose by induction that
the coefficients Gab have been shown to vanish for all pairs (a, b) with a < t and a < b ≤
min(m + h, a + v). Consider the system (12.5.1) in the case a = t. The terms in the first sum,
Pt−1
   x=max(m,t−v) Gxt vanish by the induction hypothesis, leaving only the second sum. This is
a system of d − 1 homogeneous equations in ≤ v variables so only the zero solution Gtb = 0
exists. This completes the induction, so we conclude that g = 0.                            
   We remark that the same (inductive) argument shows that if d = v = h then there is at
most a one dimensional space of solutions, so g is a multiple of fm,d .

12.6. Define Pv ⊂ Q[Λ] ⊗Q Q[x, t] to be the vector space spanned by elements
                                     (ℓb − ℓa ) ⊗ gab ((a + b)x − t)                           (12.6.1)
where gab are polynomials, and where |b − a| ≤ v. Let Pv {∂t } = Pv ∩ ker(∂t ).
                                                      29
12.7. Proposition. Fix v ≥ 1. Then Pv {∂t } = Jv , that is,
                     X                                        v
                                                              X                        	
       ker(∂t ) ∩             Q(ℓb − ℓa ) ⊗ Q[(a + b)x − t] =   (1 − α∨ )d Q[Λ] ⊗ Q[x] ∂xd .
                    |b−a|≤v                                  d=1

12.8. Proof. The inclusion Jv ⊂ Pv {∂t } follows from Lemma 12.2, so we only need to
verify the reverse inclusion. Let Pv,h be the vector subspace of Pv spanned by elements
(12.6.1) such that each gab (z) = Gab z h is homogeneous of degree h (with Gab ∈ Q). Set
Pv,h {∂t } = Pv,h ∩ ker ∂t . Then
                                              X
                                  Pv {∂t } =    Pv,h {∂t } ;
                                                   h≥0

and Lemma 12.4 says that Pv,h {∂t } = 0 whenever h ≥ v. So we need to show that
Pv,d−1 {∂t } ⊂ Jv whenever d ≤ v. Since both Pv {∂t } and Jv are modules over Q[∂x ] it
suffices to consider the case d = v, that is, we must show that Pv,v−1 {∂t } ⊂ Jv . Let
                         X
                 g=             (ℓb − ℓa ) ⊗ Gab ((a + b)x − t)v−1 ∈ Pv,v−1 {∂t }       (12.8.1)
                        m≤a<b≤m+N
                          b−a≤v

(for some m, N ∈ Z) where Gab ∈ Q. The expression (12.1.1) for fm,v contains a unique term
with b − a = v. However the sum (12.8.1) for g contains only terms with b − a ≤ v, so by
subtracting appropriate multiples of f∗,v ∈ Jv ∩ Pv,v−1 {∂t } we can eliminate all terms with
b−a = v. In other words, there exists h ∈ Jv ∩Pv,v−1 {∂t } such that g −h ∈ Pv−1,v−1 {∂t } = 0.
Therefore g ∈ Jv .                                                                           
                                                                                       T (C)   SL(2)
12.9. Remarks. The lemmas in this section refer to the equivariant homology H∗ (X≤v )
                                                                  SL(2)
of the affine Springer fiber. Each 1-dimensional orbit Eab ⊂ X≤v of the extended torus
                                                    Te (C)
Te(C) determines a relation in C[Λ] ⊗ C[x, t] = H∗ (Λ). For 1 ≤ d ≤ v the sum (12.1.1)
corresponds to a “constellation” of (finitely many) 1-dimensional orbits, such that the result-
                                                           T (C)
ing relation fm,d lies in the subalgebra C[Λ] ⊗ C[x] = H∗ (Λ). This constellation consists
of all the 1-dimensional orbits which are contained in a single irreducible component of
  SL(2)
X≤d . One may think of this constellation of 1-dimensional orbits as being attached to the
single orbit (the “longest one” in the constellation) which joins the lattice points ℓm and
            T (C)
ℓm+d . So H∗ (X≤v ) is the quotient of C[Λ] ⊗ C[x] by the relations (12.2.1), one for each
1-dimensional Te(C)-orbit in X≤v .

                                13. Affine flag manifold for SL(2)
  The results in this section are parallel to those of §6, §7, §8, and §12 so they will be
presented without detailed proofs.
                                                    30
13.1. Throughout this section we take G = SL(2). Let B = ( ∗0 ∗∗ ) be the standard Borel
subgroup of SL(2) with corresponding Iwahori subgroup I ⊂ G(o) and let Y = Y SL(2) =
G(F )/I be the affine flag manifold with basepoint x0 = I. Let T ⊂ G be the torus of
diagonal matrices, with its lattice of translations Λ = {α∨ (εm ) : m ∈ Z} where α∨ ∈ Φ∨ is
the simple co-root determined by T ⊂ B (cf. §5). The torus T (C) acts on Y with fixed
points                              m                                    
                                    ε      0                        0    εm
                          ℓm =                  I and rm =                    I               (13.1.1)
                                     0 ε−m                       −ε−m 0
for m ∈ Z. Let W = W (G, T ) = {1, wα } be the Weyl group of G. Since the extended
affine Weyl group W    f = Λ ⋊ W acts simply transitively on these fixed points, the choice
of basepoint x0 = ℓ0 ∈ Y determines an identification of W            f with this set of fixed points,
                      ∨ m
which identifies α (ε ) ∈ Λ with ℓm ∈ Y, and identifies the reflection wα with r0 ∈ Y. Then
ℓa ℓb = ℓa+b , ℓa rb = ra+b , ra ℓb = ra−b , and ra rb = ℓa−b .
   For m ≤ 0 define                                            m      
                                       1 εm                      ε −1
                              xm =              I and ym =                 I.                 (13.1.2)
                                       0 1                        1    0
Then x0 = ℓ0 is still the basepoint. For notational brevity, put y1 = r0 . Let Te(C) denote the
extended torus (5.5.1). If m ≤ −1 and s ∈ Z, the Te(C) orbit of ℓs xm is 1-dimensional, and it
connects the fixed points ℓs and rm+s . If m ≤ 0, the Te(C) orbit of ℓs ym is 1-dimensional and
it connects the fixed points rs and ℓm+s . Let π : Y SL(2) → X SL(2) be the natural projection
from the affine flag manifold to the affine Grassmannian. It is a G(F )-equivariant fibration
with fiber isomorphic to G(C)/B(C) ∼           = CP1 . It satisfies π(ℓm ) = π(rm ) for all m, and
π(xm ) = π(ym ) for all m ≤ 0.
   For m ≤ 0 the T (F )-orbit of xm ∈ Y is (−m) dimensional and it projects isomorphically
under π to the T (F )-orbit of the point π(xm ) (which was denoted xm in §6). For m ≤ 1
the T (F ) orbit of ym ∈ Y is 1 − m dimensional. If m ≤ 0, it fibers over the T (F ) orbit of
π(ym ) = π(xm ) with fiber a 1-dimensional affine space.
   Fix a regular element γ ∈ t(o) and let
                                                                        	
                                 Yγ = xI ∈ Y : Ad(x−1 )(γ) ∈ Lie(I)
be the affine Springer fiber corresponding to γ in the affine flag manifold Y. It is preserved
by the extended torus Te(C), and the mapping π : Yγ → Xγ is surjective (however it may
fail to be a fibration). The homology of Yγ is pure ([GKMx]). The paving of Y by affine
cells gives rise to a paving of Yγ by affine cells. In fact, the intersection of Yγ with a single
Bruhat cell in G(F )/I is either empty, or else it is a single affine cell.
13.2. Proposition. The affine flag manifold Y is the disjoint union of countably many T (F )
orbits,                             a
                               Y =     T (F ) · {xn ∪ yn+1 } .                     (13.2.1)
                                        n≤0
                                                 31
The affine Springer fiber Yγ is the union
                                             0
                                             [
                                Yγ = Y≤v =          T (F ) · {xn ∪ yn+1 }
                                             n=−v
                   ′
where v = val(α (γ)). For each ordered pair of integers s, t ∈ Z there is a unique one
dimensional orbit Est ⊂ Y of the extended torus Te(C) which connects the fixed points ℓs
and rt . This accounts for all the one dimensional orbits of Te(C) in Y. The torus Te(C)
acts on the orbit Est through the affine root (α, s + t). The orbit Est is contained in Yγ iff
−v ≤ t − s ≤ v − 1.
13.3. Proof. If s − t ≥ 1 then Est is the orbit of the point ℓs xt−s . It is contained in Yγ iff
s − t ≤ v. If s − t ≤ 0 then Est is the orbit of the point ℓt ys−t . It is contained in Yγ iff
t − s ≤ v − 1.                                                                               
13.4. As in §7 the co-root α∨ determines isomorphisms S(et) ∼    = C[x, t] and D(et) ∼
                                                                                     = C[∂x , ∂t ].
                                                                             f
Fix γ ∈ t(o) and let v = val(α (γ)). Let Mab be the vector subspace of C[W ] ⊗C S(et) which
                              ′

is spanned by elements
                                (ℓa − rb ) ⊗ gab ((a + b)x − 2t)
                                                                            P
where gab are polynomials. Then Mab is a D(et) module. Define Qv = a,b Mab to be the
sum of those subspaces Mab such that −v ≤ b − a ≤ v − 1. Then the inclusion W          f ⊂ Yγ
induces a short exact sequence on T (C)-equivariant homology,
                                f] ⊗C S(t) −−−→ H∗                T (C)
         0 −−−→ Qv {∂t } −−−→ C[W                                         (Yγ ) −−−→ 0    (13.4.1)
where the module of relations Qv {∂t } denotes the submodule of Qv which is annihilated by
the differential operator ∂t .
13.5. Proposition. Fix v ≥ 1. The module Qv {∂t } of relations is spanned by
                            X v
                                                       	
                                             f] ⊗ S(t) ∂xd
                                (1 − α∨ )d C[W                                            (13.5.1)
                                  d=1
and                       v
                          X                                       	
                                                        f] ⊗ S(t) ∂ d .
                                (1 − α∨ )d−1 (1 − wα )C[W                                 (13.5.2)
                                                                   x
                          d=1

13.6. Proof. This section is parallel to §12. Fix a, b ∈ Z and fix d ≥ 1. Define
                                 fa,b;d ∈ C[Wf ] ⊗C C[x, t]
to be the element
             a+d−1
              X b+d−1
                   X                     
                           u−v d − 1    d−1
                       (−1)                  (ℓu − rv ) ⊗ ((u + v)x − 2t)d−1 .
              u=a  v=b
                               u−a      v−b
                                                    32
As in §12 we find that
                 fa,b;d = (−1)a+b (d − 1)!(1 − α∨ )d−1 (ℓa − rb ) ⊗ xd−1 ∈ ker(∂t ).          (13.6.1)
Fix v ≥ 1. If 1 ≤ d ≤ v then fm,m;d ∈ Qv and fm+1,m;d ∈ Qv . (These are the relations coming
                                                                                        SL(2)
from the one dimensional orbits in each of the two types of irreducible components of Y≤d ,
cf. Remark 12.9). Define Kv ⊂ C[W  f ] ⊗C C[x, t] to be the span
                                          v
                                         XX
                                  Kv =             Cfm,m;d + Cfm+1,m;d .
                                         m∈Z d=1

Then Kv is a D(t) = C[∂x ] module, and equation (13.6.1) implies that Kv ⊂ Qv {∂t } . An
argument similar to that of §12.6 may be used to show that in fact Kv = Qv {∂t } . Since
                            fm,m;d + fm+1,m,d = (d − 1)!(1 − α∨ )d ℓm ⊗ xd−1
                       fm+1,m+1;d + fm+1,m,d = (d − 1)!(1 − α∨ )d rm ⊗ xd−1
we see that Kv is the sum
                           v
                           X                                v
                                                       d	 X
                                      ∨ d   f
                                 (1 − α ) C[W ] ⊗ S(t) ∂x +   Cf0,0;d .
                           d=1                                    d=1

The second set of relations may be replaced by the less efficient but more symmetric collection
(13.5.2) by noting that for any m ≥ 0,
               m−1
               X
                     (fj,j;d + fj+1,j;d) + fm,m;d = (d − 1)!(1 − α∨ )d−1 (ℓ−m − rm ) ⊗ xd−1
               j=−m
         m−1
         X
               (fj+1,j+1;d + fj+1,j;d) − fm,m;d = (d − 1)!(1 − α∨ )d−1 (r−m − ℓm ) ⊗ xd−1 .
        j=−m

Since Kv is a C[∂x ] module, we conclude that for any 1 ≤ d ≤ v,
                                                              	
                                                  f ] ⊗C S(t) ∂xd ⊂ Kv . 
                 f0,0;d ∈ (1 − α∨ )d−1 (1 − wα )C[W

13.7. The semisimple rank one case. As in §8.3 let H be a connected reductive complex
algebraic group of semisimple rank one, let T ⊂ B ⊂ H be a Borel pair, let I ⊂ H(F )
be the corresponding Iwahori subgroup, and let Y H = H(F )/I be the affine flag manifold
for H. Let α, α∨ be the simple positive root and co-root. These determine a reflection
wα ∈ W in the (finite) Weyl group for H, a 1-dimensional sublattice hα∨ i in the lattice ΛH
of translations of T, and a differential operator ∂α ∈ D(t) of degree 1. Let Wf = Λ⋊W
be the extended affine Weyl group. The mapping SL(2) → H determined by α induces an
                                                     33
inclusion φα : Y SL(2) → Y H . Let γ ∈ t(o) be a regular element and set v = val α′ (γ). Then
the affine flag manifold for H is the disjoint union
                                            a
                                  YH =            ℓφα (Y SL(2) )
                                        ℓ∈ΛH /hα∨ i

and the affine Springer fiber for γ is the disjoint union
                                            a            SL(2)
                                  YγH =           ℓφα (Y≤v )
                                        ℓ∈ΛH /hα∨ i

                                         H
which we may unambiguously denote by Y≤v   . It follows, as in §9.3, that the T (C) equivariant
              H
homology of Yγ is again given by the following:
13.8. Proposition. Suppose H has semisimple rank one. Fix T ⊂ B ⊂ H and fix v ≥ 1.
                                                                           H
Then the inclusion of the T (C) fixed points in the affine Springer fiber Y≤v induces a short
exact sequence
                               f ] ⊗C S(t) −−−→ H∗T (C) (Y H ) −−−→ 0
        0 −−−→ Qv {∂t } −−−→ C[W                                                       (13.8.1)
                                                          ≤v

where the module of relations Qv {∂t } is the span of (13.5.1) and (13.5.2).                 

     14. Homology of affine Springer fibers in the affine flag manifold
  The results in this section are parallel to §9 and §10 so they will be presented without
detailed proofs.

14.1. As in §5 let F = C((ε)), let G be a connected reductive complex algebraic group, let
T ⊂ B ⊂ G be a Borel pair and let I ⊂ G(F ) be the corresponding Iwahori subgroup. The
affine flag manifold is Y = Y G = G(F )/I. Let Λ ⊂ T (F ) denote the lattice of translations.
Identify each co-root α∨ ∈ Φ∨ (G, T ) with its image α∨ (ε) ∈ Λ. Set W f = Λ ⋊ W where
W = W (G(C), T (C)) is the Weyl group. Each cell in the Bruhat decomposition
                                           a
                                     Y =       IwI/I
                                              f
                                            w∈W

contains a unique T (C) fixed point. Hence the choice of basepoint determines a one to one
correspondence
                                       Y T (C) ∼
                                               =Wf
between the set of fixed points and the extended affine Weyl group, which is compatible
with the action of the lattice Λ of translations.
   For each root α ∈ Φ+ let wα ∈ W be its corresponding reflection, let Wα = {1, wα } , and
let H α be the connected reductive group of semisimple rank one which contains T and the
                                               34
root subgroup Uα ⊂ G. Let Y α be the affine flag manifold for H α . If u ∈ Y is a T (C) fixed
point then it determines an isomorphism
                                      φu : Y α → H α · u ⊂ Y
                                                                           α ∼
between Y α and the orbit H α · u. It restricts to an isomorphism Y≤v        = Yγ ∩ H α · u of affine
                                                                         ′
Springer fibers, for any regular element γ ∈ t(o) with v = val α (γ). (The action of wα on
Y T (C) preserves the fixed points in the orbit H α · u but it interchanges those of “type ℓ” and
“type r”.) Define                     a                  a
                             Zα =          Hα · u =            φu (Y α ).
                                    u∈Wα \W                   u∈Wα \W
The proof of the following lemma is parallel to that of Lemma 5.12.
14.2. Lemma. Let γ ∈ t(o) be a regular element. Then the union of the 0 and 1 dimensional
orbits in the affine Springer fiber is
                                                [
                                       (Yγ )1 =   Zγα
                                                      α∈Φ+

where Zγα is the intersection
                                                         a
                                 Zγα = Yγ ∩ Z α =                      α
                                                                  φu (Y≤v ).
                                                      u∈Wα \W

                           f.
If α 6= β then Zγα ∩ Zγβ = W                                                                            
  Each α ∈ Φ+ corresponds to a degree one differential operator ∂α ∈ D(t), to an element
α∨ ∈ Λ, and to a reflection wα ∈ W. For α ∈ Φ+ define the D(t) submodule Mα,γ to be the
sum
  val(α′ (γ))                                  val(α′ (γ))
     X                                 	        X                                              	
                     ∨ d   f ] ⊗C S(t) ∂αd +
                (1 − α ) C[W                                                         f] ⊗C S(t) ∂αd .
                                                             (1 − α∨ )d−1 (1 − wα )C[W
     d=1                                          d=1

Using Proposition 13.8, the argument of §9.3 gives the following.
14.3. Theorem. Let γ ∈ t(o) be a regular element. Suppose the homology H∗ (Yγ ; C) is pure.
                   f ⊂ Yγ induces an exact sequence of D(t) modules,
Then the inclusion W
                   P                                          T (C)
         0 −−−→                          f
                     α∈Φ+ Mα,γ −−−→ C[W ] ⊗C S(t) −−−→ H∗           (Yγ ) −−−→ 0.

  The group (Wf ⋊ Aut)γ of (9.4.2) acts on this equivariant homology group and it restricts
to an action on the ordinary homology,
                                     H∗ (Yγ ) = H∗T (C) (Yγ ) {I} ,
that is, the subgroup of the equivariant homology which is annihilated by the augmentation
ideal I ⊂ D.
                                                    35
                                                                f from the right on
14.4. Springer action. Consider the (regular⊗trivial) action of W
                                           f] ⊗ S(t).
                                         C[W
This action preserves each relation Mα,γ (for α ∈ Φ+ ). Assume the homology H∗ (Yγ ; C) is
pure. Then the right action of C[Wf ] passes to an action on H∗T (C) (Yγ ) which is compatible
with the D(t) module structure, and which commutes with the (W     f ⋊ Aut)γ action. So it
                                           f on the ordinary homology H∗ (Yγ ). It can be
restricts to an action (from the right) of W
shown that this action coincides with the Springer action defined by Lusztig [Lu96] and
(using a statement from [KL80] whose proof does not appear in the literature) by Sage
[Sa97]. So Theorem 14.3 gives a “formula” for the Springer action.

14.5. Endoscopic groups. There are parallels to §10 and §11 for the affine flag manifold
also. As in §10 suppose G is adjoint, and let (H, s) be endoscopic data for G. Fix compatible
Borel pairs T ⊂ B ⊂ G and TH ⊂ BH ⊂ H with resulting identification TH ∼       = T. The group
                                                                              f
H has root system Φ(H, TH ) ⊂ Φ(G, T ) and (extended) affine Weyl group W H = Λ ⋊ W H ⊂
f . Let γ ∈ t(o) be a regular element with corresponding Springer fibers Yγ and Y H . Suppose
W                                                                                   γH
the homology groups H∗ (Yγ ; C) and H∗ (YγHH ; C) are pure. Let ∆ be the homological transfer
factor of (10.1.2), let r = deg(∆), and (as before) let η be the sign character that gives the
action of WfG,H on ∆.
             γ
                                                    T (C)                     f
   We are going to compare the induced module H∗ (YγHH )[−2r]⊗C[W     f H ] C[W ] to the module
  T (C)
H∗ (Yγ ). One sees immediately that this induced module is equal to the quotient of
                 P
  f ] ⊗C S(t) by
C[W               α∈Φ+ (H) Mα,γ . Note that the surjection

                                     f ] ⊗C S(t) → C[W
                           1 ⊗ ∆ : C[W               f ] ⊗C S(t)

kills Mα,γ whenever α ∈ Φ+ (G) − Φ+ (H).
   Let J ⊂ C[Λ] be the multiplicative subset generated by the elements 1 − α∨ for α∨ ∈
Φ (G) − Φ∨ (H). We use the action of Λ on the Springer fibers to regard their homology
  ∨

groups as modules over the group algebra C[Λ], allowing us to localize the homology groups
using J. Then we have the following result.
14.6. Theorem. Suppose H∗ (Yγ ) and H∗ (YγHH ) are pure. Then the mapping 1 ⊗ ∆ induces
a homomorphism of D(t) modules,

                        H∗T (C) (Yγ ) → H∗T (C) (YγHH )[−2r] ⊗C[W       f
                                                                f H ] C[W ]

and a homomorphism on ordinary homology,

                        H∗ (Yγ ; C) → H∗ (YγHH ; C)[−2r] ⊗C[W       f
                                                            f H ] C[W ].
                                                36
Both homomorphisms transform under η with respect to the left action of W   fG,H and are
                                                                              γ
                                                f , and both homomorphisms become isomor-
equivariant with respect to the right action of W
phisms
                        H∗T (C) (Yγ )J ∼
                                       = H∗T (C) (YγHH )J [−2r] ⊗C[W       f
                                                                   f H ] C[W ]

                         H∗ (Yγ ; C)J ∼
                                      = H∗ (YγHH ; C)J [−2r] ⊗C[W       f
                                                                f H ] C[W ]

after localizing with respect to J.                                                          

                                  15. An orbital integral
15.1. Set-up. Let k be a finite field and k̄ an algebraic closure of k. Let F = k((ε))
and L = k̄((ε)). Let o denote the valuation ring k[[ε]] of F . We write σ for the Frobenius
automorphism of both k̄/k and L/F , and we write hσi for the infinite cyclic group generated
by σ. We also choose an algebraic closure L̄ of L and write I for Gal(L̄/L). We write F for
the algebraic closure of F in L and Γ for the Galois group Gal(F /F ).
   Let G be a connected reductive group over F , and assume that G splits over L. Let K
be a parahoric subgroup of G(F ), let KL be the corresponding σ-stable parahoric subgroup
of G(L), and write k and kL for the corresponding parahoric subalgebras (of g(F ) and g(L)
respectively). Let X be the k-ind-scheme associated to G(L)/KL . Then X(k̄) = G(L)/KL
and X(k) = G(F )/K.
   Let T be a maximal F -torus in G. Let S denote the maximal unramified subtorus of T .
Thus the cocharacter group X∗ (S) can be identified with X∗ (T )I .
   Let u be a regular element in Lie(T )(F ) and assume that u is integral, in the sense that
α(u) lies in the valuation ring of F̄ for every root α of T in G. We write Xu for the affine
Springer fiber {x ∈ X : x−1 ux ∈ kL} studied by Kazhdan-Lusztig in [KL88]. (We usually
write x−1 ux rather than Ad(x)−1 u.)
   For µ ∈ X∗ (S) we write εµ for µ(ε) ∈ S(L). The map µ 7→ εµ is hσi-equivariant and
identifies X∗ (S) with a subgroup of S(L) (and of T (L)) that we will denote by Λ. The
group T (L) centralizes u and therefore acts by left translations on Xu . The quotient Λ\Xu
of Xu by the subgroup Λ of T (L) is a non-empty projective scheme of finite type over k (see
[KL88]).
15.2. Normalized Haar measure on T (F ). Recall from [Kot97, 7.6] the exact sequence
                                                 T    w
                             1 → T (L)1 → T (L) −→ X∗ (T )I → 0.                       (15.2.1)
Taking invariants under hσi, we get another exact sequence
                           1 → T (F )1 → T (F ) → (X∗ (T )I )hσi → 0,                  (15.2.2)
where T (F )1 := T (F ) ∩ T (L)1 . Surjectivity at the right end of this last exact sequence is
proved in [Kot97, 7.6].
                                                 37
   Let dt be the Haar measure on T (F ) that gives T (F )1 measure 1. The group Λhσi of T (F )
is discrete and cocompact, so the volume of the quotient Λhσi \T (F ) is finite. We need to
compute this volume (with respect to dt).

15.3. Volume computation. We claim that
                                                 | cok[X∗ (S)Γ → X∗ (T )Γ ]|
                        voldt (Λhσi \T (F )) =                               .          (15.3.1)
                                                 | ker[X∗ (S)Γ → X∗ (T )Γ ]|
To prove this claim we begin by noting that the canonical map
                                  X∗ (S) = X∗ (T )I → X∗ (T )I
has finite kernel and cokernel. Thus this map is in fact injective, since X∗ (S) is torsion-free.
We let M denote its cokernel, so that we get a short exact sequence
                               0 → X∗ (S) → X∗ (T )I → M → 0
of hσi-modules, and an associated long exact sequence of group cohomology
                          0 →X∗ (S)hσi → (X∗ (T )I )hσi → M hσi
                                                                                        (15.3.2)
                           →X∗ (S)Γ → X∗ (T )Γ                 → Mhσi → 0,
in which we have identified X∗ (S)hσi with X∗ (S)Γ and (X∗ (T )I )hσi with X∗ (T )Γ.
   Since X∗ (S)hσi → (X∗ (T )I )hσi is injective, the subgroups X∗ (S)hσi and T (F )1 of T (F )
have trivial intersection, and therefore
                                                                    
                                                     (X∗ (T )I )hσi 
                                      hσi
                              voldt (Λ \T (F )) =                  .
                                                       X∗ (S)hσi 
It follows from (15.3.2) that
                                          
                           (X∗ (T )I )hσi       |M hσi |
                                          =
                           X∗ (S)hσi  | ker[X∗ (S)Γ → X∗ (T )Γ ]| .

Since all groups in the exact sequence
                                                  σ−1
                            0 → M hσi → M −−→ M → Mhσi → 0
are finite, we have
                                         |M hσi | = |Mhσi |.
Finally, it follows from (15.3.2) that
                               |Mhσi | = cok[X∗ (S)Γ → X∗ (T )Γ ].
Combining the last four equations, we get the claim.
                                                   38
15.4. Normalized orbital integrals. For any compactly supported locally constant func-
tion f on g(F ) we put             Z
                         Ou (f ) =         f (g −1ug) dt\dg,
                                         T (F )\G(F )
where dt is the normalized Haar measure on T (F ) defined above, and dg is the Haar measure
on G(F ) that gives our chosen parahoric subgroup K measure 1. We then have
                                                   Z
                                      hσi       −1
                    Ou (f ) = voldt (Λ \T (F ))            f (g −1ug) dg.           (15.4.1)
                                                        Λhσi \G(F )

In the special case that our function f is 1k, the characteristic function of k, we have
                 Z
                            1k(g −1 ug) dg = |{x ∈ Λhσi \G(F )/K : x−1 ux ∈ k}|
                    hσi
                   Λ \G(F )                                                            (15.4.2)
                                               hσi
                                           = |Λ \(Xu (k))|.
Combining (15.3.1), (15.4.1), (15.4.2), we find that
                                | ker[X∗ (S)Γ → X∗ (T )Γ]|
                    Ou (1k) =                               · |Λhσi \(Xu (k))|.        (15.4.3)
                                | cok[X∗ (S)Γ → X∗ (T )Γ ]|
15.5. κ-orbital integrals of 1k. Consider an element u′ ∈ g(F ) that is stably conjugate to u
(that is, conjugate under G(F )). Since the group H 1 (L, T ) vanishes (see [Ser68, X.7]), there
exists g ∈ G(L) such that u′ = gug −1. Apply σ to this equality to see that g −1σ(g) ∈ T (L).
The class of g −1σ(g) in B(T ) (in other words, the σ-conjugacy class of g −1 σ(g) in T (L)) is
independent of the choice of g. Here, as usual, for any linear algebraic group G over F we
write B(G) for the set of σ-conjugacy classes in G(L).
  Turning this around, given t ∈ T (L) whose class in B(T ) lies in
                                D(T /F ) := ker[B(T ) → B(G)],
we choose g ∈ G(L) such that t = g −1σ(g) and put u(t) = gug −1, an element of g(F )
that is stably conjugate to u and whose G(F )-conjugacy class depends only on the class
of t in B(T ). The construction t 7→ u(t) sets up a bijection from D(T /F ) to the set of
G(F )-conjugacy classes in the stable conjugacy class of u.
   Recall from [Kot97, 7.6] that the canonical homomorphism
                                      wT : T (L) → X∗ (T )I
induces an isomorphism (take coinvariants under hσi)
                                        B(T ) ≃ X∗ (T )Γ .
  At this point we fix a prime number l that is non-zero in the field k. Put
                                    T̂ := Hom(X∗ (T ), Q̄×
                                                         l ).
                                                 39
Let κ ∈ Hom(X∗ (T )Γ, Q̄×       Γ                                    ×
                        l ) = T̂ . For t ∈ T (L) we write ht, κi ∈ Q̄l for the value of the
character κ on the element of X∗ (T )Γ obtained as the image of t under
                                  T (L) ։ B(T ) ≃ X∗ (T )Γ .
  For Q̄l -valued locally constant compactly supported functions f on g(F ) we define the
κ-orbital integral Ouκ (f ) by
                                          X
                               Ouκ (f ) =     ht, κi · Ou(t) (f ).
                                         t∈D(T /F )

Note that if κ lies in the subgroup Z(Ĝ)Γ of T̂ Γ (where we form the Langlands dual group
Ĝ using Q̄l , and where Z(Ĝ) denotes the center of Ĝ), then Ouκ is a stable orbital integral.
   In the special case that f is 1k, we find that
                              | ker[B(S) → B(T )]|   X
                   Ouκ (1k) =                      ·       ht, κi · |Λhσi \Xutσ |,      (15.5.1)
                              | cok[B(S) → B(T )]|
                                                      t∈D(T /F )

where we have written Xutσ for the fixed point set of tσ on Xu , which appears in our formula
since x 7→ gx induces a bijection from Xutσ to Xu(t) (k), where g ∈ G(L) is chosen so that
t = g −1 σ(g), as before.

15.6. Local systems Lη on Λ\Xu . Any finite dimensional (continuous) l-adic representa-
tion of Λ ⋊ Gal(k̄/k) (with the topology on Λ given by all subgroups of finite index) gives
rise to a local system on Λ\Xu over k (which becomes constant when pulled back to Xu over
k̄). Put Ŝ := Hom(X∗ (S), Q̄×
                             l ). Let

                             η ∈ Hom(X∗ (S)Γ , Q̄×       Γ
                                                 l ) = Ŝ = Ŝ
                                                               hσi
                                                                   ,
and assume that η has finite order. Using the isomorphism Λ ≃ X∗ (S), we also view η as a
character on Λ, and since η is fixed by σ, we may extend η to a character on Λ ⋊ Gal(k̄/k)
by making it trivial on Gal(k̄/k). We use the resulting 1-dimensional representation of
Λ ⋊ Gal(k̄/k) to form a rank 1 local system Lη on Λ\Xu over k.
   Since the action of T (L) on Xu commutes with that of Λ, it induces an action (over k̄)
of T (L) on Λ\Xu and Lη , and therefore T (L) acts on the cohomology groups H i (Λ\Xu , Lη ).
It follows from the definitions that the subgroup Λ of T (L) acts on these cohomology groups
through the character η −1 . Moreover the “identity component” T (L)1 of T (L) acts trivially
on them. Then since Λ·T (L)1 has finite index in T (L) and acts by a character on cohomology,
each cohomology group is a semisimple T (L)-module. Therefore (using (15.2.1)) we can
decompose the cohomology groups as
                                                M
                              H i(Λ\Xu , Lη ) =   H i (Λ\Xu , Lη )κ
                                                  κ
                                                40
where κ runs through the finite set of characters κ ∈ Hom(X∗ (T )I , Q̄×         I
                                                                         l ) = T̂ whose im-
age under T̂ I → Ŝ is η −1 , and where H i (Λ\Xu , Lη )κ denotes the κ-isotypic subspace of
H i (Λ\Xu , Lη ) (viewing κ as a character on T (L), as before).

15.7. Main result. Now we can state the main result of this section, which gives a coho-
mological interpretation of the κ-orbital integrals of 1k.
15.8. Theorem. Let κ be an element of finite order in T̂ Γ. Then the κ-orbital integral
Ouκ (1k) is given by
                                Ouκ (1k) = Tr(σ −1 ; H • (Λ\Xu , Lη )κ ),
where η is the image of κ−1 under T̂ Γ → Ŝ Γ .
  Here we have written Tr(σ −1 ; H • (Λ\Xu , Lη )κ ) as an abbreviation for
                               2 dim
                                 XXu
                                       (−1)i Tr(σ −1 ; H i (Λ\Xu , Lη )κ ).
                                 i=0

Proof. The first step is to apply the Grothendieck-Lefschetz trace formula. We claim that
for any t ∈ T (L) we have
                                                      X
                        Tr (tσ)−1 ; H • (Λ\Xu , Lη ) =       hλx , ηi,            (15.8.1)
                                                              x̄∈(Λ\Xu )tσ

with notation as follows. We are writing (Λ\Xu )tσ for the fixed points of tσ on Λ\Xu ,
and for such a fixed point x̄ we choose a representative x ∈ Xu and define λx ∈ Λ by
the equality tσx = λx x. The image of λx in Λhσi = X∗ (S)Γ is independent of the choice
of representative x. The equality (15.8.1) follows from the Grothendieck-Lefschetz trace
formula applied to the Frobenius map for a twisted k-form of Λ\Xu , Lη in which the twisted
action of σ is given by tσ.
   The formula (15.8.1) can be rewritten as
         X                                    X                         λ
              Tr (tσ)−1 ; H • (Λ\Xu , Lη )κ′ =     hλ, ηi−1 · |Λhσi \(Xuε tσ )|,   (15.8.2)
           κ′                                     λ∈X∗ (S)Γ


where the sum on the left is taken over κ′ ∈ T̂ Γ whose image under T̂ Γ → Ŝ Γ is η −1 . Indeed,
since (tσ)−1 maps H i (Λ\Xu , Lη )κ′ to H i (Λ\Xu , Lη )σ−1 (κ′ ) , only those κ′ ∈ T̂ I that are fixed
by σ contribute to the trace. As for the sum on the right, we simply collected like terms in
the sum on the right in (15.8.1).
   Multiply both sides of (15.8.2) by ht, κi, sum over
                       t ∈ cok[B(S) → B(T )] = cok[X∗ (S)Γ → X∗ (T )Γ ],
                                                   41
and divide by the order | cok | of this cokernel. We obtain
                                          | ker | X
               Tr σ −1 ; H •(Λ\Xu , Lη )κ =          ·    ht, κi · |Λhσi \(Xutσ )|.
                                             | cok |
                                                           t∈B(T )

Comparing this equation with equation (15.5.1), we see that in order to finish the proof of
the theorem, it suffices to show that if Xutσ is non-empty, then t lies in ker[B(T ) → B(G)].
Indeed, suppose that tσ(x) = x for some x ∈ G(L)/KL . Then x−1 tσ(x) ∈ KL . By Lang’s
theorem (applied to the finite dimensional quotients of the connected proalgebraic group KL
over k) and the completeness of L, every element in KL is trivial in B(G). Therefore t is
trivial in B(G).                                                                          

15.9. A variant of the main result. The theorem above can be restated in a slightly
different way, since the classical relationship between the cohomology of Xu and that of
Λ\Xu presumably has an l-adic version
                       H i (Λ\Xu , Lη )κ = ExtiX∗ (T )I ((Q̄l )κ , RΓ(Xu , Q̄l )).
Here (Q̄l )κ denotes the 1-dimensional X∗ (T )I -module obtained by letting X∗ (T )I act on
Q̄l via the surjection X∗ (T )I → X∗ (T )Γ and the character κ of X∗ (T )Γ , and the complex
RΓ(Xu , Q̄l ) is being regarded as an object in a suitable derived category of X∗ (T )I -modules.
Note that σ acts on X∗ (T )I as well as RΓ(Xu , Q̄l ); it then acts on
                                  ExtiX∗ (T )I ((Q̄l )κ , RΓ(Xu , Q̄l ))
as well since κ is fixed by σ. Therefore the theorem above presumably yields the equality
                     Ouκ (1k) = Tr(σ −1 ; RHom•X∗ (T )I ((Q̄l )κ , RΓ(Xu , Q̄l ))).     (15.9.1)

15.10. A geometric reformulation of the fundamental lemma. We now assume that
G comes from a (necessarily quasi-split) connected reductive group over k, which we still
denote by G. Thus G is unramified over F and the parahoric subgroup K := G(o) is a
hyperspecial maximal compact subgroup of G(F ); we denote the corresponding parahoric
subalgebra by k := g(o).
   As above we form all Langlands dual groups using Q̄l . Let H be an endoscopic group for
G and let s be the usual element in Z(Ĥ)Γ , where Z(Ĥ) denotes the center of Ĥ. We write
h for the Lie algebra of H. We assume that H is also unramified, so that it comes from a
(quasi-split) group over k, which we still denote by H. Thus we also have KH := H(o) and
kH := h(o).
   We use a regular nilpotent element in g(o) whose image in g(k) is also regular nilpotent
in order to form Kostant’s section, obtaining as in [Kot99] transfer factors ∆(uH , u) which
for u lying in Kostant’s section take the simple value
                                         DG (u)DH (uH )−1 ,
                                                   42
(in other words, ∆IV (uH , u) in the notation of Langlands-Shelstad [LS87]). Here DG denotes
the usual discriminant function on the Lie algebra.
   Let uH be an integral G-regular semisimple element of h(F ) and let u be an image of
uH (in the sense of Langlands-Shelstad [LS87]) that is G(F )-conjugate to an element in
Kostant’s section. (This uniquely determines the G(F )-conjugacy class of u.) We then
have affine Springer fibers Xu , XuHH for u, uH respectively. Using the dimension formula for
affine Springer fibers (conjectured by Kazhdan-Lusztig [KL88] and proved by Bezrukavnikov
[B96]) we can rewrite the transfer factor as
                                         ∆(uH , u) = q −r
where r := dim Xu − dim XuHH and q denotes the cardinality of k.
  We let T denote the centralizer of u in G, and we identify T with the centralizer TH of
uH in H via the unique admissible isomorphism whose differential maps uH to u. Via the
canonical injection Z(Ĥ) ֒→ T̂ the element s ∈ Z(Ĥ)Γ determines an element κ ∈ T̂ Γ .
  The conjectural fundamental lemma predicts the equality
                                   OuκH (1kH ) = q −r · Ouκ (1k),
which in view of (15.9.1) can be rewritten as the equality of
                      q r · Tr(σ −1 ; RHom•X∗ (T )I ((Q̄l )κ , RΓ(XuHH , Q̄l )))
and
                         Tr(σ −1 ; RHom•X∗ (T )I ((Q̄l )κ , RΓ(Xu , Q̄l )))
  We conjecture the stronger statement that
                        RHom•X∗ (T )I ((Q̄l )κ , RΓ(XuHH , Q̄l [−2r](−r)))
is isomorphic to
                              RHom•X∗ (T )I ((Q̄l )κ , RΓ(Xu , Q̄l )).

15.11. Transfer factors for unramified tori. Earlier in this paper, when we calculated
the homology of Springer fibers, the elements of g(F ) we considered did not necessarily lie
in Kostant’s section. Therefore we need a further discussion of transfer factors.
   We continue the discussion in the subsection above, making only the following changes.
We no longer require that the elements in g(F ) that we consider be G(F )-conjugate to an
element in Kostant’s section. Instead we consider a maximal torus T of G over k (not just
over F ), so that in particular T is unramified over F , and we assume that T comes from
a maximal torus TH in H. We identify T and TH using some admissible isomorphism, and
for any G-regular γ ∈ t(F ) we denote by γH the corresponding element of tH (F ). It follows
immediately from the definition of transfer factors on the Lie algebra (see [W97] and perhaps
                                                 43
also [Kot99]) that there is a constant cT (depending only on the torus T and our choice of
admissible isomorphism) such that for any G-regular element γ ∈ t(F )
                                                       Y
                        ∆(γH , γ) = cT · ∆IV (γH , γ) · (−1)val(α(γ)) ,
                                                         α

where α runs over a set of representatives for the symmetric orbits of Frobenius on the set
of roots of T in G that do not come from H. Here val is the valuation on F that takes
the value 1 on uniformizing elements for F . In fact the constant cT is equal to 1, since any
element γ ∈ t(o) whose image in t(k) is G-regular (which implies that val(α(γ)) = 0 for all
roots α) is G(F )-conjugate to an element in our choice of Kostant’s section, and therefore
for such γ we have (by [Kot99]) that ∆(γH , γ) = ∆IV (γH , γ).
                                                  Q                  val α(γ)
   Now recall the homological transfer factor ∆ = α∈Φ+ (G)−Φ+ (H) ∂α          . Frobenius acts on
                             fγG,H , and we have τ (∆) = η(τ ) · ∆ (see §10 for the definitions
X ∗ (T ) by some element τ ∈ W
of the group W fG,H and the sign character η on it). It is a simple exercise to check that
                γ
                                           Y
                                   η(τ ) =    (−1)val(α(γ)) ,
                                             α

with α again running over a set of representatives for the symmetric orbits of Frobenius on
the set of roots of T in G that do not come from H. Therefore we have the equality
                                ∆(γH , γ) = η(τ ) · ∆IV (γH , γ),
which for integral γ can be rewritten as
                                     ∆(γH , γ) = η(τ ) · q −r                          (15.11.1)
with r again defined as dim(Xγ ) − dim(XγHH ).

15.12. Remarks on the fundamental lemma for unramified tori. We continue the
discussion of the previous subsection. Assume that the étale cohomology groups H ∗ (Xγ , Qℓ )
and H ∗ (XγHH ; Qℓ ) are pure. By [GKMx] this is true in the equal valuation case, in other
words, when val(α(γ)) is independent of α, since in that case there is a paving by affines
defined over k.
   We expect Theorems 9.2 and 10.2 to have corresponding statements in étale cohomology.
Assume this is so. Then Theorem 9.2 will give a formula for the T -equivariant étale homology
of Xγ as a quotient
                    P                                             T
        0 −−−→        α∈Φ+ Lα,γ −−−→ Qℓ [Λ] ⊗ S(t(Qℓ )) −−−→ H∗ (Xγ , Qℓ ) −−−→ 0.
                        G


The surjection Qℓ [Λ] ⊗ S(t(Qℓ )) → H∗T (Xγ , Qℓ ) is Frobenius equivariant, and the action of
Frobenius on Qℓ [Λ] ⊗ S(t(Qℓ )) is given by τ ⊗ Q, where τ ∈ W   fG,H is the element through
                                                                  γ
which the Frobenius element σ acts on X∗ (T ) and Q denotes the endomorphism of the
                                                 44
symmetric algebra induced by multiplication by q on the vector space t(Qℓ ). It follows that
the action of the Frobenius element σ on H2i (Xγ ; Qℓ ) is given by σ = q i · τ .
  Therefore Corollary 10.3 gives an isomorphism
                                H∗ (Xγ ; Qℓ )J ≃ H∗ (XγHH ; Qℓ )J [−2r](r)
that transforms by the sign η(τ ) under the action of Frobenius. As in the proof of Proposition
11.2, this in turn gives an isomorphism
                    TorΛp ((Qℓ )κ , Hq (Xγ ; Qℓ ) ≃ TorΛp ((Qℓ )κ , Hq−2r (XγHH ; Qℓ )(r).
Taking the vector space dual of both sides of this equation, we obtain an isomorphism
                 ExtpΛ ((Qℓ )κ , H q (Xγ ; Qℓ )) ≃ ExtpΛ ((Qℓ )κ , H q−2r (XγHH ; Qℓ ))(−r),
that transforms by the sign η(τ ) under the action of Frobenius. It follows that
   q −r η(τ )Tr(σ −1 ; RHom•Λ ((Q̄l )κ , RΓ(Xγ , Q̄l ))) = Tr(σ −1 ; RHom•Λ ((Q̄l )κ , RΓ(XγHH , Q̄l ))).
Thus, under the assumptions we have made, the fundamental lemma for unramified tori
follows from this last equation together with formulas (15.9.1) and (15.11.1).

                                              References
[B96]   R. Bezrukavnikov, The dimension of the fixed point set on affine flag manifolds, Math. Res. Lett.
        3 (1996), 185–189.
[CS74] T. Chang and T. Skjelbred, The topological Schur lemma and related results, Ann. Math. 100
        (1974), 307–321.
[D71]   P. Deligne, Théorie de Hodge II, Publ. Math. I. H. E. S. 40 (1971), 5–57.
[D75]   P. Deligne, Poids dans la cohomologie des variétés algébriques, Proc. Int. Congr. Math. 1974 (Van-
        couver), Canadian Math. Congress, 1975, pp. 79–85.
[GKM98] M. Goresky, R. Kottwitz, and R. MacPherson, Koszul duality, equivariant cohomology, and the
        localization theorem. Invent. Math. 131 (1998), 25–83.
[GKMx] M. Goresky, R. Kottwitz, and R. MacPherson, Purity of equivalued affine Springer fibers, to appear.
[H86]   M. Hall, Combinatorial Theory (second edition), John Wiley & Sons, New York (1986).
[Hum95] J. Humphreys, Conjugacy Classes in Semisimple Algebraic Groups, Mathematical Surveys
        and Monographs 43, Amer. Math. Soc., Providence R.I., 1995.
[KL80] D. Kazhdan and G. Lusztig, A topological approach to Springer’s representations, Adv. in Math.
        38 (1980), 222–228.
[KL88] D. Kazhdan and G. Lusztig, Fixed point varieties on affine flag manifolds. Israel J. Math 62 (1988),
        129–168.
[Kot97] R. Kottwitz, Isocrystals with additional structure, II, Comp. Math. 109 (1997), 255–339.
[Kot99] R. Kottwitz, Transfer factors for Lie algebras, Represent. Theory 3 (1999), 127–138.
[Ku96] S. Kumar, An introduction to ind-varieties, in Vector Bundles On Curves–New Directions,
        Lecture Notes in Mathematics 1649, Springer Verlag, N.Y., 1996, pp. 33–38.
[La83] R. Langlands, Les débuts d’une formule des traces stables, monograph, Université de Paris
        VII, 1983.
[LS87] R. Langlands and D. Shelstad, On the definition of transfer factors, Math. Ann. 278 (1987),
        219–271.
                                                     45
[L02a]    G. Laumon, Sur le lemme fondamental pour les groupes unitaires, http://arxiv.org/math.AG/
          0212245
[L02b]    G. Laumon, Fibres de Springer et Jacobiennes compactifiees, http://arxiv.org/math.AG/
          0204109
[Lu96]    G. Lusztig, Affine Weyl groups and conjugacy classes in Weyl groups, Transform. Groups 1 (1996),
          83–97.
[LS91]    G. Lusztig and J. M. Smelt, Fixed point varieties on the space of lattices, Bull. London Math. Soc.
          23 (1991), 213–218.
[Sa97]    D. Sage, A construction of affine Weyl group representations Comp. Math., 108 (1997), 241–245.
[Sa00]    D. Sage, The geometry of fixed point varieties on affine flag manifolds, Trans. Amer. Math. Soc.
          352 (2000), 2087–2119.
[Ser68]   J-P. Serre, Corps Locaux, Hermann, Paris, 1968.
[Sh82]    I. Shafarevich, On some infinite dimensional groups II, Math. USSR Izvestija 18 (1982), 185–194.
[W97]     J.-L. Waldspurger, Le lemme fondamental implique le transfert, Compositio Math. 105 (1997),
          153–236.




                                                     46
