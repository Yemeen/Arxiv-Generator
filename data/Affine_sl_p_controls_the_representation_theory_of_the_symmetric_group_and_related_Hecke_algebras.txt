                                                      b p CONTROLS THE MODULAR REPRESENTATION
                                               AFFINE sl
                                                THEORY OF THE SYMMETRIC GROUP AND RELATED
arXiv:math/9907129v1 [math.RT] 21 Jul 1999




                                                                HECKE ALGEBRAS

                                                                                    I. GROJNOWSKI


                                                     Abstract. In this paper we prove theorems that describe how the represen-
                                                     tation theory of the affine Hecke algebra of type A and of related algebras such
                                                     as the group algebra Fl Sn of the symmetric group are controlled by integrable
                                                                                                                                   b ‚Ñì.
                                                     highest weight representations of the characteristic zero affine Lie algebra sl
                                                     In particular we parameterise the representations of these algebras by the nodes
                                                     of the crystal graph, and give various Hecke theoretic descriptions of the edges.
                                                         As a consequence we find for each prime p a basis of the integrable rep-
                                                                      b ‚Ñì which shares many of the remarkable properties, such as
                                                     resentations of sl
                                                     positivity, of the global crystal basis/canonical basis of Lusztig and Kashi-
                                                     wara. This p-canonical basis is the usual one when p = 0, and the crystal of
                                                     the p-canonical basis is always the usual one.
                                                         The paper is self-contained, and our techniques are elementary (no perverse
                                                     sheaves or algebraic geometry is invoked).




                                                                                  1. Introduction
                                                 This paper is concerned with the representation theory of the affine Hecke algebra
                                             of type A and of the cyclotomic Hecke algebras.
                                                 We parameterise the finite dimensional representations of these algebras over any
                                             field R and prove various results about the behaviour of irreducible modules under
                                             restriction and induction. Each of these algebras contains a large commutative
                                             subalgebra, and we also describe how the failure of this algebra to act semisimply
                                             controls the combinatorics of the representation theory.
                                                 In contrast to the existing literature on these algebras, we prove all our re-
                                             sults without the use of sophisticated machinery or explicit combinatorics‚Äîperverse
                                             sheaves and the geometry of the graded nilpotent cones are notably absent from
                                             this work, as is the study of partitions.
                                                 In their place we prove the following theorem, which is a remarkable rigidity
                                             property of the representation theory: there is an action of the characteristic zero
                                                                 b ‚Ñì on the Grothendieck group of Hecke algebra representations.
                                             affine Lie algebra sl
                                             Furthermore, the irreducible Hecke representations define the natural crystal struc-
                                                          b ‚Ñì representation.
                                             ture on the sl
                                                 As an immediate consequence we recover the explicit combinatorics of the Hecke
                                             algebra representation theory. For example, the simplest case of these theorems
                                             identifies the Grothendieck group of symmetric group representations in character-
                                                                                                           b p . This representation
                                             istic p with an integral form of the basic representation of sl
                                             has a construction as a Fock space (the ‚Äúprincipal realisation‚Äù). The well known
                                             natural parametrisation by p-regular partitions of the irreducible characteristic p
                                             representations of the symmetric group follows immediately. In particular, this
                                                                                             1
2                                      I. GROJNOWSKI


explains why the generating function for the number of irreducible mod-p represen-
tations of Sn is just the character of the basic representation of sl       b p.
   To describe the results in more detail, consider the direct sum over all n of the
Grothendieck group of representations of the affine Hecke algebra of type An . (This,
and all other terms, are carefully defined in the body of the paper).
   Similarly, consider the direct sum over all n of the Grothendieck group of repre-
sentations of the symmetric group Sn . Then it is a classical observation that these
are cocommutative Hopf algebras; for the symmetric group this has been rediscov-
ered many times (see [Mc]), but for the affine Hecke algebra this is due to [BZ]. In
theorem 14.1 we identify this algebra‚Äîit is just the dual to the enveloping algebra
U Œ∑‚Ñì of the upper triangular part of the affine algebra sl    b ‚Ñì ; here l is the order of the
                   √ó
parameter q ‚àà R which enters in the definition of the affine Hecke algebra.
   More generally, consider the cyclotomic Hecke algebra defined by Ariki and Koike
[AK]. This is a deformation of the group algebra of the wreath product of the
symmetric group Sn with a cyclic group of order r. The deformation depends on
an r-tuple of elements of R√ó , Œª = (q1 , . . . , qr ), and we denote the corresponding
algebra HnŒª . When r = 1 and Œª = (1) this is just the finite Hecke algebra.
   If we now sum the Grothendieck groups of representations of HnŒª for fixed Œª it
is no longer true that this is a Hopf algebra. However it is obviously a comodule
for the Hopf algebra (dual to U Œ∑‚Ñì ) built out of the affine Hecke algebra. The first
of our main theorems, theorem 14.2, says that it has many more symmetries‚Äîthat
it is in fact dual to a module for the entire affine algebra sl      b ‚Ñì , and moreover that
this module is an irreducible integrable highest weight module with highest weight
determined by Œª.
   Even in the classical case of the symmetric group and its deformations (r = 1)
this is new information: it identifies the Hopf algebra built out of Sn with the
principal realisation of the basic representation of sl b ‚Ñì , and it identifies the action of
b
sl‚Ñì by vertex operators on this representation. For other cyclotomic Hecke algebras
it extends the results of [A].
   To prove this theorem we must introduce several new ingredients. The first is
the action of the Chevalley generators fi of the lower triangular part Œ∑‚Ñì‚àí of sl            b ‚Ñì.
Unlike the operators ei of Œ∑‚Ñì which have been known since the 1950s, and which
arise in an obvious way from the affine Hecke algebra, the definition of the fi is new
to this paper. After a variety of preliminary results on the affine Hecke algebra, we
begin the study of these operators in section 8.
   The operators ei and fi are defined directly on the module category, but will
                                       b ‚Ñì before we pass to the Grothendieck group.
not satisfy the defining relations of sl
However, by considering the cosocle filtration of these operators (i.e. before passing
to the Grothendieck group), we can define the leading term of the operators ei
and fi . These leading terms have a beautiful interpretation as ‚Äúcrystal operators‚Äù
[Ka], and allow us to define the crystal graph structure of the representations.
This structure generalises the classical ‚Äúbranching laws‚Äù for representations of the
symmetric group.
   The crystal graph is a graph with nodes given by irreducible representations,
and with an edge between irreducible representation M of HnŒª and N of Hn‚àí1           Œª
                                                                                          if N
                                                                          ‚àó
occurs in the cosocle of the restriction of M . The operators ei which are dual to
ei refine restriction, and we can label this edge with an i if N occurs in e‚àói M .
                             Representations of Hecke algebras                        3


    Our second main theorem (theorem 14.3) is that this graph is precisely the usual
crystal graph of the representation determined by Œª. This gives a combinatorial
parametrisation of irreducible representations, and shows this parametrisation de-
pends only on l‚Äîthe order of q in R√ó . (When R = C the modules for Hnaff were
first parameterised in [BZ] when l = ‚àû, and in [G] for arbitrary l. Subsequently
Vigneras conjectured [V] that the parametrisation depends only on l, and not on
R.)
    To prove this we must engage in a detailed study of the modules for the affine
Hecke algebra. We begin by showing that e‚àói M has a simple cosocle. This result,
which is the main result of [GV], generalises the classical ‚Äúmultiplicity one‚Äù prop-
erties of restriction for complex representations of the symmetric group, and the
corresponding property for characteristic p representations [Kv].
    We then study the relationship between the crystal operators and the failure of
semisimplicity of both the Hecke algebra and a large commutative subalgebra of
it (the functions R[X1¬±1 , . . . , Xn¬±1 ] on the maximal torus of GLn ). We find that
though e‚àói M is a complicated module which is far from being semisimple, it has a
uniserial part to its composition series which admits a clean description in various
ways.
    In particular, the cosocle of e‚àói M occurs in a uniserial chain inside e‚àói M , and
the length of the chain in which it occurs is precisely the maximal size of a Jordan
block for Xn on M . We prove that this length can also be read off the image of M
inside the Grothendieck group of R[X1¬±1 , . . . , Xn¬±1 ]-modules.
    These results, and the analogous (but harder) results for induction, form the
bulk of section 9.
    Finally, we can reinterpret the theorems 14.3, 14.2 as defining a family of in-
teresting bases in the representations of sl    b ‚Ñì . Each of these bases has the same
crystal graph, but these p-canonical bases are all different. In the case R = C,
the 0-canonical basis coincides with the basis defined by Lusztig and Kashiwara.
Each p-canonical basis shares all of the remarkable properties of the 0-canonical
basis‚Äîfor example, the structure constants of ei and fi are non-negative integers,
and the basis of the Verma descends to a basis of the integrable representations.
These bases are just the dual to the irreducible representations, and p is the charac-
teristic of the field R. (The dual to the p-canonical basis also has a Hecke theoretic
interpretation‚Äîthey are dual to the projective representations).
    To summarise, this paper ‚Äúexplains‚Äù all of the combinatorics of the representa-
tion theory of the symmetric group and Hecke algebras‚Äîit is just the combinatorics
of the crystal graph of slb ‚Ñì . (Our proofs are free of such combinatorics.)

1.1. Acknowledgement. I would like to thank Monica Vazirani for her aid in
preparing this paper. Her many suggestions have improved both the mathematics
and exposition, and our collaboration on [GV] has greatly increased my under-
standing of Hecke algebras and their representation theory.

                                     2. Notation
   Throughout the paper, we fix a field R, and an invertible element q ‚àà R, i.e., a
homomorphism Z[q, q ‚àí1 ] ‚Üí R. We write ¬µq = {q i | i ‚àà Z} for the powers of q in
R, and ‚Ñì = |¬µq |, so ‚Ñì ‚àà N ‚à™ {‚àû}, and ‚Ñì is the order of q ‚àà R√ó .
   We further assume that q 6= 1. This is for clarity of exposition; the changes in the
statements of definitions and theorems that must be made when q = 1 are sketched
4                                     I. Grojnowski


in section 15. The most interesting case when q = 1 is the modular representation
theory of the symmetric group. Then R = Fp and q = 1, but ‚Ñì = p; see section 15.
    Define the Dynkin diagram of ¬µq to be the directed graph with vertices the
elements of ¬µq , and an edge q i ‚Üí q j if q i‚àíj‚àí1 = 1. (A slightly classier notation,
which we often use, is to write i, j ‚àà ¬µq instead of q i , q j ‚àà ¬µq , and then i ‚Üí j if
ij ‚àí1 = q.) The isomorphism type of this graph depends only on ‚Ñì, and not on more
general properties of q or R. This feature will be mirrored by the properties of
the representation theory we study. (Conjecturally [DJ] the representation theory
depends only on the characteristic of R and the Dynkin diagram ¬µq .)
    The Dynkin diagram of ¬µq defines an affine Lie algebra sl  b ‚Ñì . The theorems of this
paper are a description of how this Lie algebra controls the representation theory
of the affine and cyclotomic Hecke algebras. We recall the definition and basic
               b ‚Ñì and its representation theory (as found in [Kac]) in section 3.
properties of sl
    Most of the results about Hecke algebras hold for arbitrary rings R when ap-
propriately formulated. This is an easy exercise, but for clarity we have phrased
results only for fields.

2.1. Some common notation. If A is an R-algebra, we write A-mod for the
category of all left A-modules, and Rep A for the category of left A-modules which
are finite dimensional as R-modules. Also write Proj A for the subcategory of Rep A
consisting of finite dimensional projective A-modules. (If R is an arbitrary ring, we
would also need to define various subcategories, such as the category of A-modules
which are projective as R-modules, and so on.)
   We recall that the socle of a module M , denoted soc(M ), is the largest semisimple
submodule of M , and that the cosocle of M , denoted cosoc(M ), is its largest
semisimple quotient.
   We write Sn for the symmetric group on n letters, si = (i i + 1) for the simple
transpositions, ‚Ñì:Sn ‚Üí N for the length function.

2.2. Grothendieck Group. If C is an abelian category, we write K(C) for the
Grothendieck group of C. This is the quotient of the free abelian group with gen-
erators the objects M ‚àà C by the ideal generated by the elements M1 ‚àí M2 + M3
for every short exact sequence
                              0 ‚Üí M1 ‚Üí M2 ‚Üí M3 ‚Üí 0
in C. If objects in C have finite length and unique composition factors, we write
K(C)‚àó for the topological dual of K(C); i.e. for the linear functions f :K(C) ‚Üí Z
such that f (M ) = 0 for all but finitely many isomorphism classes of irreducible
objects M ‚àà C.
   If M ‚àà C, let‚Äôs write [M ] for its image in K(C). Then as M runs through the
irreducible objects in C, the elements [M ] form a basis of K(C), and the functions
                                          (
                                            0 if M 6‚âÉ N, N irreducible
            Œ¥M :K(C) ‚Üí Z        Œ¥M (N ) =
                                            1 if M ‚âÉ N

form a basis of K(C)‚àó . More generally, if N ‚àà C and M is an irreducible object in C,
write [M : N ] for the multiplicity of M in a Jordan-Holder series of N , and extend
this to [ : ]:K(C) √ó K(C) ‚Üí Z by bilinearity. Then write, for any M ‚àà K(C),
Œ¥M :K(C) ‚Üí Z for the function N 7‚Üí [M : N ].
                                 Representations of Hecke algebras                          5


   Now, if F :C ‚Üí C‚Ä≤ is an exact functor of abelian categories, we get an induced Z-
linear map F :K(C) ‚Üí K(C‚Ä≤ ), and we can define its transpose F ‚àó :K(C‚Ä≤ )‚àó ‚Üí K(C)‚àó
by F ‚àó f = f F .
   We will apply all this to the category Rep A of finite dimensional representations
of an algebra A (over R). Suppose that A and A‚Ä≤ are two such algebras, and that
the cosocle of A and A‚Ä≤ are direct sums of matrix algebras over R; i.e. that they are
separable algebras. Then the the irreducible representations of A ‚äó A‚Ä≤ are of the
form M ‚ä†M ‚Ä≤ , where M is an irreducible A-module, M ‚Ä≤ is an irreducible A‚Ä≤ -module.
More generally, we recall that under such assumptions
Lemma 2.1. K(A ‚äó A‚Ä≤ -mod) = K(A-mod) ‚äó K(A‚Ä≤ -mod)
which is certainly not true before passing to the Grothendieck group. (Here, the
tensor product is algebraic‚Äîelements consist of finite linear combinations of the
elements [M ] ‚ä† [N ] as [M ], [N ] run through a basis of K(A-mod) and K(A‚Ä≤ -mod)
respectively.)
   Write K(C)Q = K(C) ‚äóZ Q. As K(C) is a torsion free Z-module, K(C)Q is a
Q-vector space with distinguished sublattice K(C) ‚äÇ K(C)Q .
                                                             b‚Ñì
          3. Summary of properties of the affine Lie algebra sl
   First suppose ‚Ñì ‚àà N. If A is a ring, we write sl‚Ñì (A) for the Lie algebra of trace
zero ‚Ñì √ó ‚Ñì matrices over A and slb ‚Ñì (A) for the central extension of sl‚Ñì (A[t, t‚àí1 ]) by
A
                      0 ‚Üí A ¬∑ c ‚Üí slb ‚Ñì (A) ‚Üí sl‚Ñì (A[t, t‚àí1 ]) ‚Üí 0.
This has Lie bracket [f, g] = (f g ‚àí gf ) + tr Res( df
                                                     dt ¬∑ g)c, where f, g ‚àà sl ‚Ñì (A[t, t
                                                                                         ‚àí1
                                                                                            ])
                                      ‚àí1
and Res denotes the coefficient of t .
   If ‚Ñì = ‚àû, lets abuse notation and write sl b ‚Ñì (A) for the Lie algebra
                                                gl‚àû (A)
of infinite matrices in which only finitely many entries in any row or column are
non-zero. With this convention, the rest of this section is valid for ‚Ñì ‚àà N ‚à™ {‚àû}.
             b ‚Ñì for the enveloping algebra of sl
   Write UQ sl                                 b ‚Ñì (Q). This has generators
                                      e i , f i , hi     i ‚àà ¬µq
and relations
                [ei , fj ] = Œ¥ij hi       [hi , ej ] = cij ej      [hi , fj ] = ‚àícij fj
                                  1‚àícij                         1‚àícij
                         (ad ei )         ej = 0        (ad fi )        fj = 0
where cij = 2Œ¥ij ‚àí (Œ¥ij ‚àí1 ,q + Œ¥ji‚àí1 ,q ) is the Cartan matrix of sl    b ‚Ñì.
             b                                             b
  Write UZ sl‚Ñì for Kostant‚Äôs integral form of UQ sl‚Ñì . This is a Hopf algebra over Z,
                 b ‚Ñì as a lattice. It is generated as an algebra by the elements
contained in UQ sl
           n
                                
   (n)    ei     (n)    fin hi            hi (hi ‚àí 1) ¬∑ ¬∑ ¬∑ (hi ‚àí n + 1)
  ei =       , fi =          ,      =                                    ,    i ‚àà ¬µq , n ‚àà N
          n!             n!     n                        n!
with relations induced from the relations for ei , fi , and hi . (It is possible to write
the relations explicitly; but we will not need this.)
   We write UZ Œ∑‚Ñì for the Hopf subalgebra of UZ sl b ‚Ñì generated by e(n) , i ‚àà ¬µq , n ‚àà N ,
                                                                       i
         ‚àí
and UZ Œ∑‚Ñì for the Hopf subalgebra of UZ sl b ‚Ñì generated by f (n) , i ‚àà ¬µq , n ‚àà N .
                                                                i
   Recall that a representation V of UQ slb ‚Ñì is called integrable of lowest weight if
6                                        I. Grojnowski


   (i) Each hi acts semisimply
  (ii) Each ei and fi acts locally nilpotently
 (iii) There exists a finite dimensional subspace W ‚äÜ V such that UQ Œ∑‚Ñì ¬∑ W = V
and that the category of such representations is semisimple.
    Given an integrable lowest weight module V , the space of invariants for UZ Œ∑‚Ñì‚àí
(lowest weight vectors) is preserved by each hi . If this space is one dimensional V is
irreducible,
      P      and if 1Œª is a lowest weight vector with hi 1Œª = Œªi ¬∑ 1Œª ‚àÄi, then Œªi ‚àà N
and      Œªi < ‚àû.
    This sets up a correspondence between
                           X                                                    
                                                         irreducible integrable
     (functions Œª:¬µq ‚Üí N,      Œªi < ‚àû)      and
                                                         lowest weight modules.
Given Œª, write LŒª for the corresponding irreducible module.
  As a UQ Œ∑‚Ñì -module, LŒª is generated by a lowest weight vector 1Œª , and
                           LŒª = UQ Œ∑‚Ñì / UQ Œ∑‚Ñì heŒªi i +1 | i ‚àà ¬µq i.
                                                          T
In particular, as the intersection of the left ideals Œª:¬µq ‚ÜíN UQ Œ∑‚Ñì heŒªi i +1 | i ‚àà ¬µq i is
trivial, it follows that if x ‚àà UQ Œ∑‚Ñì acts as zero on every integrable lowest weight
representation, then x = 0.
   We write Œõ0 :¬µq ‚Üí N for the function Œõ0 (i) = Œ¥i,1 . The corresponding rep-
resentation is called the basic representation of sl      b ‚Ñì . More generally, define the
fundamental weights Œõj : ¬µq ‚Üí N by Œõj (i) = Œ¥i,j and define the roots Œ±i : ¬µq ‚Üí Z
by Œ±i = 2Œõi ‚àí Œõqi ‚àí Œõq‚àí1 i .
   Each LŒª carries a non-degenerate symmetric bilinear form, the Shapovalov form
( , ), which is determined by requiring
                                         (1Œª , 1Œª ) = 1
and
                           (ei x, y) = (x, fi y)      for all i ‚àà ¬µq .

          4. Definitions and first properties of Hecke algebras
4.1.   The finite Hecke algebra, Hn is the R-algebra with generators
                                        T1 , . . . , Tn‚àí1
and relations
(1)      braid relations      Ti Ti+1 Ti = Ti+1 Ti Ti+1 ,    Ti Tj = Tj Ti , |i ‚àí j| > 1
(2) quadratic relations                        (Ti + 1)(Ti ‚àí q) = 0.
  The braid relations imply that if w = si1 ¬∑ ¬∑ ¬∑ sir and ‚Ñì(w) = r, then Ti1 ¬∑ ¬∑ ¬∑ Tir
depends only on w ‚àà Sn . It is denoted Tw , and the Tw , w ‚àà Sn form a basis of Hn
over R.
  The affine Hecke algebra Hnaff is the R-algebra, which as an R-module is isomor-
phic to
                            Hn ‚äóR R[X1¬±1 , . . . , Xn¬±1 ].
The algebra structure is given by requiring that Hn and R[Xi¬±1 ] are subalgebras,
and that
(3)                                   Ti Xi Ti = qXi+1 .
                               Representations of Hecke algebras                             7


Equivalently, if f ‚àà R[X1¬±1 , . . . , Xn¬±1 ], then
                                                        f ‚àí sif
(4)                         Ti f ‚àí sif Ti = (q ‚àí 1)            ‚àí1
                                                      1 ‚àí Xi Xi+1
where si ‚àà Sn acts on R[X1¬±1 , . . . , Xn¬±1 ] by permuting Xi and Xi+1 .
    The affine Hecke algebra so defined is an extension by a Laurent polynomial
algebra of the Hecke algebra associated to the Coxeter group with Dynkin diagram
¬µq . This definition and the isomorphism is due to Bernstein.
Proposition 4.1. (Bernstein) The center of Hnaff , Z(Hnaff ), is isomorphic to sym-
metric Laurent polynomials.
                             Z(Hnaff ) ‚âÉ R[X1¬±1 , . . . , Xn¬±1 ]Sn


Proof. The relation (4) makes it P    clear that R[X1¬±1 , . . . , Xn¬±1 ]Sn is contained in the
center. Conversely, suppose h = Tw fw ‚àà Z(Hnaff ) where fw ‚àà R[X1¬±1 , . . . , Xn¬±1 ].
Let u ‚àà Sn be maximal with respect to Bruhat order such that fu P               6= 0. If u 6= 1
then there exists some i such that u(i) 6= i. As Xi Tw = Tw Xw‚àí1 (i) + w‚Ä≤ <w Tw‚Ä≤ gw‚Ä≤
for some gw‚Ä≤ ‚àà R[X1¬±1 , . . . , Xn¬±1 ], the coefficient of Tu is different in Xi h and hXi .
Hence h = f1 ‚àà R[X1¬±1 , . . . , Xn¬±1 ]. But then (4) implies h is Sn -invariant.

Corollary 4.2. If M ‚àà Hnaff -mod is absolutely irreducible, then M is finite dimen-
sional, and in fact dimR M ‚â§ n!.
Proof. As R[X1¬±1 , . . . , Xn¬±1 ] is a free R[X1¬±1 , . . . , Xn¬±1 ]Sn -module of rank n!, Hnaff
is a free module over Z(Hnaff ) of rank (n!)2 . Dixmier‚Äôs version of Schur‚Äôs lemma
implies that the center of Hnaff acts by scalars on absolutely irreducible modules,
and hence M is an irreducible module for a finite dimensional algebra of dimension
(n!)2 .

Suppose R is algebraically closed. Then the characters (i.e. one dimensional repre-
sentations) of the center Z(Hnaff ) are the orbits of Sn on (R√ó )n = SpecR[X1¬±1 , . . . ,
Xn¬±1 ]. Given any finite dimensional module M ‚àà Rep Hnaff , we can write M as a di-
rect sum of generalized eigenspaces for the commutative subalgebra R[X1¬±1 , . . . , Xn¬±1 ],
say
                                          M
                                   M=            M [s]
                                           s‚àà(R√ó )n

where s = (s1 , . . . , sn ) and M [s] = {m ‚àà M | (Xi ‚àí si )dim M m = 0, 1 ‚â§ i ‚â§ n}.
  If we also write
                        Ms = {m ‚àà M | Xi m = si m, 1 ‚â§ i ‚â§ n}
for the actual simultaneous eigenspace of the elements Xi , we have
                                 Ms 6= 0 ‚áê‚áí M [s] 6= 0.
Further, if M is irreducible, then Z(Hnaff ) acts by the central character Sn ¬∑ s ‚àà
(R√ó )n /Sn if and only if there exists some w ‚àà Sn such that Mws 6= 0.
   To generalize this to all of Rep Hnaff , recall the following general property of
algebras.
8                                     I. Grojnowski


Lemma 4.3. Let A be an R-algebra, and Z ‚äÇ A a central subalgebra. If M, N are
two A-modules on which Z acts by different one dimensional characters, then
                           ExtiA (M, N ) = 0,          for all i.


   Now, let M be an indecomposable finite dimensional Hnaff -module. This has a
finite filtration by irreducible Hnaff -modules, and the lemma implies Z(Hnaff ) acts
by the same character on each subquotient. It follows that
                                  L
Proposition 4.4. Rep Hnaff ‚âÉ s‚àà(R√ó )n /Sn Reps Hnaff (direct sum of categories).
A module M is in Reps Hnaff if and only if the support of M as a Z(Hnaff )-module
is s ‚àà (R√ó )n /Sn , i.e. if and only if (i) there exists an s‚Ä≤ ‚àà (R√ó )n with Ms‚Ä≤ 6= 0,
and Sn ¬∑ s‚Ä≤ = s, and (ii) if Ms‚Ä≤ 6= 0, then Sn ¬∑ s‚Ä≤ = s.
   The summands above are called blocks of the category Rep Hnaff . If s ‚àà (R√ó )n ,
                                                               ¬±1
Reps Hnaff = ‚àí  lim        aff     k aff
                 ‚Üí k Rep(Hn /Zs Hn ), where Zs = {f ‚àà R[X1 , . . . , Xn ]
                                                                          ¬±1 Sn
                                                                                  |
                          aff
f (s) = 0}. If N ‚àà Reps Hn we say that N has central character s.
                                             P
4.2. Fix a function Œª:¬µq ‚Üí Z+ such that i‚â•0 Œªi = r < ‚àû.
   The Ariki-Koike algebra, or cyclotomic Hecke algebra, is the R-algebra with
generators
                           T1 , . . . , Tn‚àí1  and  T0
and relations                     Y
                                          (T0 ‚àí q i )Œªi = 0
                                 qi ‚àà¬µq

                                T0 T1 T0 T1 = T1 T0 T1 T0
as well as the braid relations (1) and quadratic relations (2) in the definition of the
finite Hecke algebra above for i ‚â• 1.
    In particular, if r = 1 then this is just the finite Hecke algebra, and if r = 2 this
is the Hecke algebra of type Bn or Cn with possibly unequal parameters. The finite
Hecke algebra is always a subalgebra of the cyclotomic Hecke algebra.
    There is a surjective algebra homomorphism, first defined by Cherednik
                                 ev = evŒª :Hnaff ‚Üí HnŒª
defined on the generators by Ti 7‚Üí Ti ,          1‚â§i‚â§n‚àí1
                  X1 7‚Üí T0 ,      Xi 7‚Üí q 1‚àíi Ti‚àí1 ¬∑ ¬∑ ¬∑ T1 T0 T1 ¬∑ ¬∑ ¬∑ Ti‚àí1
Write ev‚àó : Rep HnŒª ‚Üí Rep Hnaff for the induced map of modules.
   The image ev(R[X1¬±1 , . . . , Xn¬±1 ]) form a commutative subalgebra of HnŒª , (‚ÄúMur-
phy operators‚Äù) and as ev is surjective, the image ev(Z(Hnaff )) is contained in the
center of HnŒª . This implies the category of HnŒª -modules splits up into a direct sum,
indexed by characters of Z(Hnaff ),
                                             M
                                 Rep HnŒª =       Reps HnŒª .
The key result about these algebras is:
Proposition 4.5 (Ariki-Koike).
                    P          The algebra HnŒª is finite dimensional, of dimen-
      n
sion r n!, where r = i‚àà¬µq Œªi .
                              Representations of Hecke algebras                        9


  The image under ev of the elements
                       X1a1 ¬∑ ¬∑ ¬∑ Xnan Tw ,       0 ‚â§ ai < r, w ‚àà Sn
form a basis of HnŒª .
   Consider the modules M for Hnaff such that the only eigenvalues of X1 on M are
powers of q. Such modules form a full subcategory of Rep Hnaff which we denote
Repq Hnaff .
   If 0 ‚Üí M1 ‚Üí M2 ‚Üí M3 ‚Üí 0 is exact in Rep Hnaff , and any two of the modules
Mi are in Repq Hnaff , then so is the third, i.e. Repq Hnaff is closed under subquotients
and extensions.
   Further, Repq Hnaff is a direct sum of blocks of the category Rep Hnaff ; i.e.

Lemma 4.6. If M ‚àà Repq Hnaff , and N ‚àà Rep Hnaff with Ext‚Ä¢ (M, N ) 6= 0 or
Ext‚Ä¢ (N, M ) 6= 0, then N ‚àà Repq Hnaff also. More precisely,
                                          M
                          Repq Hnaff =         Reps Hnaff .
                                              s‚àà¬µq n /Sn

   This is immediate from the following lemma, and the above description of the
center of Hnaff .
Lemma 4.7. If M is a module for Hnaff and there is some i such that the only
eigenvalues for Xi on M are powers of q, then for all j, the only eigenvalues of Xj
on M are powers of q.
Proof. Write X = Xi‚àí1 , T = Ti‚àí1 . Let v be an eigenvector for X and for T XT =
qXi . It is enough to show that the eigenvalues of X and T XT on v differ by a
power of q. Consider the space spanned by v and T v. This is X-stable.If it is two 
                                                                           0      q
dimensional, then with respect to the basis v, T v we have T has matrix
                                                                           1 q‚àí1
                                                                ‚Ä≤     ‚Ä≤
                                                                                    
                       ¬µ a                                        q¬µ   q¬µ (q ‚àí 1)
and X has matrix              . It follows that T XT  has matrix
                       0 ¬µ‚Ä≤                                        Œ¥ q¬µ + (q ‚àí 1)Œ¥
where Œ¥ = a + ¬µ (q ‚àí 1). By assumption, Œ¥ = 0, so T XT has eigenvalues q¬µ, q¬µ‚Ä≤
                   ‚Ä≤

and we are done. If T v is a multiple of v, then either T v = ‚àív or T v = qv. In the
first case T XT has eigenvalue ¬µ, in the second case q 2 ¬µ, and we‚Äôre done.
                         P
    Given Œª:¬µq ‚Üí Z+ ,       Œªi < ‚àû, it is immediate from the definition of HnŒª that
if M ‚àà Rep Hn , ev M ‚àà Repq Hnaff . Define RepŒªq Hnaff to be the full subcategory
               Œª       ‚àó

of Rep Hnaff whose objects are the modules M such that the Jordan blocks of X1
on M with eigenvalue q i have size less than or equal to Œªi (and there are no other
                                                                   Q
eigenvalues), i.e. RepŒªq Hnaff consists of modules annihilated by (X1 ‚àí q i )Œªi .
    Then if M ‚àà RepŒªq Hnaff , and N is a subquotient of M , then N ‚àà RepŒªq Hnaff also.
However, extensions of modules in RepŒªq need not be in RepŒªq .
    We clearly have
                                ev‚àó : Rep HnŒª ‚Üí RepŒªq Hnaff
is an equivalence of categories.
   Given any M ‚àà Repq Hnaff , there are infinitely many Œª such that M ‚àà RepŒªq Hnaff .
More precisely, define a partial order on Œª by Œª ‚â• ¬µ if Œªi ‚â• ¬µi for all i. Then
                         ¬µ ‚â§ Œª =‚áí Rep¬µq Hnaff ‚äÇ RepŒªq Hnaff
10                                         I. Grojnowski


and
                                                 Œª
                            Repq Hnaff = ‚àí
                                         lim         aff
                                          ‚Üí Œª Repq Hn .
   The exact functor ev‚àó = ev‚àóŒª : Rep HnŒª ‚Üí Rep Hnaff has a left adjoint prŒª , and a
right adjoint pr
              Àá Œª . To define them, write
                                IŒª = ker(ev:Hnaff ‚Üí HnŒª ).
As ev is an algebra homomorphism, IŒª is a two sided ideal, and as ev is surjective
                                           
                               HnŒª = Hnaff IŒª .
Now if N ‚àà Rep Hnaff , we have N / IŒª N is an Hnaff -module on which IŒª acts trivially
and so N / IŒª N is an HnŒª -module. If M ‚àà Rep HnŒª we have
       HomHnŒª ( N / IŒª N, M ) = HomHnaff ( N / IŒª N, ev‚àó M ) = HomHnaff (N, ev‚àó M )
and so if we define
                                      prŒª (N ) = N / IŒª N
and
                                    Àá Œª (N ) = N IŒª
                                    pr
we have proved that prŒª is the left adjoint to ev‚àó . Similarly, pr
                                                                Àá Œª is the right adjoint,
and neither functor is exact.
  Define                                 M
                              Repaff
                                   q =        Repq Hnaff
                                              n‚â•0
                                    M                ev‚àó   M
                                                      ‚âÉ
                        RepŒªq   =         Rep HnŒª   ‚àí‚àí‚Üí        RepŒªq Hnaff
                                    n‚â•0
                                    M               ev‚àó    M
                                                 ‚âÉ
                       Repfin
                          q =             Repfin
                                             q ‚àí‚àí‚Üí             RepŒõ  aff
                                                                  q Hn .
                                                                   0


                                    n‚â•0
We will investigate some rigid structures on these categories.

                5. Generalities on Induction and Restriction
   The results in this section are easy and are mostly well known (with the possible
exception of 5.6). We omit proofs which are trivial variants of what is already in
the literature.
5.1.   Recall that if A ‚äÇ B are R-algebras, the exact functor of restriction
                                    ResB
                                       A :B-mod ‚Üí A-mod
                                     d defined by
has left and right adjoints, Ind and Ind
                       IndB
                          A :A-mod ‚Üí B-mod                 M 7‚Üí B ‚äóA M
                       B
                    d :A-mod
                    Ind        ‚Üí B-mod                M 7‚Üí HomA (B, M );
                       A
i.e. we have the Frobenius reciprocity
HomB (IndB                                                     d ) = HomA (Res N, M ).
         A M, N ) = HomA (M, Res N )                  HomB (N, IndM
                                      d are exact functors also. Further, if
If B is a free A-module, then Ind and Ind
A ‚äÇ B ‚äÇ C are inclusions of R-algebras, we have transitivity of induction and
restriction:
                                                                       C     B   C
           ResB    C      C
                                      IndC    B      C             d Indd = Ind
                                                                            d
              A ResB = ResA ,            B IndA = IndA ,           IndB  A     A
                                Representations of Hecke algebras                              11


Now apply these remarks to affine and cyclotomic Hecke algebras. Given a sequence
P = (a1 , . . . , ak ) of non-negative integers, we have an obvious embedding
                              Haaff
                                 1
                                    ‚äó ¬∑ ¬∑ ¬∑ ‚äó Haaff
                                                 k
                                                    ÷í‚Üí Haaff
                                                          1 +¬∑¬∑¬∑+ak

which makes Haaff      1 +¬∑¬∑¬∑+ak
                                   a free Haaff 1
                                                  ‚äó ¬∑ ¬∑ ¬∑ ‚äó Haaff
                                                               k
                                                                  -module. Applying the previous
                                                      d
remarks we get exact functors Res, Ind, Ind. These functors depend on the order
(a1 , . . . , ak ) and not just on the underlying set!
   Write Repq (Haaff     1
                           ‚äó ¬∑ ¬∑ ¬∑ ‚äó Haaff
                                        k
                                           ) for the full subcategory of modules for Haaff
                                                                                        1
                                                                                           ‚äó¬∑ ¬∑ ¬∑‚äó
  aff
Hak on which each Xj acts with eigenvalues in ¬µq . Then the following is evident.
Lemma 5.1. (i) Res and Ind define functors Repq (Haaff    1
                                                            ‚äó¬∑ ¬∑ ¬∑‚äóHaaff
                                                                      k
                                                                         ) ‚áÜ Repq Haaff
                                                                                     1 +¬∑¬∑¬∑+ak
                                                                                               .
 (ii) K(Repq (Ha1 ‚äó ¬∑ ¬∑ ¬∑ ‚äó Hak )) = K(Repq Ha1 ) ‚äó ¬∑ ¬∑ ¬∑ ‚äó K(Repq Haaff
               aff           aff             aff
                                                                          k
                                                                            ).
    Similarly, we may define induction and restriction for finite Hecke algebras,
i.e. functors
                                                  Ind
                                       Rep HP ‚áÑ Rep Hn .
                                                  Res
It is clear that
                                       H aff
Lemma 5.2. ev‚àó ResH               ‚àó
                  HP = ResH aff ev .
                   n       n
                                         P

                                   aff
                                  Hn
   But note that though Ind       ev‚àó and ev‚àó IndH
                                   aff
                                  HP              HP seem quite different, they are
                                                    n


related. The results of section 9.2 describe the relation.
5.2. Mackey formula. We now state the Mackey formula. Unfortunately, it re-
quires some notation.                                                              P
   Given a sequence P = (a1 , . . . , ak ) of positive integers, as above, with       ai = n,
write HPaff = Haaff1
                     ‚äó ¬∑ ¬∑ ¬∑ ‚äó Haaff
                                  k
                                     ÷í‚Üí Hnaff , SP = Sa1 √ó ¬∑ ¬∑ ¬∑ √ó Sak ÷í‚Üí Sn , and HP =
Ha1 ‚äó ¬∑ ¬∑ ¬∑ ‚äó Hak . Then if P ‚Ä≤ is another such sequence, we define a partial order on
SP \Sn / SP ‚Ä≤ by setting x ‚â§ y if the maximal length coset representative of x is less
than that of y in Bruhat order.
   Now if x is a minimal length coset representative of an element x ‚àà SP \Sn / SP ‚Ä≤ ,
write P ‚à© xP ‚Ä≤ for the new sequence of positive integers defined by listing the parts
of the ordered partition of 1, . . . , n defined by P ‚à© xP ‚Ä≤ . Note HPaff‚à©xP ‚Ä≤ is isomorphic
to HPaff‚Ä≤ ‚à©x‚àí1P by the isomorphism ‚Äúconjugation by x‚Äù which sends
                             Tw 7‚Üí Txwx‚àí1               Xi 7‚Üí Xx‚àí1 (i) .

Lemma 5.3.         (i) Hnaff is a free right HPaff -module, and
                                            M
                                 Hnaff =            HPaff ¬∑ Tw
                                               w‚ààSP \Sn

      Similarly for Hn .
 (ii) If x ‚àà SP \Sn / SP ‚Ä≤ , then
                                                    X
                      HPaff ¬∑ Tx ¬∑ HPaff‚Ä≤ =                     HPaff ¬∑ Ty ¬∑ HPaff‚Ä≤
                                                   y‚â§x
                                               y‚ààSP \Sn /SP ‚Ä≤
                              M                            M
                        =              HPaff ¬∑ Ta =                   Tb ¬∑ HPaff‚Ä≤ .
                              a‚â§x                          b‚â§x
                            a‚ààSP \Sn                    a‚àà Sn /SP ‚Ä≤
12                                                  I. Grojnowski


      (The first isomorphism is as HPaff -HPaff‚Ä≤ -modules, the second as HPaff -modules,
      the last as (HPaff‚Ä≤ )opp -modules.)
(iii) The above defines a filtration of Hnaff by (HPaff , HPaff‚Ä≤ )-bimodules. The associ-
      ated graded module
                                          M
                             grHnaff =             HP STx HP ‚Ä≤
                                              x‚ààSP \Sn /SP ‚Ä≤

        has summands isomorphic to HPaff ‚äóH aff x                         HPaff‚Ä≤ as an (HPaff , HPaff‚Ä≤ )-bimodule.
                                                                  P‚à© P‚Ä≤

     We omit the proof. It has the consequence
                        H aff    H aff
Corollary 5.4. ResHnaff IndHnaff M admits a filtration with subquotients isomorphic
                   P        P‚Ä≤
to
                            H aff           H aff
                         IndHPaff w‚àí1 ResHPaff‚Ä≤       M.
                                          P ‚à©xP ‚Ä≤                    P ‚Ä≤ ‚à©x
                                                                              ‚àí1
                                                                                P

                                     aff                   aff
                                    HP                    HP ‚Ä≤
     In the above filtration, Ind    aff
                                    HP
                                               Res         aff
                                                          HP
                                                                    M always sits as a subobject of Res IndM .
                                       ‚à©P ‚Ä≤                  ‚Ä≤ ‚à©P
  If we apply the above corollary to P = (1, . . . , 1), we get a particularly nice
consequence. Write
                     X
           ch(M ) =        dim M [s] ¬∑ [s] ‚àà K(Rep R[X1¬±1 , . . . , Xn¬±1 ])
                         s‚àà(R√ó )n

for the character of M as a module for R[X1¬±1 , . . . , Xn¬±1 ].
Lemma 5.5 (shuffle lemma). If M ‚àà Repq Hnaff , N ‚àà Repq Hm    aff
                                                                  , then
                                X
              ch Ind(M ‚ä† N ) =    (dim M [s‚Ä≤ ] ¬∑ dim N [s‚Ä≤‚Ä≤ ])[s]
                                                     s‚Ä≤
                                      ‚Ä≤
where if s = (s1 , . . . , sn+m ), s is a subsequence (si1 , . . . , sin ) where i1 < ¬∑ ¬∑ ¬∑ < in ,
and s‚Ä≤‚Ä≤ is the sequence obtained from s by removing s‚Ä≤ . In other words, the spectrum
of Ind(M ‚ä† N ) is obtained by shuffling the spectrum of M and N .
5.3. Boring
          P central characters.     Let P = (a1 , . . . , ak ) be a sequence of positive
integers,   ai = n, and write HPaff = Haaff1
                                             ‚äó ¬∑ ¬∑ ¬∑ ‚äó Haaff
                                                           k
                                                              ÷í‚Üí Hnaff as before. Write
          ¬±1        ¬±1                aff       SP
S = R[X1 , . . . , Xn ], so that Z(HP ) = S , and form the enhanced Hecke
algebra
                             Hgaff = H aff ‚äó     aff S.
                                          P               P       Z(HP )

          g
Clearly Z(H aff                                       P    √ó n
            P ) = S. Define the q-discriminant, ‚àÜq :(R ) ‚Üí R by
                                                 Y
                         ‚àÜP
                          q (s1 , . . . , sn ) =  (si ‚àí qsj )
where the product runs over all pairs (i, j) such that 1 ‚â§ i, j ‚â§ n, and it is not the
case that both i and j lie in an interval a1 + ¬∑ ¬∑ ¬∑ + ar + 1, . . . , a1 + ¬∑ ¬∑ ¬∑ + ar + ar+1 .
Also write                                                              Y
                                      (1,1,... ,1)
               ‚àÜ(s1 , . . . , sn ) = ‚àÜ1            (s1 , . . . , sn ) =  (si ‚àí sj )
                                                                                    i6=j
for the discriminant. So if ‚àÜ(s) 6= 0, there are n! points in the Sn -orbit of s. Now, if
                              g
s ‚àà (R√ó )n , let‚Äôs write Reps H aff                                        g aff
                                P for the category of finite dimensional HP -modules
M such that the support of M as an Z(H     g aff ) = S module is s ‚àà (R√ó )n .
                                                              P
                                 Representations of Hecke algebras                         13


Theorem 5.6.         (i) If ‚àÜq (s) 6= 0, induction defines an equivalence of categories
                        g
                   Reps H aff      gaff                M 7‚Üí Hnaff ‚äóHPaff M.
                          P ‚Üí Reps Hn ,

 (ii) If ‚àÜ(s) 6= 0, there is an equivalence of categories
                                       g
                                  Reps H
                                             ‚àº
                                         aff ‚Üí Reps Hnaff .
                                         n ‚àí

(iii) Regardless, there is always an isomorphism
                                   g
                            K(Reps H aff ‚àº
                                         ‚Üí K(Reps Hnaff ).
                                     n )‚àí

   In particular, if M is an irreducible Hnaff -module with central character Sn ¬∑ s,
                                                                        g
then by defining that S acts via evaluation at s, we get an irreducible H aff
                                                                          n -module,
                                                   g aff
and conversely every irreducible module in Reps Hn is of such a form.
   The following particular case will be of great importance to us.
                                                    H aff
Corollary 5.7. [Kt] The Hnaff -module IndHnaff ‚äó¬∑¬∑¬∑‚äóH aff (q i J1 ‚ä† ¬∑ ¬∑ ¬∑ ‚ä† q i J1 ) is irre-
                                                      1            1
ducible. It is the unique irreducible Hnaff -module with central character (q i ¬∑ ¬∑ ¬∑ q i ).
  Notice that the theorem tells us completely how to reconstruct all of Rep Hnaff
once we understand Repq Hnaff . (This is one good reason for concentrating on
Repq Hnaff for the rest of the paper!)

5.4. A useful criterion for irreducibility.
                                                             aff
                         H aff                              Ha+b
Proposition 5.8. IndHa+b                   d
                     aff ‚äóH aff (M ‚ä† N ) ‚âÉ IndH aff ‚äóH aff (N ‚ä† M ).
                           a       b                  a      b


   The preceding proposition, when combined with the following useful observation,
allows us to detect whether certain induced modules are irreducible.
Lemma 5.9. If Ind(M ‚ä† N ) ‚âÉ Ind(Md       ‚ä† N ), and M ‚ä† N is an irreducible module
which occurs with multiplicity one in a composition series for Res Ind(M ‚ä†N ), then
Ind(M ‚ä† N ) is irreducible.
Proof. Let 0 ‚Üí K ‚Üí Ind(M ‚ä† N ) ‚Üí Q ‚Üí 0 be an exact sequence. Then M ‚ä† N
is a submodule of Q, if Q 6= 0, by Frobenius reciprocity, and as Ind(M ‚ä† N ) ‚âÉ
d
Ind(M  ‚ä† N ), M ‚ä† N is also a submodule of K if K 6= 0. As M ‚ä† N occurs with
multiplicity one, either K or Q is zero, and so Ind(M ‚ä† N ) is irreducible.

                                        6. Examples
   The computations in this section will be used in sections 10 and 12.

6.1. H1aff . Recall H1aff = R[x, x‚àí1 ].
   For q i ‚àà ¬µq , and n ‚â• 1, let‚Äôs write q i Jn for the rank n Jordan block with
eigenvalue q i , i.e.
                               q i Jn := R[x]/(x ‚àí q i )n .
This is an indecomposable H1aff -module, and conversely every indecomposable mod-
ule in Repq H1aff is of the form q i Jn for a unique q i ‚àà ¬µq and n ‚â• 1. Further
                                                     (
                 i      j            1 i      j          0          if q i 6= q j
          Hom(q Jn , q Jn‚Ä≤ ) = Ext (q Jn , q Jn‚Ä≤ ) =             ‚Ä≤
                                                         Rmin(n,n ) if q i = q j
14                                           I. Grojnowski


and
                             Extk (q i Jn , q j Jn‚Ä≤ ) = 0    if k 6= 0, 1.
Hence   Repq H1affis the direct sum of ¬µq -copies of the same category, the category
of finite Jordan blocks (with a fixed eigenvalue).

6.2. H2aff -modules. We list all the indecomposable H2aff -modules. First, an easy
computation. Write S = R[X1¬±1 , X2¬±1 ].
Lemma 6.1. Set p = (1 ‚àí X1 X2‚àí1 )T1 ‚àí (q ‚àí 1). Then
  (i) X1 p = pX2 , X2 p = pX1
 (ii) p2 = (q ‚àí X1 X2‚àí1 )(q ‚àí X2 X1‚àí1 ) is central.
   We describe Reps1 ,s2 H2aff . Choose s = (s1 , s2 ) in the orbit {(s1 , s2 ), (s2 , s1 )},
and write s‚Ä≤ = (s2 , s1 ). Let M be a module, and write M = Ms + Ms‚Ä≤ for its
decomposition into generalized eigenspaces for S.
   Clearly pMs ‚äÜ Ms‚Ä≤ and pMs‚Ä≤ ‚äÜ Ms by (6.1).
Case 1. s1 6= s2 , and s1 s‚àí1
                           2 6= q
                                  ¬±1
                                     .
       2
Then p is an invertible semisimple automorphism, and M = Ms ‚äï pMs . We have
inverse equivalences of categories
                Reps S ‚áÑ Reps H2aff ,             A 7‚Üí H2aff ‚äóS A,      Ms ‚Üê M.
Case 2. s2 = qs1 . (q 6= 1)
In this case, p2 is nilpotent, and 1‚àíX1 X2‚àí1 is invertible. Now, ker p is S-stable, and
                   q‚àí1
on ker p, T1 is 1‚àíX   X ‚àí1
                           . It follows that ker p is an H2aff -submodule, and that ker p =
                     1   2
(ker p)s ‚äï(ker p)s‚Ä≤ is a decomposition as H2aff -modules. Further, the indecomposable
summands of ker p as an H2fin -module are the indecomposable summands as an H2aff -
module. First suppose q 6= ‚àí1. Then T1 acts semisimply on ker p, hence so does
X1 X2‚àí1 . We suppose for simplicity that the central element X1 X2 acts semisimply.
Then ker p is a direct sum of one dimensional H2aff -modules. On the subspace on
which T1 acts as ‚àí1, we have X1 = qX2 ; on the subspace on which T1 acts as q, we
have X2 = qX1 . Now suppose q = ‚àí1. Then (T1 + 1)2 = 0 = (1 ‚àí X1 X2‚àí1 )2 , and
                                                                  fin
again there are two    isomorphism
                                  classes of indecomposable H2 -modules: namely
                           -1 1
T1 acts as ‚àí1 or as               .
                            0 -1
   Let A ‚àà Rep(s1 ,qs1 ) , and set A‚Ä≤ ‚àà Rep(qs1 ,s1 ) to be (X1 ‚Üî X2 )‚àó A. Put A+ =
Im(IndA ‚Üí IndA‚Ä≤ ) = pIndA, A‚àí = Im(IndA‚Ä≤ ‚Üí IndA) = pIndA‚Ä≤ , and A0 =
IndA. Then if A is indecomposable, so are A0 , A+ , A‚àí ; and if q = ‚àí1 these
give a complete list of (non-isomorphic) indecomposables. For all q, the modules
(J1 ‚ä† qJ1 )+ and (J1 ‚ä† qJ1 )‚àí are the distinct irreducibles.
Case 3. s = (s1 , s1 ).
We have nothing general to add to the description of these modules already given
by theorem 5.6; however we record the following, which is proved by direct compu-
tation.
                     H aff      H aff
Lemma 6.2. ResH2aff IndH2aff ‚äóH aff (q i Ja ‚ä†q i Jb ) = (a‚àí1)¬∑q i Jb +(b‚àí1)¬∑q i Ja +q i Ja+b .
                         1        1      1
                                                                                Q
6.3.  H3aff .We list the number of the irreducible H3aff -modules for which (si ‚àí
qsi ) = 0 and some of the characters of these modules. Note that as Reps Hnaff ‚âÉ
Reps‚Ä≤ Hnaff , where s‚Ä≤ = (Œ±s1 , . . . , Œ±sn ) for some Œ± ‚àà R√ó , we may assume s1 = 1.
                               Representations of Hecke algebras                             15


q = ‚àí1:
Rep(1,1,q) : There are 3 irreducible modules with central character (11q); two are
2 dimensional, and one is 1 dimensional. Their characters are 2(11q), 2(q11) and
(1q1).
q 3 = 1:
There are 6 irreducible representations in Rep(1,q,q2 ) , 2 in Rep(1,1,q) , 2 in Rep(1,q,q) .
The modules in Rep(1,1,q) have characters 2(11q) + (1q1) and 2(q11) + (1q1).
q 2 6= 1, q 3 6= 1:
There are 4 irreducible modules in Rep(1,q,q2 ) , 2 in Rep(1,1,q) , 2 in Rep(1,q,q) .
                                                 / {q ‚àí1 , 1, q, q 2 }; both Ind((1q) ‚ä† a) =
Rep(1,q,a) : there are 2 in Rep(1,q,a) , where a ‚àà
(a1q) + (1aq) + (1qa) and Ind((q1) ‚ä† a) = (aq1) + (qa1) + (q1a) are irreducible.
Except for Rep(1,q,q2 ) these modules have the same character as when q 3 = 1.
6.4. H4aff when q = ‚àí1. .
 Rep(1,1,1,q) has three irreducibles: 6(111q) + 2(11q1) = Ind2(11q) ‚ä† 1, 2(11q1) +
2(1q11) = Ind(1q1) ‚ä† 1, and 6(q111) + 2(1q11) = Ind2(q11) ‚ä† 1.
   Rep(1,1,q,q) has six irreducibles, four of dimension 2 and two of dimension 1:
2(11qq), 2(qq11), 2(1qq1), 2(q11q), (1q1q), and (q1q1).

                    7. Bernstein-MacDonald Hopf algebra
  Induction and restriction give K(Repaff              fin
                                        q ) and K(Repq ) the structure of bialge-
                              aff             aff
bras. Precisely, if M ‚àà Repq Ha1 , N ‚àà Repq Ha2 , define multiplication
                                              H aff
                              M ¬∑ N = IndHaaff1 +a2
                                                ‚äóH aff
                                                       M ‚ä†N
                                                a1    a2

                               L                                                H aff
and comultiplication ‚àÜM =         a1 +a2 =n   ‚àÜa1 ,a2 M , where ‚àÜa1 ,a2 M = ResHnaff ‚äóH aff M
                                                                                  a1    a2

(and similarly for Repfin
                       q ). Then as induction and restriction are exact functors,
these descend to give functors
                                                                      ¬∑
  K(Repq Haaff
            1
               ) ‚äó K(Repq Haaff
                             2
                                ) = K(Repq (Haaff
                                               1
                                                  ‚äó Haaff
                                                       2
                                                          )) ‚áÑ K(Repq Haaff
                                                                         1 +a2
                                                                               )
                                                                   ‚àÜa1 ,a2

and the properties of Ind and Res translate into the axioms of a bialgebra; viz:
     transitivity of induction becomes associativity of multiplication; tran-
     sitivity of restriction becomes coassociativity of comultiplication; the
     trivial representation of the trivial algebra H0aff is the unit, ditto for the
     counit, and the Mackey formula is the statement that ‚àÜ is an algebra
     homomorphism.
  Similarly, define multiplication and comultiplication on K(Repfin    q ).

Remark 1. The comultiplication on K(Repaff      q ) is not cocommutative. However,
                                            aff
as we shall see, multiplication on K(Repq ) is commutative. Hence the bialgebra
K(Repaffq ) is the dual to the enveloping algebra of a Lie algebra; and Theorem 14.1
identifies this algebra. (The structure of the categories RepŒªq will be essential for
this identification.) Note that K(Repfinq ) is both commutative and cocommutative,
but because of the previous remark, and because of the structure of this as an
algebra over Z, it is more natural to think of this as the dual to an enveloping
algebra also. (That way it is a polynomial algebra; if we don‚Äôt take the dual it is a
divided power algebra.)
16                                       I. Grojnowski

                             L
Remark 2. Structure on           Rep Sn . For r > 1, we can form embeddings of the
wreath product
(5)                           Sn ‚âÄ Zr √ó Sm ‚âÄ Zr ÷í‚Üí Sn+m ‚âÄ Zr
          L
making n‚â•0 Rep(Sn ‚âÄ Zr ) into a Hopf algebra which again classically is known to
                                             L
be the rth tensor product of the Fock space     Rep Sn (see [Mc] for example).
    The algebras HnŒª are a deformation of the wreath product Sn ‚âÄ Zr , and one can
ask if the embedding (5) exists for them. It is a consequence of theorem 14.3 that
it does not.. However, we always have an action of K(Repfin              Œª
                                                           q ) on K(Repq ), which
is the Fock space structure when Œª = Œõ0 .
    This action of K(Repfin                Œª
                           q ) on K(Repq ), even when Œª = Œõ0 is only part of the
story‚Äîthe coaction of K(Repaff   q ) provides much more structure. Eventually we
                                 b ‚Ñì acts on K(RepŒª ), and the Bernstein-MacDonald
will see that the affine algebra sl                   q
Hopf algebra structure on K(Repfin     ) is  just the                            b ‚Ñì . But
                                                        principal realization of sl
                                     q
first:
    As ev‚àó ‚ó¶ Res = Res ‚ó¶ev‚àó , we have
                                            ev‚àó
Lemma 7.1. The functor K(Repfin                  aff
                                  q ) ‚àí‚àí‚Üí K(Repq ) is a homomorphism of coal-
gebras. In particular, K(Repfin                        aff
                            q ) is a comodule for K(Repq ).


Warning 1. ev‚àó is not a homomorphism of algebras.
                                              H aff
     More generally, if M ‚àà RepŒªq , then ResHnaff ‚äóH aff ev‚àó (M ) is an element of Repq (HaŒª ‚äó
                                                  a      b
Hbaff ) and
Lemma 7.2. K(RepŒªq ) is a comodule for K(Repaff
                                            q ).

     This is saying there are significantly more operations of K(RepŒªq ) than appear
                                                                    F
at first sight. In particular, any exact functor Repaff
                                                    q ‚àí ‚Üí R-mod gives a functor
K(RepŒªq ) ‚Üí K(RepŒªq ) by composing the comodule structure with ‚äóR F
                                                             Id‚äóF
                  K(RepŒªq ) ‚Üí K(RepŒªq ) ‚äó K(Repaff           Œª
                                               q ) ‚àí‚àí‚àí‚Üí K(Repq ).
If ‚äóR F satisfies some finiteness conditions, we obtain left and right adjoint functors
RepŒªq ‚Üí RepŒªq (which in favorable cases agree and are exact). We will now compute
some examples of this.

                              8. The functors e‚àói and fi‚àó
                                                              b ‚Ñì on K(RepŒª ) =
     In this section we define an action of the generators of sl
L                                                                         q
                   Œª
     n‚â•0 K(Rep  H n  ).
     Define functors e‚àói for q i ‚àà ¬µq ,
                 e‚àói : Repq Hnaff ‚Üí Repq Hn‚àí1
                                          aff
                                              e‚àói : Rep HnŒª ‚Üí Rep Hn‚àí1
                                                                   Œª


as follows. If M ‚àà Rep Hnaff , e‚àói M is the generalized eigenspace of Xn with eigen-
value q i . As Xn commutes with Hn‚àí1  aff
                                            ÷í‚Üí Hnaff , e‚àói M is an Hn‚àí1
                                                                     aff
                                                                         -module. Clearly
X1 acts in the same way on M and ei M , so if we define ei M = e‚àói (ev‚àó (M )) for
                                          ‚àó                        ‚àó

M ‚àà Rep HnŒª , then we have e‚àói M ‚àà RepŒªq also.
Lemma 8.1. The functors e‚àói : Repaff    aff ‚àó       Œª      Œª
                                 q ‚Üí Repq , ei : Repq ‚Üí Repq are exact.
                                   Representations of Hecke algebras                                 17


Proof. e‚àói is the composite of the exact functors of restriction and the functor of gen-
eralized eigenspace, which is exact on torsion (and in particular finite dimensional)
R[x]-modules.

Remark 3. In the abstract language favored in the previous section, we can write
                                                                  H aff
                       e‚àói M = ‚àí
                               lim           i m
                                ‚Üí ker((Xn ‚àí q ) , ResHn‚àí1
                                                      aff ‚äóH aff M )
                                                      n
                                                            1
                                  m

where we have identified RepŒªq Hnaff with Rep HnŒª via ev‚àó . Note that as M is finite
dimensional the direct limit stabilizes.
   As the functors e‚àói are exact, we may try and find their adjoints. For formal
reasons, adjoints exist in Hnaff -mod and HnŒª -mod, but that is no guarantee they
exist in Rep Hnaff or Rep HnŒª (i.e. that they are finite dimensional). Nonetheless,
define functors fi‚àó , fÀái‚àó from Hn‚àí1
                                 aff
                                     -mod to HnŒª -mod by setting, for M ‚àà Hn‚àí1
                                                                           aff
                                                                               -mod,
                                                    H aff
                        fi‚àó (M ) = ‚Üê
                                   lim
                                     ‚àí prŒª (IndH aff
                                                n
                                                            aff   (M ‚ä† q i Jm ))
                                                      n‚àí1 ‚äóH1
                                       m
and
                                                    H aff
                        fÀái‚àó (M ) = ‚àí
                                    lim      d naff               i
                                     ‚Üí pr
                                        Àá Œª (IndHn‚àí1 ‚äóH1aff (M ‚ä† q Jm ))
                                       m
where q i Jm is the Jordan block of size m and eigenvalue q i , pr and pr
                                                                       Àá are the left
and right adjoints to ev‚àó : Rep HnŒª ‚Üí Repq Hnaff , and the direct and inverse limits
are taken with respect to the systems
          q i J0 ÷í‚Üí q i J1 ÷í‚Üí ¬∑ ¬∑ ¬∑ ÷í‚Üí q i Jm ÷í‚Üí ¬∑ ¬∑ ¬∑ ,     q i J0 ÷á ¬∑ ¬∑ ¬∑ ÷á q i Jm ÷á ¬∑ ¬∑ ¬∑
given by multiplication by (x ‚àí q i ):R[x]/(x ‚àí q i )m‚àí1 ‚Üí R[x]/(x ‚àí q i )m , and 1 7‚Üí 1,
respectively.
                         H aff                                                 H aff
   Let us abbreviate ResHnaff ‚äóH aff by Res, and similarly abbreviate IndHnaff ‚äóH aff
                                 n‚àí1       1                                                   n‚àí1   1
by Ind.
Proposition 8.2. If N ‚àà Hnaff -mod, the inverse system
                                           prŒª Ind(N ‚ä† q i Jm )
stabilizes after finitely many terms.
                      aff
Proof. If M is an Hn+1    -module generated by an R-subspace W ‚äÇ M , then prŒª (M )
         Œª
is an Hn+1 -module generated by the image of W . In particular, if M is finitely gen-
erated, then prŒª (M ) is finite dimensional (it is a quotient of the finite dimensional
                 Œª
vector space Hn+1     ‚äó W ). Now if N ‚àà Hnaff -mod is generated by a subspace W ‚Ä≤ ,
Ind(N ‚ä† q i Jm ) is generated by W ‚Ä≤ ‚ä† q i J1 ‚âÉ W ‚Ä≤ and the system pr(Ind(N ‚ä† q i Jm ))
                               Œª              Œª
are all quotients of a fixed Hn+1 -module Hn+1   ‚äóW ‚Ä≤ , which if N is finitely generated
is finite dimensional. Hence the inverse system stabilizes in this case.
    A more careful analysis shows that the system stabilizes for m greater than a
fixed constant which depends on n, Œª and not on W ‚Ä≤ . This gives the proposition in
general, but as we will not use it for non-finitely generated modules, we will omit
further details.

Corollary 8.3. If M ‚àà Rep Hn‚àí1     Œª
                                       , then fi‚àó M and fÀái‚àó M are finite dimensional,
      ‚àó Àá‚àó                              Œª
i.e. fi , fi restrict to functors Rep Hn‚àí1  ‚Üí Rep HnŒª .
18                                       I. Grojnowski


We have defined fi‚àó , fÀái‚àó so that
Proposition 8.4. The functor fi‚àó :Hn‚àí1
                                     aff
                                         -mod ‚Üí HnŒª -mod is left adjoint to e‚àói :HnŒª -mod ‚Üí
 aff                  Àá
Hn‚àí1 -mod. Similarly, fi is right adjoint to e‚àói .
                       ‚àó


Proof. We prove fi‚àó is left adjoint; the proof for fÀái‚àó is similar. This is almost, but
not quite, a formal result. To see that, observe that if M ‚àà Hnaff -mod,
                          e‚àói M = ‚àí
                                  lim           i m
                                   ‚Üí ker((Xn ‚àí q ) , Res M )
                                     m
                                                 i
                               =‚àí‚Üí HomR[Xn¬±1 ] (q Jm , Res M )
                                lim
                                     m

where the second limit is taken over the system q i J0 ‚Üê q i J1 ‚Üê ¬∑ ¬∑ ¬∑ used in the
definition of fi‚àó . This equals
                                              i
                             HomR[Xn¬±1 ] (lim
                                          ‚Üê‚àí q Jm , Res M ).
                                            m

if M is finite dimensional, or more generally R[Xn¬±1 ](Xn ‚àíqi ) -torsion, but not in
general. (For example, if n = 1 and M = R[[Xn ‚àí q i ]] they clearly differ, and
indeed e‚àói is not exact on the category of all Hnaff -modules.)
   However, if M ‚àà HnŒª -mod, then as HnŒª is finite dimensional, these are equal,
and the direct and inverse limits above stabilize after finitely many terms (for
m ‚â• dim HnŒª , to be crude). Hence if M ‚àà HnŒª -mod, and N ‚àà Hn‚àí1  aff
                                                                     -mod, then
                     ‚àó ‚àó                                     i           ‚àó
       HomHn‚àí1
           aff (N, ev (ei M )) = HomH aff (N, lim HomR[X ] (q Jm , Res ev M ))
                                     n‚àí1      ‚àí‚Üí        n
                                                     m
                                                           i           ‚àó
                                =‚àí
                                 lim
                                  ‚Üí HomHn‚àí1
                                        aff (N, HomR[X ] (q Jm , Res ev M ))
                                                      n
                                     m

as the direct limit stabilizes after finitely many terms, and this equals
                                                         i           ‚àó
                                =‚àí
                                 lim
                                  ‚Üí HomHn‚àí1
                                        aff ‚äóH aff (N ‚ä† q Jm , Res ev M )
                                              1
                                     m
                                                       i        ‚àó
                                =‚àí‚Üí HomHnaff (Ind(N ‚ä† q Jm ), ev M ),
                                 lim
                                     m

as Ind is left adjoint to Res. As prŒª = pr is left adjoint to ev‚àó , we get
                                                         i
                                =‚àí
                                 lim
                                  ‚Üí HomHnŒª (prŒª Ind(N ‚ä† q Jm ), M )
                                     m
                                                          i
                                = HomHnŒª (lim
                                          ‚Üê‚àí prŒª Ind(N ‚ä† q Jm ), M )
                                                m
                                = HomHnŒª (fi‚àó N, M )
where we have used, once again, the fact that this limit of Hom‚Äôs stabilizes after
finitely many terms.
     In particular, restricting to finite dimensional modules RepŒªq , we get
Corollary 8.5. fi‚àó : Rep Hn‚àí1
                           Œª
                               ‚Üí Rep HnŒª is left adjoint to e‚àói : Rep HnŒª ‚Üí Rep Hn‚àí1
                                                                                 Œª
                                                                                     ,
and fÀái‚àó : Rep Hn‚àí1
                Œª
                    ‚Üí Rep HnŒª is right adjoint.
                                               aff
  Note that the proof above shows for any N ‚àà Hn‚àí1 -mod, and any M ‚àà Rep HnŒª ,
that
               Hom(fi‚àó N, M ) = Hom(prŒª Ind(N ‚ä† lim   i
                                                  ‚Üê‚àí q Jm ), M )
                                                         m
                                  Representations of Hecke algebras                                19


so by uniqueness of adjoints
                                 fi‚àó N = prŒª Ind(N ‚ä† lim i
                                                     ‚Üê‚àí q Jm ).
                                                              m

(But it is certainly not true that         fi‚àó N   = prŒª Ind(N ‚ä† lim i
                                                                 ‚àí‚Üí q Jm ) for arbitrary N ‚àà
                                                                      m
  aff                                                      Œª
Hn‚àí1  -mod, or even for arbitrary N ‚àà Rep Hn‚àí1                . Obviously.)
                             aff
                                    L
   Recall that Rep Hn =                Reps Hn , where the sum is over (R√ó )n /Sn , the
                                                  aff

orbits of the symmetric group on (R√ó )n . A module M is in Reps Hnaff if M , when
considered as a module for Z(Hnaff ), has support a single orbit of Sn on (R√ó )n .
Further, if M is indecomposable and s = (s1 , . . . , sn ) ‚àà (R√ó )n is such that the
weight space Ms = {m ‚àà M | Xi ¬∑ m = si m, 1 ‚â§ i ‚â§ n} is non-zero, then M ‚àà
Reps Hnaff . (Conversely, if M is indecomposable, there is always some s ‚àà (R√ó )n
such that Ms 6= 0.)
   If s = (s1 , . . . , sn ), and q i ‚àà {s1 , . . . , sn }, say sn = q i , let‚Äôs write s \ q i for the
unique orbit in (R√ó )n‚àí1 /Sn‚àí1 obtained by deleting q i from the list. Then lemma
8.1 has a refinement (which needs no proof).
Lemma 8.6. e‚àói is a functor Reps Hnaff ‚Üí Reps\qi Hn‚àí1
                                                  aff
                                                      , and e‚àói M = 0 if q i 6‚àà
{s1 , . . . , sn }.
  Dually, write s + q i for the orbit of Sn+1 ¬∑ (s1 , . . . , sn , q i ) ‚àà (R√ó )n+1 /Sn+1 . We
can now refine the previous proposition to:
Proposition 8.7. fi‚àó : Reps Hn‚àí1
                              Œª
                                  ‚Üí Reps+qi HnŒª is left adjoint to e‚àói : Reps+qi HnŒª ‚Üí
      Œª         Àá‚àó
Reps Hn‚àí1 , and fi is right adjoint.
                                          Œª
Proof. Let M be an indecomposable Hn‚àí1        -module, and v a non-zero element in
the weight space Ms for some s ‚àà (R ) . Then all vectors in Rv ‚ä† q i Jm are
                                          √ó n

in the generalized eigenspace with eigenvalue s + q i , and hence all subquotients
of Ind(ev‚àó M ‚ä† q i Jm ) are in Reps+qi Hnaff . But if N ‚àà Reps Hnaff , then prŒª N ‚àà
Reps HnŒª , and so fi‚àó M ‚àà Reps+qi HnŒª . (The proof for fÀái‚àó is similar.)

Lemma 8.8. If M ‚àà Rep HnŒª , then
        HŒª      L
 (i) ResHnŒª M ‚âÉ i‚àà¬µq e‚àói M
             n‚àí1

           HŒª           L                  L
 (ii)   IndHn+1
            Œª   M   ‚âÉ     i‚àà¬µq   fi‚àó M ‚âÉ      i‚àà¬µq   fÀái‚àó M
            n

Proof. For M ‚àà Rep HnŒª , Xn acts on M with eigenvalues in ¬µq , so (8.8) is immediate
                                                            P ‚àó         HŒª
from the definition of e‚àói . But then (8.8) follows as both  fi and IndHnŒª are left
                                                                                        n‚àí1
                HŒª
adjoint to   ResHnŒª     : Rep HnŒª   ‚Üí        Œª
                                        Rep Hn‚àí1 ,     and left adjoints are unique when they
                 n‚àí1
exist.

Corollary 8.9. As functors RepŒªq ‚Üí RepŒªq , the functors fi‚àó , fÀái‚àó satisfy
 (i) f ‚àó ‚âÉ fÀá‚àó
        i      i


 (ii) fi‚àó is exact.
                                                                              Œª
                                                                 H
Proof. As fi‚àó , fÀái‚àó are direct summands of the exact functor IndHn+1
                                                                   Œª  , they are exact.
                                                                  n
Proposition 8.7 identifies them as the same direct summands.
20                                                  I. Grojnowski


Remark 4. We could also use this as a definition of fi‚àó , but then we would not see
the uniform dependence on Œª, or be able to prove the theorems of the next section.

                                 Œª
Remark 5. Note that for N ‚àà Rep Hn‚àí1 ,
                                                      d ‚àó N ‚ä† q i Jm ).
                              Ind(ev‚àó N ‚ä† q i Jm ) 6= Ind(ev
   Because fi‚àó is left adjoint to an exact functor, or because restriction and induction
take free modules to free modules, we observe
Lemma 8.10. If M ‚àà RepŒªq is projective, then so are e‚àói M and fi‚àó M .
8.1. Divided Powers. We can do slightly better. Fix i ‚àà ¬µq . For each n ‚â• 1 we
define the divided powers of e‚àói and fi‚àó as exact functors RepŒªq ‚Üí RepŒªq .
                     (n)‚àó           aff
     First, define ei        : Rep Ha+n ‚Üí Rep Haaff as follows
                 (n)‚àó                               aff        a+n          H aff
                ei      (M ) = ‚àí
                               lim
                                ‚Üí HomHaaff ‚äóHnaff (Ha ‚ä† P, ResH aff ‚äóH aff M )a      n
                                      P

where the limit is taken over the small category whose objects are the finite di-
mensional approximations P to a projective module for Hnaff which surjects onto
     H aff
IndHnaff ‚äó¬∑¬∑¬∑‚äóH aff (q i J1 ‚ä† ¬∑ ¬∑ ¬∑ ‚ä† q i J1 ). More precisely, the objects of this category are
     1         1
the diagrams
                                              H aff
                            P ÷â P ÷â IndHnaff ‚äó¬∑¬∑¬∑‚äóH aff (q i J1 ‚ä† ¬∑ ¬∑ ¬∑ ‚ä† q i J1 )
                                                1           1

where P is a finite dimensional Hnaff -module and P is a projective module for
Hnaff . Morphisms from P to P ‚Ä≤ are commutative diagrams such that all maps are
surjective.
                (n)‚àó      Œª                 (n)‚àó                  (n)‚àó
   Then define ei : Rep Ha+n  ‚Üí Rep HaŒª as ei ‚ó¶ev‚àóŒª , and define fi : Repq Haaff ‚Üí
        Œª
Rep Ha+n    by
                               (n)‚àó                      a+n    H aff
                             fi       (M ) = ‚Üê
                                             lim
                                               ‚àí prŒª IndH aff ‚äóH aff (M ‚ä† P ).
                                                                  a     n
                                               P
We omit the proof that these are reasonable definitions‚Äîthat they are exact func-
             (n)‚àó                                    (n)‚àó
tors, that fi     is both left and right adjoint to ei , that they preserve the prop-
erties of being finite dimensional, etc.
   More generally given an irreducible module L ‚àà Rep Hnaff we get functors
                         aff
               ‚àÜL : Rep Ha+n ‚Üí Rep Haaff ,                      mL : Rep Haaff ‚Üí Rep Ha+n
                                                                                      Œª


by mimicking the above construction‚Äîjust replace Ind(q i J1 ‚ä† ¬∑ ¬∑ ¬∑ ‚ä† q i J1 ) above
                                                          (1)‚àó                  (1)‚àó
with L. If L is the module q i J1 for H1aff , ‚àÜL = e‚àói = ei    and mL = fi‚àó = fi .
In general (and even for L = q i J1 ), these functors only have good properties in
the Grothendieck group. It is clear ‚àÜL is the composite of the comodule action of
K(Repaff             Œª
      q ) on K(Repq ) with the function Œ¥L of ‚Äúmultiplicity of L in the Jordan-
Holder series‚Äù
                        ‚àÜ                                       1‚äó[L:   ]
     ‚àÜL :K(RepŒªq ) ‚àí‚Üí K(RepŒªq ) ‚äó K(Repaff
                                       q )‚àí‚àí‚àí‚àí‚àí‚àí‚Üí K(RepŒªq ) ‚äóZ Z = K(RepŒªq )
(see section 2.2 for the notation). In order to describe mL on the level of the
Grothendieck group we must introduce the Shapovalov inner product in K(RepŒªq );
then mL will be the adjoint of ‚àÜL with respect to this inner product. This is done
in section 11.
                             Representations of Hecke algebras                        21


                                  9. crystal graph
    In this section we will study certain ‚Äúhighest order‚Äù approximations to e‚àói and fi‚àó .
These approximations make sense for both cyclotomic and affine Hecke algebras,
unlike fi‚àó itself, which is not defined for Repaff q . We summarise the properties of
these operators in a combinatorial structure, the crystal graph.
    There are three main results in this section. The first is theorem 9.4, which is
a strong multiplicity one theorem for restriction and induction. This tells us that
the crystal graph is well defined.
    The other two results are theorems 9.13 and theorem 9.15. These describe the
close connection between the the crystal graph structure and the representation
theory of the Hecke algebra.
    Theorem 9.13 shows that the integers Œµi (M ) have various interpretations. By
definition, if M is irreducible Œµi (M ) is the length of the longest chain of q i ‚Äôs that
end the spectrum of M . But we show that it is also the maximum size of a Jordan
block of Xn with eigenvalue q i on the module M , i.e. that it measures the failure
of semsimplicity of the action of Xn . It is also the dimension of Hom(e‚àói M, e‚àói M )‚Äî
another subtle measure of lack of semisimplicity, as well as the multiplicity of the
cosocle of e‚àói M in e‚àói M . These last two statements show that the cosocle of e‚àói (M )
fits into e‚àói (M ) in a uniserial chain of length Œµi (M ) in as simple a way as possible.
    The analogous results for fi‚àó is theorem 9.15. This is much harder, and the
particular proof we give requires the results of the next few sections. The asymmetry
is a nice shadow of the fact that whereas the dual of a finite dimensional lowest
weight sl2 module is again a lowest weight module, the dual of an integrable lowest
weight slb ‚Ñì -module is a highest weight module. Nonetheless, the sl2 structure is the
relevant one, and we eventually show œïi (M ) may also be read off the spectrum of
M.
    The results of section 11 show that Œµi , œïi also admit an interpretation in terms
of the structure of projective modules.


9.1. First properties. To save repetition in notation, we will allow HnŒª to denote
the affine Hecke algebra as well as the cyclotomic Hecke algebra,
                                                               P     i.e. we allow Œª to
be either the symbol ‚Äúaff‚Äù, or a function Œª:¬µq ‚Üí Z+ with         Œªi < ‚àû. We say Œª is
affine or cyclotomic, as appropriate. For consistency in notation, define praff , ev‚àóaff
to be the identity functors from Repq Hnaff ‚Üí Repq Hnaff .
   With this understood we write BŒª for the disjoint union of the set of isomorphism
classes of irreducible representations on HnŒª , for n ‚â• 0. Let ZBŒª be the free abelian
group on the set BŒª , and define a non-degenerate symmetric pairing on ZBŒª by
making the elements of BŒª an orthonormal basis. We will identify Z+ BŒª with
isomorphism classes of semisimple HnŒª -modules, and the symmetric pairing with
dimR Hom( , ). (There is a canonical isomorphism of abelian groups‚Äîwithout
the symmetric pairing‚Äîfrom the Grothendieck group K(RepŒªq ) to ZBŒª , but this
will not be so useful for what follows.)
   Now, define for M ‚àà Rep HnŒª
                                                  aff
                                           H
                   fei (M ) = prŒª cosoc IndHn+1            ‚àó      i
                                             aff ‚äóH aff (evŒª M ‚ä† q J1 )
                                              n         1

                                              i             H aff
                eei (M ) = soc HomR[Xn¬±1 ] (q J1 , ResHnaff         aff   ev‚àóŒª M ).
                                                              n‚àí1 ‚äóH1
22                                      I. Grojnowski


As eei (M ) is semisimple and eei (M ‚äï M ‚Ä≤ ) = eei (M ) ‚äï eei (M ‚Ä≤ ), eei defines a Z+ -linear
operator on isomorphism classes of semisimple HnŒª -modules, and hence an oper-
ator eei :ZBŒª ‚Üí ZBŒª . Similarly, fei defines an operator ZBŒª ‚Üí ZBŒª , as prŒª of a
semisimple module is still semisimple. These are adjoint operators with respect to
the inner product on ZBŒª , i.e.:
                                 Œª
Lemma 9.1. If N is a semisimple Hn‚àí1 -module, and M a semisimple HnŒª -module,
                         HomHn‚àí1
                             Œª   (N, eei M ) = HomHnŒª (fei N, M ).
Proof. As N is semisimple,

                                        i           ‚àó
             HomHn‚àí1
                 aff (N, soc Hom   ¬±1 (q J1 , Res ev M ))
                                R[Xn ]
                                                       i           ‚àó
                              = HomHn‚àí1
                                    aff (N, Hom   ¬±1 (q J1 , Res ev M ))
                                               R[Xn ]
                                                     i           ‚àó
                              = HomHn‚àí1
                                    aff ‚äóH aff (N ‚ä† q J1 , Res ev M )
                                          1

                              = HomHnaff (Ind(N ‚ä† q i J1 ), ev‚àó M )
         by adjointness. Now, as ev‚àó M is semisimple, this is
                              = HomHnaff (cosoc Ind(N ‚ä† q i J1 ), ev‚àó M )
                              = HomHnŒª (prŒª cosoc Ind(N ‚ä† q i J1 ), M ).



As with the operators fi‚àó the order of the operations defining fei is not crucial. We
have:
                                            aff
                                   H
Lemma 9.2. fei (M ) = cosoc(prŒª IndHnaff         aff    (ev‚àóŒª M ‚ä† q i J1 )).
                                           n‚àí1 ‚äóH1

Proof. We may finish the above proof differently, noticing ev‚àó M is still semisimple,
to get
     HomHn‚àí1
         Œª   (N, eei M ) = HomHnŒª (prŒª Ind(N ‚ä† q i J1 ), M )
                                                  = HomHnŒª (cosoc prŒª Ind(N ‚ä† q i J1 ), M )
It follows that both fei and this new operator define adjoints to eei :ZBŒª ‚Üí ZBŒª .
But the symmetric pairing Hom( , ) is non-degenerate, and so these two operators
must be equal.
In fact, we will show in theorem 9.9 that we may even replace J1 with Jm in the
definitions of eei and fei .
   We have implicitly used the map
                                     ev‚àó :ZBŒª ÷í‚Üí ZBaff
induced by ev‚àó : Rep Hnaff ‚Üí Rep HnŒª . The definitions of e‚àói and fi‚àó make the follow-
ing lemma obvious.
Lemma 9.3.          (i) eei ev‚àó M = ev‚àó e
                                        ei M , for M ‚àà BŒª .

 (ii) If M ‚àà BŒª , ev‚àó fei M is a direct summand of fei (ev‚àó M ).
                                   Representations of Hecke algebras                                23


Theorem 9.4. If M is an irreducible HnŒª -module, then eei M and fei M are either
irreducible or zero. Further, if N 6= 0, then eei M = N if and only if M = fei N .
   The theorem will be proved after proposition 9.8 below.
                                               ei and fei in the datum of an oriented
   As a result, we can summarize the operators e
graph, with edges labelled by the elements of ¬µq . The vertices of the graph are the
elements of BŒª , and M is joined to N by an arrow colored by i ‚àà ¬µq
                                                     i
                                                 M‚àí
                                                  ‚ÜíN
if eei M = N ; equivalently if N = fei M . This datum (BŒª , eei , fei ) is called a crystal
graph, after Kashiwara. Note that as a consequence of the lemma 9.3, ev‚àó in-
duces an inclusion of crystal graphs, BŒª ‚Üí Baff . We record one immediate formal
consequence of this fact:

Corollary 9.5. If M ‚àà Baff , (prŒª fei )k M = prŒª (feik M ).

Proof. By induction on k, (pr fei )k M = pr fei pr feik‚àí1 M , and pr feik‚àí1 M is either 0 or
feik‚àí1 M , so (pr fei )k M is either 0 or pr feik M . So if pr feik M = 0, then (pr fei )k M = 0
also, and if pr feik M 6= 0, it equals feik M (by the theorem), so eei (pr feik M ) = feik‚àí1 M ‚àà
Rep HnŒª , and so feik‚àí1 M = pr feik‚àí1 M . Hence (pr fei )k M = pr feik M here also.

   Define, for M ‚àà BŒª
                                Œµi (M ) = max{n ‚â• 0 | eeni M 6= 0}

                               œïi (M ) = max{n ‚â• 0 | fein M 6= 0}
so that Œµi (M ) ‚àà Z+ (and indeed if M ‚àà Rep HnŒª , Œµi (M ) ‚â§ n), and œïi (M ) ‚àà
Z+ ‚à™ {‚àû}. Note that if Œª = aff then œïi (M ) = ‚àû always. We will see in theorem
9.15 that if Œª is cyclotomic then œïi (M ) is always finite.

9.2. Detailed study of the crystal graph. We now start to seriously study the
crystal graph. In order to lighten notation, let‚Äôs agree to write Ind = Indna1 ,... ,ak =
   H aff
IndHnaff ‚äóH aff ‚äó¬∑¬∑¬∑‚äóH aff for the induction functor between modules for affine Hecke
     a1      a2      ak
algebras, and to omit indices when this causes no confusion; and similarly for
restriction.
   Let us also write
                                         H aff
                          q i Kn = IndHnaff ‚äó¬∑¬∑¬∑‚äóH aff (q i J1 ‚ä† ¬∑ ¬∑ ¬∑ ‚ä† q i J1 )
                                           1           1


for the unique irreducible Hnaff -module             with central character (q i ¬∑ ¬∑ ¬∑ q i ), and, if
M ‚àà Rep Haaff and N ‚àà Rep Hn+aaff


                                           HomHaaff (M, N )
                                                                   H aff
for the Hnaff -module HomHnaff ‚äóHaaff (Hnaff ‚ä† M, ResHn+a
                                                      aff aff N ). So in our lighter
                                                      n ‚äóHa
                                 i
notation, eei M = soc HomH1aff (q J1 , M ).
                        Œª
Lemma 9.6. Let M ‚àà Rep Hn+a . The following are equivalent
       (i)    Œµi (M ) ‚â• n         (ii)   eeni M 6= 0       (iii)     HomHnaff (q i Kn , M ) 6= 0.
24                                           I. Grojnowski


Proof. Clearly, (i) and (ii) are equivalent to the existence of a nonzero map of
    ¬±1            ¬±1
R[Xa+1 , . . . , Xa+n ]-modules
                                                     H aff ‚äóH aff
                        q i J1 ‚ä† ¬∑ ¬∑ ¬∑ ‚ä† q i J1 ‚Üí ResHaaff ‚äóHnaff ‚äó¬∑¬∑¬∑‚äóH aff M.
                                                         a       1      1

By Frobenius reciprocity, this is equivalent to the existence of a nonzero map of
Hnaff -modules
                                                   H aff
                                      q i Kn ‚Üí ResHa+n
                                                   aff ‚äóH aff M.
                                                     a       n




The crucial technical result we will need to prove the theorem is:
Proposition 9.7. Let M ‚àà Rep Haaff , and suppose Œµi (M ) = 0. Then the exact
sequence of Haaff ‚äó Hnaff -modules
                                           a+n
                0 ‚Üí M ‚ä† q i Kn ‚Üí Resa+n              i
                                    a,n Inda,n (M ‚ä† q Kn ) ‚Üí A ‚Üí 0

splits. Moreover, for every subquotient A of A,
                              ExtHaaff ‚äóHnaff (A, Haaff ‚ä† q i Kn ) = 0.
Proof. By the Mackey formula, A admits a filtration whose graded pieces are
                              (a,n)                      (a,n)
                  Œìw = Ind(a,n) T w(a,n) w‚àí1 Res(a,n)‚à©w(a,n) (M ‚ä† q i Kn )
where w runs over representatives for all the cosets S(a,n) \Sa+n / S(a,n) except for
the coset S(a,n) .
                                               ¬±1              ¬±1
    Now consider Œìw as a module for R[Xa+1          , . . . , Xa+n ], and suppose s = (sa+1 , . . . ,
                √ó n
sa+n ) ‚àà (R ) is in its support; i.e. Œìw [s] 6= 0. Fix w ‚àà S(a,n) \Sa+n / S(a,n) ,
not the identity double coset S(a,n) . By the shuffle lemma 5.5, there must be
some sŒ≥ , a < Œ≥ ‚â§ a + n, such that the sŒ≥ -weight space of Xa on M is nonzero,
i.e. {m ‚àà M | (Xa ‚àí sŒ≥ )dim M ¬∑ m = 0} 6= 0. As eei M = 0, sŒ≥ 6= q i . So we have
shown there is some Œ≥ , a < Œ≥ ‚â§ a + n, with sŒ≥ 6= q i .
    It follows that Œìw , when considered as a module for Z(Hnaff ) has support disjoint
from (q i ¬∑ ¬∑ ¬∑ q i ). As this is the support of q i Kn , we see that all subquotients of Œìw ,
considered as an Hnaff -module, are in different blocks from q i Kn . The proposition
follows.
        (n)
Write fei M = cosoc Ind(M ‚ä† q i Kn ), for M ‚àà Rep Haaff .
Proposition 9.8. Suppose M ‚àà Rep Haaff is irreducible, and Œµi (M ) = 0. Then
        (n)
  (i) fei M is irreducible.
 (ii) If A is an irreducible subquotient of the kernel of the map
                          Ind(M ‚ä† q i Kn ) ÷â cosoc Ind(M ‚ä† q i Kn )
                                           (n)
       then Œµi (A) < n Further, Œµi (fei M ) = n.
                                                                   (n)     (n)
 (iii) If M, N ‚àà Rep Haaff are irreducible, and Œµi (M ) = 0 then fei M = fei N
       implies M = N .
         (n) (m)       (n+m)                      (n)
 (iv) fei fei M = fei        M . In particular, fei M = fein M .
                  (n)
Proof. (i) As fei M is semisimple, we will know it is irreducible if we show d =
            (n)   (n)                                                       (n)
dim Hom(fei M, fei M ) equals 1. Note that cosoc(X) = 0 only if X = 0, so fei M
is nonzero, and we must show d ‚â§ 1.
                               Representations of Hecke algebras                          25


  Write S for the kernel
                                        (n)
(6)        0 ‚Üí S ‚Üí Ind(M ‚ä† q i Kn ) ÷â fei M = cosoc Ind(M ‚ä† q i Kn ) ‚Üí 0.

As Res = Resn+a
            n,a is exact, we have an exact sequence

                                                          (n)
                 0 ‚Üí Res S ‚Üí Res Ind(M ‚ä† q i Kn ) ÷â Res fei M ‚Üí 0,
and by the technical proposition 9.7 Res Ind(M ‚ä† q i Kn ) = M ‚ä† q i Kn ‚äï A. So
      (n)
Res fei M = M ‚ä† q i Kn ‚äï A, where M ‚ä† q i Kn is a quotient of M ‚ä† q i Kn , and A is
a quotient of A. Now,
                       (n)    (n)                             (n)
                 Hom(fei M, fei M ) = Hom(Ind(M ‚ä† q i Kn ), fei M )
                                                                 (n)
                                        = Hom(M ‚ä† q i Kn , Res fei M )

     (n)
as fei M is semisimple, and Ind adjoint to Res. But this equals

                                        = Hom(M ‚ä† q i Kn , M ‚ä† q i Kn )

by the technical proposition 9.7. As M ‚ä† q i Kn is irreducible, either M ‚ä† q i Kn is
zero, and d = 0, or M ‚ä† q i Kn = M ‚ä† q i Kn , and d = 1. We have already observed
             (n)
d 6= 0, so fei M is irreducible, nonzero.
    (ii) As the sequence (6) is exact, this also shows that Res S embeds into Res A.
Now let A be an irreducible subquotient of S. Then to show Œµi (A) < n, it suffices
to show HomHnaff (q i Kn , Resa+n
                               a,n A) is zero. But Res A is a subquotient of Res A,
                                                              (n)
and the technical proposition 9.7 gives the result. As Res fei M = M ‚ä† q i Kn ‚äï A
                       (n)
it is clear that Œµi (fei M ) = n.
                                                                            (n)
    (iii) Suppose N ‚àà Rep Haaff is irreducible. Then by semisimplicity of fei M and
adjunction, we get
                 (n)    (n)                                    (n)
           Hom(fei N, fei M ) =         Hom(N ‚ä† q i Kn , Res fei M )
                                   =    Hom(N ‚ä† q i Kn , M ‚ä† q i Kn ), as before
                                   =    Hom(N, M ), as N, M semisimple.
     (n)     (n)
So fei N = fei M ‚áê‚áí N = M .
  (iv) To show (iv), observe that as we have a surjection
                                                                       (m)
      Ind(M ‚ä† q i Km ) ‚ä† q i Kn ÷â cosoc Ind(M ‚ä† q i Km ) ‚ä† q i Kn = fei      M ‚ä† q i Kn
we also get a surjection
                                                                   (m)
      Ind(M ‚ä† q i Km+n ) = Ind(Ind(M ‚ä† q i Km ) ‚ä† q i Kn ) ÷â Ind(fei M ‚ä† q i Kn ).
Given a surjective map X ÷â Y , we get an induced surjection on cosocles, cosoc X ÷â
cosoc Y , so a surjective map
                                 (m+n)       (n) (m)
                               fei     M ÷â fei (fei M ).
     (m+n)
As fei     M is irreducible, this is an isomorphism.

We now prove the theorem 9.4.
26                                          I. Grojnowski


Proof. It is clearly enough to prove it for Hnaff -modules, as lemma 9.3 implies the
result for cyclotomic Hecke algebras.
                                          aff
   Suppose M ‚àà Baff is an irreducible Hm      -module, and write n = Œµi (M ). Then if
M is semisimple,
                         Hom(M, eeni M ) = Hom(fein M, M ).
So if M is a simple summand of eeni M , then eei M = 0 and the proposition 9.8 shows
fein M = M . If M ‚Ä≤ is another simple summand of eeni M , then fein M ‚Ä≤ = fein M , so
M ‚Ä≤ = M . It follows that M = eeni M .
     We have just seen that every irreducible module is of the form fein M , where
Œµi (M ) = 0. It follows that fei N is irreducible, for all irreducible modules N . Finally,
let X be a summand of e      ei fein M , where Œµi (M ) = 0, M is irreducible. Then X =
fi N , for some N with Œµi (N ) = 0, as Hom(X, eei fein M ) = Hom(fei X, fein M ). It
 e m

follows that fei X = fein M , so feim+1 N = fein M , whence m = n ‚àí 1 and N = M . So
ei fein M = X = fein‚àí1 M , as desired.
e

The previous theorem used the result that q i Kn is an irreducible in Reps Hnaff , where
s = (q i ¬∑ ¬∑ ¬∑ q i ). The next theorem uses the fact that this is the only irreducible in
this block.
Theorem 9.9.          (i) For any irreducible M ‚àà Rep HnŒª , and m > 0
                                                    aff
                                             H
                     fei (M ) = prŒª cosoc IndHn+1            ‚àó      i
                                               aff ‚äóH aff (evŒª M ‚ä† q Jm ).
                                                    n     1


      In particular, if Œª is cyclotomic, then fei (M ) = cosoc fi‚àó (M ).
 (ii) For any irreducible M ‚àà Rep HnŒª , and m > 0
                                                              H aff
                   eei (M ) = soc HomR[Xn¬±1 ] (q i Jm , ResHn+1          ‚àó
                                                            aff ‚äóH aff evŒª M ).
                                                                n     1

        In particular, eei (M ) =   soc e‚àói (M ).
Proof. It is enough to prove (i). For, if M and N are semisimple HnŒª -modules, then
by (i) and adjointness Hom(fei M, N ) = Hom(cosoc fi‚àó M, N ) = Hom(fi‚àó M, N ) =
Hom(M, e‚àói N ) = Hom(M, soc e‚àói N ) and so both eei and soc e‚àói are adjoint to fei :ZBŒª ‚Üí
ZBŒª . As the symmetric pairing Hom( , ) is non-degenerate, they must be equal.
    So we prove (i). In fact, we prove a stronger statement. Let P ‚àà Repq Hnaff be
any indecomposable module with cosocle q i Kn , so P ÷â q i Kn . Define fP (M ) =
                                                                      (n)
cosoc Ind(M ‚ä† P ), for any M ‚àà Repq Hnaff . Clearly fP (M ) ÷â fei (M ). We will
                                          (n)
show that if Œµi (M ) = 0, fP (M ) = fei (M ) = fein (M ) is irreducible. Now, the
socle filtration of P has subquotients isomorphic to q i Kn . It follows that we can
filter Ind(M ‚ä†P ) with subquotients isomorphic to Ind(M ‚ä†q i Kn ). Hence fP (M ) =
                                                                                     (n)
cosoc Ind(M ‚ä†P ) is some summand of some copies of cosoc Ind(M ‚ä†q i Kn ) = fei M
(for any filtered module Z = ‚à™Zj , cosoc(Z) is a summand of ‚äï cosoc(Zj /Zj‚àí1 )).
But
                 (n)                        (n)
     Hom(fP M, fei M ) = Hom(Ind(M ‚ä† P ), fei M ) =
                                           (n)
                          Hom(M ‚ä† P, Res fei M ) = Hom(M ‚ä† P, M ‚ä† q i Kn ) = R.
                         (n)
It follows that fP M = fei M .
                               Representations of Hecke algebras                                  27


     Note that this implies if cosoc(P ) = q i Kn , and cosoc(P ‚Ä≤ ) = q i Kn‚Ä≤ , then fP fP‚Ä≤ =
         ‚Ä≤        ‚Ä≤
fein fein = fein+n = fInd(P ‚ä†P ‚Ä≤ ) .
                                                      (n)
     Now, if M is any simple HaŒª -module, M = fei M for some M with Œµi (M ) = 0.
Take P = Indn+1          i         i                                      en+1 M = fei M is
                   n,1 (q Kn ‚ä† q Jm ). Then fqi Jm (M ) = fP (M ) = fi
irreducible, as desired.
This has the following simple consequence:
Corollary 9.10. [GV]
                                                                                            HŒª
  (i) Let M be a simple HnŒª -module, Œª cyclotomic. Then the cosocle of IndHn+1
                                                                           Œª   M
                                                                                              n
                             HŒª
      and the socle of ResHn+1
                           Œª   M are multiplicity free.
                              n
                                                     H aff
 (ii) If M is a simple Hnaff -module, soc ResHnaff M is multiplicity free.
                                                       n‚àí1



Corollary 9.11. If M is irreducible, e‚àói M and fi‚àó M are indecomposable.

Proposition 9.12. (i) soc(e‚àói M ) ‚âÉ cosoc(e‚àói M ), for M ‚àà Rep HnŒª .
 (ii) soc(fi‚àó M ) ‚âÉ cosoc(fi‚àó M ), for M ‚àà Rep HnŒª , Œª cyclotomic.

                                  H aff                                   H aff
Warning 2. However, soc IndHnaff          aff   (M ‚ä†q i J1 ) 6= cosoc IndHnaff    aff   (M ‚ä†q i J1 ).
                                    n‚àí1 ‚äóH1                                 n‚àí1 ‚äóH1

For example, if n = 2, and M = q i‚àí1 J1 , they are clearly different.
   We finish the section with some alternate characterizations of Œµi and œïi .
Theorem 9.13. Let N be an irreducible module in RepŒªq . Then
  (i) Œµi (N ) is the maximal size of a Jordan block for R[[Xn ‚àí q i ]] on N .
                                                        P
 (ii) In K(RepŒªq ), we have e‚àói N = Œµi (N ) ¬∑ eei (N ) + aŒ± MŒ± , where MŒ± are irre-
      ducible modules with Œµi (MŒ± ) < Œµi (N ) ‚àí 1.
(iii) Œµi (N ) = dim Hom(e‚àói N, e‚àói N ).
Proof. We may suppose that N = fein M = cosoc Ind(M ‚ä† q i Kn ), where M is
an irreducible HaŒª -module and Œµi (M ) = 0. By the Mackey formula and ‚Äúshuffle
lemma,‚Äù if P ÷â q i Kn is some module covering q i Kn we have an exact sequence
           a+n‚àí1,1
    0 ‚Üí Inda,n‚àí1,1 Resa,n                   a+n        a+n
                      a,n‚àí1,1 (M ‚ä† P ) ‚Üí Resa,n‚àí1,1 Inda,n (M ‚ä† P ) ‚Üí Q ‚Üí 0

where Xn has no q i -eigenspace on Q, i.e.
                                          aff      i
                       HomHa+n‚àí1
                           aff   ‚äóH1aff (Ha+n‚àí1 ‚ä† q J1 , Q) = 0.

Hence taking the q i -eigenspace of Xn , we get
                       e‚àói Inda+n               a+n‚àí1       ‚àó
                              a,n (M ‚ä† P ) = Inda,n‚àí1 (M ‚ä† ei P )

and that Œµei (Ind(M ‚ä† P )) = Œµei (P ), where we denote the maximal size of a Jordan
block of R[[Xn ‚àí q i ]] on a module N by Œµei (N ). We now apply this for P = q i Kn .
Write, for m ‚â§ n
                       0 ‚Üí Sm ‚Üí Ind(M ‚ä† q i Km ) ‚Üí fem M ‚Üí 0   i

for the exact sequence defining feim M . We prove (ii). Apply e‚àói to this exact
sequence, to get
                 0 ‚Üí e‚àó Sn ‚Üí Ind(M ‚ä† e‚àó (q i Kn )) ‚Üí e‚àó fen M ‚Üí 0.
                         i                       i                 i i
28                                        I. Grojnowski


Now, in K(RepŒªq ), e‚àói (q i Kn ) is a multiple of q i Kn‚àí1 , as this is the unique irreducible
module with this central character. Comparing dimensions, we see that e‚àói (q i Kn ) =
n ¬∑ q i Kn‚àí1 , and so in K(Repaff a+n ) we have

         e‚àói fein M = n ¬∑ Ind(M ‚ä† q i Kn‚àí1 ) ‚àí e‚àói Sn = nfein‚àí1 M + nSn‚àí1 ‚àí e‚àói Sn .
By proposition 9.8, (ii), every subquotient A of Sn has Œµi (A) < m, and so the right
hand side of the proposition is of the desired form. Finally, as fein M is in K(Rep HnŒª ),
it follows the non-zero terms in this expression are also (after cancelling).
    We now prove (i). As Ind(M ‚ä† q i Kn ) ÷â fein M , (‚àó) implies
                                   Œµei (fein M ) ‚â§ Œµei (q i Kn ).
But by proposition 9.8, (ii) and its proof, the HaŒª ‚äó Hnaff -module M ‚ä† q i Kn does
occur as a submodule of Res(fein M ) (in fact, with multiplicity one). It follows that
                                   Œµei (fein M ) ‚â• Œµei (q i Kn ).
It remains to show Œµei (q i Kn ) = n = Œµi (q i Kn ).
   We show inductively that if Œ±m 6= 0 in the exact sequence
                                                                    Œ±
                                                               ‚Üí Hom(q i J1 , q i Kn )
         0 ‚Üí Hom(q i Jm‚àí1 , q i Kn ) ‚Üí Hom(q i Jm , q i Kn ) ‚àí‚àím
then Hom(q i Jm , q i Kn ) = m ¬∑ q i Kn‚àí1 . in the Grothendieck group of Hn‚àí1        aff
                                                                                          modules.
As Œµei (q i Kn ) is the smallest integer m for which Œ±m+1 = 0, and Hom(q i JŒµei (qi Kn ) , q i Kn ) =
e‚àói (q i Kn ), this will finish us up. But Hom(q i J1 , q i Kn ) is eei (q i Kn ), which is q i Kn‚àí1
as it is irreducible and non-zero. Our induction starts with m = 0, where it is clear
by these remarks. Likewise, if m > 0, then if Œ±m is non-zero it must be a surjection
onto q i Kn‚àí1 , hence the result.
     We now show that (i) and (ii) imply (iii). By (i), the operators of multiplication
by (Xn ‚àí q i )k are non-zero for 0 ‚â§ k < Œµi (N ), and zero for k = Œµi (N ). Hence
they are linearly independent, and dim Hom(e‚àói N, e‚àói N ) ‚â• Œµi (N ). For the reverse
inequality, observe that for any module X with cosocle eei N
                                dim Hom(X, e‚àói N ) ‚â§ Œµi (N ),
as one sees by filtering e‚àói N so it has semisimple quotients and applying (ii). Now
take X = e‚àói N .

     Let us write, for an irreducible Hnaff -module N
                                     Œµ‚àß             ‚àó
                                      i (N ) = Œµi (œÉ N )

where œÉ:Hnaff ‚Üí Hnaff Ti 7‚Üí ‚àí(Tn‚àíi + 1 ‚àí q), Xi 7‚Üí Xn+1‚àíi is the diagram auto-
morphism of Hnaff . Then Œµ‚àß                                  √ó n
                             i (N ) is the maximum, as s ‚àà (R ) varies with Ns 6= 0,
                                  i
of the length of the chain of q s beginning s. (This is immediate as Œµi (N ) is the
maximal length of the chain of q i s ending s with Ns 6= 0.) The previous theorem
tells us Œµ‚àß                                                               i
          i (N ) is also the maximal size of a Jordan block for R[[X1 ‚àí q ]] on N ;
hence
Corollary 9.14. If N is an irreducible Hnaff -module, then
                 prŒª N 6= 0      ‚áê‚áí        Œµ‚àß
                                            i (N ) ‚â§ Œªi ,           for all i ‚àà ¬µq .
   We now give descriptions of œïi parallel to that of Œµi . The proof of the following
theorem will not be completed until section 12.
                              Representations of Hecke algebras                         29


Theorem 9.15. Let N be an irreducible module in RepŒªq , where Œª is cyclotomic.
Then
  (i) œïi (N ) is the smallest integer m for which fi‚àó N = prŒª Ind(N ‚ä† q i Jm ).
 (ii) In the Grothendieck group K(RepŒªq ),
                                                       X
                          fi‚àó N = œïi (N ) ¬∑ fei (N ) +   a‚Ä≤Œ± MŒ±‚Ä≤
      where MŒ± are irreducible modules with Œµi (MŒ±‚Ä≤ ) < Œµi (N ) + 1.
(iii) œïi (N ) = dim Hom(fi‚àó N, fi‚àó N ).
Proof. We first show (i) and (ii) are equivalent. Suppose the surjective map
                     prŒª Ind(N ‚ä† q i Jm ) ÷â prŒª Ind(N ‚ä† q i Jm‚àí1 )
is not an isomorphism. We claim that it follows that
                  prŒª Ind(N ‚ä† q i Jm ) = m ¬∑ fei (N ) + smaller terms,
(where we mean equality in the Grothendieck group, and smaller terms means a
sum of modules A for which Œµi (A) < Œµi (fei (N )). The proof is by induction. We
have an exact sequence
                          Œ±                           Œ≥m
                           ‚Üí prŒª Ind(N ‚ä† q i Jm ) ‚àí‚àí‚Üí prŒª Ind(N ‚ä† q i Jm‚àí1 ) ‚Üí 0.
    prŒª Ind(N ‚ä† q i J1 ) ‚àí‚àím
By assumption, Œ±m 6= 0, so the image of Œ±m contains a copy of the irreducible mod-
ule cosoc prŒª Ind(N ‚ä†q i J1 ) = fei (N ). As prŒª Ind(N ‚ä†q i J1 ) = fei (N )+ smaller terms,
the induction is complete if we show that Œ≥m is an isomorphism implies Œ≥m+k is
                                                               k               k
also, for k ‚â• 0. But this is clear‚Äîfactor Œ±m+k = Œ∏m              ‚ó¶ Œ±m , where Œ∏m is the map
                 k
induced from x :Jm ‚Üí Jm+k . But now Œ±m = 0 and so Œ±m+k = 0 and hence Œ≥m+k
is an isomorphism.
          ei (N ) for the smallest integer m for which fi‚àó N = pr Ind(N ‚ä† q i Jm ). We
    Write œï
have just shown that for m > œï    ei (N ), N ‚ä† q i Jœïe i N is a submodule of Res pr Ind(N ‚ä†
q Jm ). It follows that for such m, Rœïe i N = Hom(N ‚ä† q i Jm , N ‚ä† q i Jœïe i N ) is a
  i

submodule of
            Hom(Ind(N ‚ä† q i Jm ), pr Ind(N ‚ä† q i Jm )) = Hom(fi‚àó N, fi‚àó N ),
and so dim Hom(fi‚àó N, fi‚àó N ) ‚â• œï
                                ei (N ). On the other hand, as in the proof of 9.13,
for any module X with cosocle fei N , we have
                              dim Hom(X, fi‚àó N ) ‚â§ œï
                                                   ei (N ).
Taking X = fi‚àó N we see (iii) is equivalent to (i) and (ii).
     Now let us show œï   ei (N ) ‚â• œïi (N ). But this is immediate from Frobenius reci-
procity: any embedding R[X1 ]/(X1 ‚àí q i )m ÷í‚Üí q i Km induces a map Ind(N ‚ä†
q i Jœïi (N ) ) ‚Üí Res pr Ind(N ‚ä† q i Kœïi (N ) ), which when restricted to Hnaff ‚äó H1aff in-
                                                 œï (N )
duces an injection N ‚ä† q i Jœïi (N ) ÷í‚Üí Res fei i N . It follows that œï  ei (N ) ‚â• œïi (N ).
The reverse inequality will be proved in section 12.

                                10. Serre relations
   In this section we study the relation of Œµi (feiq¬±1 N ) to Œµi (N ). To simplify notation
we will write i = 1, so iq = q; this has no effect other than to make the notation
readable. We will also write Km rather than q 0 Km , and similarly for Jm , and we
shall write q i rather than q i J1 when this causes no confusion.
30                                      I. Grojnowski


    The case q = ‚àí1 is different from the case q 6= ‚àí1; for most of the section we will
assume q 6= ‚àí1. The main results of the section are proposition 10.4, which holds
for q 6= ‚àí1, and its counterpart proposition 10.5, which covers the case q = ‚àí1.
q 6= ‚àí1 First, suppose q 6= ‚àí1. Then we have a short exact sequence of H2aff -
modules
                        0 ‚Üí 1(1q) ‚Üí Ind(q ‚ä† 1) ‚Üí St(q1) ‚Üí 0
which does not split; here 1(1q) and St(q1) are the one dimensional modules with
spectra (1q) and (q1) respectively.
  Hence for m ‚â• 1 we have a short exact sequence (‚àó‚àó)
0 ‚Üí Ind(N ‚ä† 1(1q) ‚ä† Km‚àí1 ) ‚Üí Ind(N ‚ä† q ‚ä† Km ) ‚Üí Ind(N ‚ä† St(q1) ‚ä† Km‚àí1 ) ‚Üí 0.

Proposition 10.1. Suppose q 6= ‚àí1. Then for all irreducible N ‚àà Rep HaŒª , and
all m ‚â• 1
   (i) Ind(1(1q) ‚ä† Km ) ‚âÉ Ind(Km ‚ä† 1(1q) ) is irreducible.
  (ii) Ind(N ‚ä† Km ‚ä† 1(1q) ) is indecomposable, with simple cosocle.
 (iii) Ind(St(q1) ‚ä† Km ) ‚âÉ Ind(Km ‚ä† St(q1) ) is irreducible.
 (iv) Ind(N ‚ä† Km ‚ä† St(q1) ) is indecomposable, with simple cosocle.
Proof. We prove (i) and (ii); as (iii) and (iv) are similar (or indeed are formal con-
sequences, upon applying the obvious automorphism of Hnaff ). By the classification
of H3aff -modules, when q 6= ‚àí1,
                             Ind(1(1q) ‚ä† 1) ‚âÉ Ind(1 ‚ä† 1(1q) )
is irreducible; hence by transitivity of induction
Ind(1(1q) ‚ä† 1 ‚ä† ¬∑ ¬∑ ¬∑ ‚ä† 1) = Ind(1 ‚ä† 1(1q) ‚ä† ¬∑ ¬∑ ¬∑ ‚ä† 1) = ¬∑ ¬∑ ¬∑ = Ind(1 ‚ä† ¬∑ ¬∑ ¬∑ ‚ä† 1 ‚ä† 1(1q) ).
But the Mackey formula implies that 1(1q) ‚ä† Km occurs with multiplicity one in
Res Ind(1(1q) ‚ä† Km ), hence the useful observation (lemma 5.9) shows Ind(Km ‚ä†
1(1q) ) is irreducible.
   To prove (ii), observe that if X ÷â Y is a surjection, then cosoc(X) ÷â cosoc(Y ),
so as N is a quotient of Ind(N e ‚ä† Km ) for some Ne with Œµ1 (N ) = 0, it is enough to
show (ii) when Œµ1 (N ) = 0. We play with the Mackey formula again as in theorem
9.13, so we will be terse. Write Res = Resa+m+2
                                            a,m+2 . Then the sequence

         0 ‚Üí N ‚ä† Ind(Km ‚ä† 1(1q) ) ‚Üí Res Ind(N ‚ä† Km ‚ä† 1(1q) ) ‚Üí U ‚Üí 0
splits, as the shuffle lemma shows the central character of U differs from that of
N ‚ä† Ind(Km ‚ä† 1(1q) ). It follows, as in 9.8, that
            Res cosoc Ind(N ‚ä† Km ‚ä† 1(1q) ) = N ‚ä† Ind(Km ‚ä† 1(1q) ) ‚äï U ,
where U is some quotient of U , and that
        Hom(cosoc Ind(N ‚ä† Km ‚ä† 1(1q) ), cosoc Ind(N ‚ä† Km ‚ä† 1(1q) )) =
                     Hom(N ‚ä† Ind(Km ‚ä† 1(1q) ), N ‚ä† Ind(Km ‚ä† 1(1q) )) = R,
the last equality as Ind(Km ‚ä† 1(1q) ) is irreducible by (i).

  For N ‚àà BŒª , define fei qi (N ) = prŒª cosoc Ind(N ‚ä† 1(iqi) ), and feqi i (N ) = prŒª cosoc
Ind(N ‚ä† St(qii) ). As a corollary of the proposition, feqi i N and fei qi N are irreducible
modules, if q 6= ‚àí1. (If q = ‚àí1 this is no longer true.)
                              Representations of Hecke algebras                      31


Lemma 10.2. (i) If A is an irreducible constituent of Ind(N ‚ä† 1(1q) ‚ä† Km‚àí1 ),
       then Œµ1 (A) ‚â§ Œµ1 (N ) + m ‚àí 1.
  (ii) If A is an irreducible constituent of Ind(N ‚ä† Km‚àí1 ‚ä† St(q1) ), then Œµ1 (A) ‚â§
       Œµ1 (N ) + m. Moreover, if Œµ1 (A) = Œµ1 (N ) + m, then A is an irreducible con-
       stituent of Ind(fe1m‚àí1 N ‚ä† St(q1) ).
 (iii) If Q is an irreducible quotient of Ind(N ‚ä† Km‚àí1 ‚ä† St(q1) ), then Œµ1 (Q) =
       Œµ1 (N ) + m.
Proof. (i) and the first part of (ii) are immediate from the shuffle lemma. As
                                P
Ind(N ‚ä†Km‚àí1 ) = fe1m‚àí1 N + aŒ± MŒ± , where Œµ1 (MŒ± ) < Œµ1 (N )+m‚àí1 by proposition
9.8, the last part of (ii) follows by another application of the shuffle lemma.
    Finally, to prove (iii), it is enough to show Œµ1 (Q) ‚â• Œµ1 (N ) + m. Further, we
                                                             Œµ (N )
may again assume Œµ1 (N ) = 0, as the cosocle of Ind(e      e11 N ‚ä† KŒµ1 (N )+m‚àí1 ‚ä†
St(q1) ) surjects onto the cosocle of Ind(N ‚ä† Km‚àí1 ‚ä† St(q1) ). Now, if Q is an irre-
ducible quotient as in (iii), Frobenius reciprocity gives a non-zero homomorphism
N ‚ä† Ind(Km‚àí1 ‚ä† St(q1) ) ‚Üí Q; hence Œµ1 (Q) ‚â• Œµ1 (N ‚ä† Ind(Km‚àí1 ‚ä† St(q1) )). But
Ind(Km‚àí1 ‚ä† St(q1) ) = Ind(St(q1) ‚ä† Km‚àí1 ) by the previous proposition, and so
Œµ1 (Q) ‚â• m.

  We have shown that
              Ind(N ‚ä† 1(1q) ‚ä† Km‚àí1 ) = fe1 q fe1m‚àí1 N + smaller terms,
and
                 Ind(N ‚ä† St(q1) ‚ä† Km‚àí1 ) = cosoc + smaller terms,
where all the terms in the cosocle have Œµ1 = Œµ1 (N ) + m. As Ind(N ‚ä† q ‚ä† Km )
surjects onto fe1m feq N for m ‚â• 0, and we have a filtration of Ind(N ‚ä† q ‚ä† Km ) as in
(‚àó‚àó), we have proved most of
Proposition 10.3. Precisely one of the following alternatives hold
 (i) For all m ‚â• 1, fem feq N = fe1 q fem‚àí1 N , and for all m ‚â• 0
                       1                   1

                       Œµ1 (fe1m feq N )   = m ‚àí 1 + Œµ1 (N ),      or

 (ii) For all m ‚â• 1, fe1m feq N is a summand of cosoc Ind(fe1m‚àí1 N ‚ä† St(q1) ), and for
      all m ‚â• 0,
                               Œµ1 (fem feq N ) = m + Œµ1 (N ).
                                     1

Proof. We have proved everything for m ‚â• 1; to finish we must only observe that
Œµ1 (fe1 feq N ) = Œµ1 (feq N ) + 1, and so we have the assertions for m = 0 also.

   Now let N be an irreducible HnŒª -module, with Œª cyclotomic. Let us agree to
write fei for the affine crystal operator cosoc Ind(‚Ä¢ ‚ä† q i ), and write pr fei for the
cyclotomic crystal operator.

Proposition 10.4. Let N be an irreducible HnŒª -module, and suppose prŒª feq N 6= 0.
Then precisely one of the following holds:
  (i) Œµ1 (feq N ) = Œµ1 (N ) ‚àí 1, and œï1 (feq N ) = œï1 (N ), or
 (ii) Œµ1 (feq N ) = Œµ1 (N ), and œï1 (feq N ) = œï1 (N ) + 1.
32                                      I. Grojnowski


Proof. Write œï = œï1 (N ). First suppose Œµ1 (feq N ) = Œµ1 (N ) ‚àí 1. Then the surjection
Ind(1q) ‚Üí 1(1q) induces a surjection, hence isomorphism

         feq fe1m N = cosoc Ind(N ‚ä† Km ‚ä† q) ÷â cosoc Ind(N ‚ä† Km‚àí1 ‚ä† 1(1q) )
                                                   = fe1 q fe1m‚àí1 N = fe1m feq N

for all m ‚â• 1. It follows that prŒª fe1œï+1 feq N = prŒª feq fe1œï+1 N = 0. To show
prŒª fe1œï feq N 6= 0, we compute Œµ‚àß    em e
                                   Œ± (f1 fq N ) for all Œ± ‚àà ¬µq and invoke corollary 9.14.
   The shuffle lemma shows Œµ1 (Ind(fe1m N ‚ä† q)) ‚â§ Œµ‚àß
                                  ‚àß                           em
                                                           1 (f1 N ), hence the definition of
œï and corollary 9.14 shows Œµ‚àß        e e
                                      œï
                                 1 (f1 fq N ) ‚â§ Œª1 .
   Similarly, the shuffle lemma shows that for all m, Œµ‚àß             e               ‚àß e
                                                               q Ind(fq N ‚ä† Km ) ‚â§ Œµq (fq N )
and Œµ‚àß      e                                                           e
       q (fq N ) ‚â§ Œªq by corollary 9.14 and the assumption prŒª fq N 6= 0. We clearly
         ‚àß em e           ‚àß
have ŒµŒ± (f1 fq N ) ‚â§ ŒµŒ± (N ) ‚â§ ŒªŒ± for Œ± ‚àà        / {1, q}, and all m ‚â• 0. Thus another
application of corollary 9.14 shows prŒª (f1 fq N ) 6= 0, so œï1 (feq N ) = œï.
                                               eœïe

   Now suppose Œµ1 (feq N ) = Œµ1 (N ). The argument of the last paragraph applies
equally well here, so to show prŒª (fe1œï+1 feq N ) 6= 0 we must only show Œµ‚àß       em e
                                                                               1 (f1 fq N ) ‚â§
 ‚àß em‚àí1
Œµ1 (f1 N ) for all m ‚â• 1. But this is immediate from the shuffle lemma, as in this
case fe1m feq N is a quotient of Ind(fe1m‚àí1 N ‚ä† St(q1) ).
   Finally, observe that Frobenius reciprocity implies that fe1m‚àí1 N ‚ä† St(q1) is con-
tained in Res(fe1m feq N ), so if Œµ‚àß    em‚àí1 N ) > Œª1 , then Œµ‚àß (fem feq N ) > Œª1 also. It
                                    1 (f1                         1  1
follows that prŒª fe1œï+2 feq N = 0, and so œï1 (feq N ) = œï + 1 in this case.

q = ‚àí1 We now suppose q = ‚àí1. The analogue of proposition 10.4 is

Proposition 10.5. Let N be an irreducible HnŒª -module, and suppose prŒª feq N 6= 0.
Then precisely one of the following holds:
   (i) Œµ1 (feq N ) = Œµ1 (N ) ‚àí 2, and œï1 (feq N ) = œï1 (N ),     or
  (ii) Œµ1 (feq N ) = Œµ1 (N ) ‚àí 1, and œï1 (feq N ) = œï1 (N ) + 1,    or
            e                         e
 (iii) Œµ1 (fq N ) = Œµ1 (N ), and œï1 (fq N ) = œï1 (N ) + 2.

Proof. We merely sketch the necessary modifications in the definitions needed to
prove this. Recall that there are 3 irreducible representations of H3aff with central
character S3 ¬∑ (11q). Denote them Œ±, Œ±, Œ≥ with ch Œ± = 2(11q), ch Œ± = 2(q11),
ch Œ≥ = (1q1). The representations Ind(1 ‚ä† Œ±) and Ind(1 ‚ä† Œ≥) are irreducible, so
if we define

                            fe11q (M ) = prŒª cosoc Ind(M ‚ä† Œ±)
                            fe1q1 (M ) = prŒª cosoc Ind(M ‚ä† Œ≥)
                            feq11 (M ) = prŒª cosoc Ind(M ‚ä† Œ±)

then the analogue of proposition 10.1 is that each of these operators takes irreducible
modules to irreducible modules (or zero). Using the exact sequence 0 ‚Üí Œ≥ ‚Üí
Ind(1 ‚ä† 1(1q) ) ‚Üí Œ± ‚Üí 0, we see that for m ‚â• 2 there is a 4 step filtration of
Ind(N ‚ä† q ‚ä† Km )

                  0 = F0 ‚äÇ F1 ‚äÇ F2 ‚äÇ F3 ‚äÇ F4 = Ind(N ‚ä† q ‚ä† Km )
                              Representations of Hecke algebras                     33


where
F1 = Ind(N ‚ä† Ind(Œ± ‚ä† Km‚àí2 )),            F2 /F1 = F3 /F2 = Ind(N ‚ä† Ind(Œ≥ ‚ä† Km‚àí2 )),
                        F4 /F3 = Ind(N ‚ä† Ind(Œ± ‚ä† Km‚àí2 )).
Arguing as before, one sees that the cosocle of each of these subquotients consists
of a sum of terms with fixed Œµ1 : respectively Œµ1 ‚àí m is Œµ1 (N ) ‚àí 2, Œµ1 (N ) ‚àí 1, and
Œµ1 (N ). Hence fe1m feq N , which is a quotient of Ind(N ‚ä† q ‚ä† Km ), is a quotient of
precisely one of those three subquotients (for m ‚â• 2). The rest of the proof is as
before.

                                11. Shapovalov Form
   Let A be a finite dimensional algebra over R, and Proj(A) be the category of
finite dimensional projective A-modules. As HomA (P, ‚àí) is an exact functor on
Rep A if P is projective, there is a well defined bilinear form
                        ( ,     ):K(Proj A) ‚äóZ K(Rep A) ‚Üí Z
given by ([P ], [M ]) = dim HomA (P, M ).
   If M is a simple A-module, we write PM for the projective cover of M , so PM is an
indecomposable projective with cosoc(PM ) = M . Then (PM , N ) is the multiplicity
of M in the composition series of N , i.e. (PM , ‚àí) = Œ¥M :K(A-mod) ‚Üí Z, and
( , ) defines an isomorphism K(Proj A) ‚àí    ‚Üí K(Rep A)‚àó .
   Now consider the natural map
                                K(Proj A) ‚Üí K(Rep A).
This is an injection if and only if it becomes an isomorphism after tensoring ‚äóZ Q,
and this happens precisely when the bilinear form in non-degenerate when restricted
to
                           K(Proj A) ‚äóZ K(Proj A) ‚Üí Z.
                                                                                  Œª
We now show this happens for the cyclotomic Hecke algebra. In this section  P Hn
denotes the cyclotomic Hecke algebra only, i.e. Œª:¬µq ‚Üí Z+ is a function with Œªi <
‚àû.
Theorem 11.1. The above pairing (P, P ‚Ä≤ ) 7‚Üí dim Hom(P, P ‚Ä≤ )
                    (   ,     ):K(Rep HnŒª )‚àó ‚äóZ K(Rep HnŒª )‚àó ‚Üí Z
is a non-degenerate symmetric form.
  We call this form, or the induced form
                            K(Rep HnŒª ) ‚äóZ K(Rep HnŒª ) ‚Üí Q
the Shapovalov form.
   Observe that as e‚àói and fi‚àó carry projective modules to projective modules, they
act on K(Proj HaŒª ). Clearly the action is just the transpose of the action of e‚àói and
fi‚àó on K(Rep HaŒª ). Hence the following lemma is an immediate consequence of the
results of section 9. (We reassure the reader that the results of this section are not
used in the proof of theorem 9.15).
Lemma 11.2. Let N be an irreducible HaŒª -module, and set Œµ = Œµi (N ), œï = œïi (N ).
Then
                               P
 (i) e‚àói (Œµ) PN = Œµ+œï
                   Œµ Pe eŒµi N +   Q:Œµi (Q)>Œµ aQ Pe
                                                 eŒµi Q , for some aQ ‚àà N.
34                                        I. Grojnowski

                               P
 (ii) If n > Œµ, e‚àói (n) PN =       Q:Œµi (Q)‚â•n>Œµ   Œ±Q Peeni Q for some Œ±Q ‚àà N.
                                 Œª
Proof. If S is an irreducible Ha‚àíŒµ  -module, then dim Hom(e‚àói (Œµ) PN , S) = dim
           ‚àó (Œµ)
Hom(PN , fi S) is clearly zero unless œïi (S) ‚â• Œµ. So we may assume S = eeŒµi Q,
where Q is an irreducible HaŒª -module, and then
                  aQ = dim Hom(e‚àói (Œµ) PN , eeŒµi Q) = dim Hom(PN , fi‚àó (Œµ) eeŒµi Q).
                                 P
But fi‚àó (Œµ) eeŒµi Q = œïi (Q)+Œµ
                         Œµ     Q + Œµi (M)<Œµi (Q) Œ±M M , by proposition 9.8.
    Now suppose that Œµi (Q) = Œµ = Œµi (N ). Then the terms M in the above sum have
Œµi (M ) < Œµ, so none are isomorphic to N . It follows that if Œµi (Q) = Œµ, aQ = 0 unless
Q = N , and aN = œï+Œµ      Œµ . The lemma is immediate.

We now prove the theorem.

Proof. We may suppose that projective covers of irreducible modules in K(Rep HaŒª‚Ä≤ )
are linearly independent for a‚Ä≤ < a, and that a > 0. Suppose we have a relation
                                  X
                                      cM P M = 0

in K(Rep HaŒª ) with not all the cM equal to zero. Choose an i ‚àà ¬µq and a simple
module N such that cN 6= 0, and Œµ = Œµi (N ) is maximal among terms in this sum.
We may choose i ‚àà ¬µq so that Œµ > 0, as for a module N , Œµi (N ) = 0 for all i ‚àà ¬µq
                  HŒª
implies that ResHaŒª      N = 0, which is absurd for a > 0.
                   a‚àí1

     Now apply e‚àói (Œµ) to this sum. By the lemma, we get an equality
                            X Œµ + œïi (N )
                                              cN PeeŒµi N + X = 0
                                        Œµ
                         N :Œµi (N )=Œµ

             Œª
in K(Rep Ha‚àíŒµ   ), where X is a sum of terms of the form PeeŒµi Q , with Q ‚àà Repq HaŒª
and Œµi (Q) > Œµ. In particular, all the terms in the sum are distinct projective
                   Œª
modules in Rep Ha‚àíŒµ   . By our inductive assumption these terms are linearly inde-
pendent, hence X = cN = 0. This contradicts our choice of cN , and shows the
Shapovalov form is non-degenerate.
   It remains to show it is symmetric. Again, induct on a. Clearly the form is
symmetric on K(Rep H0Œª ), and (fi‚àó x, y) = (x, e‚àói y) = (e‚àói y, x) = (y, fi‚àó x) where we
have used adjunction twice, and the inductive hypothesis. So the form is symmetric
on the image of 1Œª under the operators e‚àói (n) and fi‚àó (n) . We must merely show that
this is everything. This follows from the following two lemmas.

Lemma 11.3. Let N be an irreducible HaŒª -module, and set Œµ = Œµi (N ), œï = œïi (N ).
Then
                               P
  (i) fi‚àó (œï) PN = Œµ+œï
                    Œµ Pfeiœï N +  Q:œï (Q)>œï aQ Pfeiœï Q for some coefficients aQ ‚àà N.
                       ‚àó (n)
                                P i
 (ii) If n > œï, then fi PN = Q:œïi (Q)‚â•n>œï Œ±Q Pfen Q for some coefficients Œ±Q ‚àà
                                                      i
      N.
     We omit the proof.
Lemma 11.4. Every PN ‚àà K(Proj HaŒª ) can be written as a sum of monomial
words in fi‚àó (n) with integer coefficients.
                                  Representations of Hecke algebras                            35


Proof. Again, we assume the result for a‚Ä≤ < a, and suppose a > 0. Fix i ‚àà ¬µq , and
r > 0, and suppose the result is true for all irreducible N with œïi (N ) > r > 0. As
there are finitely many irreducible modules in Rep HnŒª , our induction on r starts
successfully, somewhere. Let M be irreducible, and Œµi (M ) = r. Apply the above
lemma to N = eeri M , to get
                                                X
                       PM = fi‚àó (r) Peeri M ‚àí         aQ Pfer Q
                                                                         i
                                                      Q:œïi (Q)>r

which by induction is of the desired form. Arguing in this way for each i ‚àà ¬µq ,
we see the result is true except perhaps for modules N for which œïi (N ) = 0 for
                                                     HŒª
all i ‚àà ¬µq . Such a module would have IndHa+1
                                          Œª   N = 0, which is absurd. Hence the
                                          a
result is true for all modules.

                   12. Relations in the Grothendieck group
   We show the operators e‚àói , fi‚àó , h‚àói acting on the Grothendieck group of modules
for the cyclotomic and affine Hecke algebras satisfy the defining relations of sl  b ‚Ñì.
This is not true before passage to the Grothendieck group. We know of several
proofs of this result. Aside from the one given here, another would be to simply
compute explicitly the action of e‚àói and fi‚àó on a suitable basis of K(RepŒªq ). Such a
basis is given by the Specht modules, first defined by Ariki and Koike.
   In order to do this, one must (i) define these modules, (ii) show they span
the Grothendieck group K(RepŒªq ), and (iii) explicitly compute e‚àói and fi‚àó on these
modules. This requires quite some work (of a combinatorial nature) which can,
however, be found in the literature.
   In the approach below, we derive the defining relations for sl b ‚Ñì from our general
theory (which is built from an explicit study of the representations of Hnaff , n ‚â§
4). As a consequence we rederive and explain these properties of Specht modules,
obtaining a conceptual explanation for their combinatorics: it is just a realization
of the crystal graph.
Proposition 12.1. The operators e‚àói :K(RepŒªq ) ‚Üí K(RepŒªq ), e‚àói :K(Repaff       q ) ‚Üí
K(Repaff
       q ) satisfy the Serre relations; i.e. if i, j ‚àà ¬µq , ij ‚àí1
                                                                  =
                                                                  6 q ¬±1
                                                                         , then  as op-
erators on the Grothendieck group
                            e‚àói e‚àój = e‚àój e‚àói : K(RepŒªq ) ‚Üí K(RepŒªq ).
If ij ‚àí1 = q ¬±1 , and q 6= q ‚àí1 , then
                    e‚àói 2 e‚àój + e‚àój e‚àói 2 = 2e‚àói e‚àój e‚àói : K(RepŒªq ) ‚Üí K(RepŒªq ).
If ij ‚àí1 = q and q = q ‚àí1 = ‚àí1 then
            e‚àói 3 e‚àój + 3e‚àói e‚àój e‚àói 2 = 3e‚àói 2 e‚àój e‚àói + e‚àój e‚àói 3 : K(RepŒªq ) ‚Üí K(RepŒªq ).
Proof. This reduces to checking the result on irreducible modules for H2aff (if ij ‚àí1 6=
q ¬±1 ), H3aff (if ij ‚àí1 = q ¬±1 , and q 6= q ‚àí1 ), and H4aff (in the remaining case). To see
this, observe that as e‚àói commutes with ev‚àó :K(RepŒªq ) ‚Üí K(Repaff                      ‚àó
                                                                            q ), and ev is
                                                 ‚àó                                     aff
injective, it is enough to check that the ei satisfy the Serre relations on K(Repq ).
But, as observed in 8.1, e‚àói is just the component Id ‚äó Œ¥qi J1 of ‚àÜn,1 and ‚àÜ is
coassociative. So it is enough to check the relations involving a word of length k in
the e‚àói ‚Äôs on Hkaff .
36                                             I. Grojnowski


  We must now check the Serre relations for the irreducible Hnaff -modules, n ‚â§ 4.
These modules were listed in section 6; and the relations follow by examining each
module individually.


Remark 6. The argument reducing the proposition to a case by case check sounds
simpler if phrased in terms of K(Repaff ‚àó
                                    q ) ‚Äîalgebras are easier to think with than
                                                                            aff
coalgebras. It becomes even clearer when stated explicitly: Let M ‚àà Rep Hn+2    .
                                                                                H aff
Consider e‚àói e‚àój (M ). This is ‚àí
                               lim         aff i     j         n+2
                                ‚Üí m,m Hom(Hn ‚ä†q Jm ‚ä†q Jm , ResH aff ‚äóH aff ‚äóH aff M ).
                                     ‚Ä≤                  ‚Ä≤
                                                                                  n     1       1
                          n,2
Factor Resn+2                        n+2         n+2
           n,1,1 M = Resn,1,1 Resn,2 M . Resn,2 M has a filtration with graded
pieces simple modules NŒ± ‚ä† ŒìŒ± , with NŒ± a simple Hnaff -module, and ŒìŒ± a simple
H2aff -module. The image on e‚àói e‚àój (M ) in the Grothendieck group depends only on
the value of the exact functor
              aff  i      j        n+2
     ‚àí‚Üí‚Ä≤ Hom(Hn ‚ä† q Jm ‚ä† q Jm , Resn,1,1 ( )) =
     lim                     ‚Ä≤

     m,m
                                                          i     j         2
                               Id ‚äó lim
                                    ‚àí‚Üí‚Ä≤ HomR[Xn+1
                                              ¬±1    ¬±1 (q Jm ‚ä† q Jm‚Ä≤ , Res
                                                  ,Xn+2 ]                 1,1 (                     ))
                                       m,m

on the pieces NŒ± ‚ä† ŒìŒ± , and this functor depends only on ŒìŒ± . As e‚àój e‚àói has a similar
description, acting on the pieces NŒ± ‚ä† ŒìŒ± by some other functor depending only on
ŒìŒ± , it suffices to check equality on H2aff -modules. And again, as these functors on
H2aff are exact, it suffices to check equality on simple modules.

Remark 7. In fact, the Serre relations are a formal consequence of the following
(see section 3.3.3 of [Kac]): (i) The relations [e‚àói , fj‚àó ] = Œ¥ij h‚àói and [h‚àói , e‚àój ] = cij e‚àój ,
proved below, (ii) the Shapovalov form of section 11 is non-degenerate, and (iii)
                S
the union RepŒªq = Repaff          q . (This last condition ensures that the Serre relations
hold not just as operators on the irreducible module K(RepŒªq ), but also on the
module K(Repaff      q ).) This is no simplification, as the proof we have chosen to give
of [h‚àói , e‚àój ] = cij e‚àój essentially consists of verifying a more precise form of the Serre
relations.

Corollary 12.2. The operators fi‚àó :K(RepŒªq ) ‚Üí K(RepŒªq ) satisfy the Serre rela-
tions.

Proof. It is enough to show they satisfy the Serre relations as maps from K(RepŒªq )Q
‚Üí K(RepŒªq )Q . But the Shapovalov form of section 11 is non-degenerate, and fi‚àó is
adjoint to e‚àói with respect to this form. As the e‚àói satisfy the Serre relations, so do
the fi‚àó .

                            (n)‚àó                       (n)‚àó
Proposition 12.3. n!ei             = e‚àói n ,       n!fi        = fi‚àó n :K(RepŒªq ) ‚Üí K(RepŒªq )
                                    (n)‚àó
Proof. As before, to check n!ei   = e‚àói n , it suffices to check on simple Hnaff -modules.
Both left and right hand sides are zero on all simple Hnaff -modules except q i Kn ,
                                   (n)‚àó
where both are n!. This implies n!fi      = fi‚àó n , by an argument similar to the above
one.
                               Representations of Hecke algebras                              37


   We must now determine the relations between e‚àói and fj‚àó . The Mackey formula
for the cyclotomic Hecke algebra implies
                           HŒª        HŒª            X
(7)                    [ResH‚Ä¢+1
                             Œª  , IndH‚Ä¢+1
                                      Œª   ](M ) = (  Œªi )M.
                                ‚Ä¢          ‚Ä¢

As e‚àói is a refined version of restriction, and fi‚àó is a refined variant of induction, the
next theorem should be regarded as a sharpening of (7). The proof will occupy the
rest of this section.
   Define for N an irreducible HnŒª -module
                          h‚àói (N ) = (œïi (N ) ‚àí Œµi (N ))N
                             ‚àó                                                   
                                                                                h‚àó
and more generally define hki (N ) = œïi (N )‚àíŒµk
                                                 i (N )
                                                          ¬∑ N , so that                 Œª
                                                                                k :K(Repq )
                                                                                 i
                                                                                              ‚Üí
     Œª
K(Repq ).

Theorem 12.4. [e‚àói , fj‚àó ] = Œ¥ij h‚àói :K(RepŒªq ) ‚Üí K(RepŒªq ).
   We begin by showing
Proposition 12.5. Suppose M is an irreducible HnŒª -module. Then [e‚àói , fi‚àó ](M ) is
a multiple of M , and [e‚àói , fj‚àó ](M ) = 0 if i 6= j.
Proof. For m ‚â´ 0 we have a surjection
                             Ind(M ‚ä† q j Jm ) ÷â fj‚àó M ‚Üí 0.
Apply pr e‚àói . As e‚àói is exact, and pr is right exact, we still get a surjection
                          pr e‚àói Ind(M ‚ä† q j Jm ) ÷â e‚àói fj‚àó M ‚Üí 0.
But by the Mackey formula, we have an exact sequence
            0 ‚Üí Œ¥ij mM ‚Üí e‚àói Ind(M ‚ä† q j Jm ) ‚Üí Ind(e‚àói M ‚ä† q j Jm ) ‚Üí 0,
and hence, as M is irreducible, an exact sequence
                 0 ‚Üí Œ¥ij m‚Ä≤ M ‚Üí pr e‚àói Ind(M ‚ä† q j Jm ) ‚Üí fj‚àó e‚àói M ‚Üí 0
for some m‚Ä≤ ‚â§ m, if m ‚â´ 0. Hence
(8)                         Œ¥ij m‚Ä≤ M + fj‚àó e‚àói M ‚â• e‚àói fj‚àó M ‚â• 0
where we write A ‚â• B if for each irreducible N , the multiplicity [N : A] of N in A
is not less than the multiplicity [N : B] of N in B. Sum (8) over i, j ‚àà ¬µq , we get
                              HŒª          HŒª              HŒª          HŒª
(9)                aM + IndHnŒª       ResHnŒª      M ‚â• ResHn+1
                                                         Œª   IndHn+1
                                                                 Œª   M
                               n‚àí1         n‚àí1             n           n


for some a ‚â• 0.
   Next we claim that in K(RepŒªq )
              X             HŒª     HŒª                          HŒª          HŒª
(10)         (   Œªi )M + IndHnŒª ResHnŒª               M = ResHn+1
                                                             Œª   IndHn+1
                                                                     Œª   M.
                                    n‚àí1        n‚àí1              n           n


Granting this for the moment, let N be an irreducible               HnŒª -module
                                                                              with N 6= M .
Then comparing the multiplicity of N in (10) and in (8), we see that all inequalities
in (8) must be equalities, and so the multiplicity of N in fj‚àó e‚àói M equals the mul-
tiplicity of N in e‚àói fj‚àó M ; so [e‚àói , fj‚àó ](M ) is a multiple of M . Furthermore, if i 6= j
then the multiplicity of M in fj‚àó e‚àói M and e‚àói fj‚àó M is zero, as the central characters
of M and fj‚àó e‚àói M differ.
38                                            I. Grojnowski


   So to prove the proposition it remains to show (10). This is immediate from the
Mackey formula for HnŒª . A weak form of this may be immediately deduced from
the Mackey formula for Hnaff ; we omit further details.
     For N an irreducible HnŒª -module, write wti (N ) = œïi (N ) ‚àí Œµi (N ), and
                                    X
                           wt(N ) =     wti (N )Œõi : ¬µq ‚Üí Z.
Define a function Œ¥i :Rn ‚Üí N by
                         Œ¥i (s1 , . . . , sn ) = #{a | 1 ‚â§ a ‚â§ n, sa = i},
and set wti (s) = ‚àí2Œ¥i (s) + Œ¥qi (s) + Œ¥q‚àí1 i (s). Recall Œ±i = 2Œõi ‚àí Œõqi ‚àí Œõq‚àí1 i .
   The following theorem which is a summary of the results of section 10, tells us
that both Œµi (N ) and œïi (N ) may be read off the spectrum of N , and that their
difference wti (N ) depends only on the central character of N .
Theorem 12.6. Let N be an irreducible HnŒª -module with central character s. Then
  (i) wt(fei N ) = wt(N ) ‚àí Œ±i , if fei N 6= 0.
 (ii) wti (1Œª ) = Œªi , where 1Œª is the irreducible H0Œª -module.
(iii) wti (N ) = œïi (N ) ‚àí Œµi (N ) = Œªi + wti (s).
Proof. As every irreducible module is obtained from 1Œª by a sequence of raising
operators fek , it is clear that (i) and (ii) are equivalent to           Q (iii). (ii) is immediate
from the definition of fi‚àó and the description H1Œª = R[x]/ (x ‚àí q i )Œªi . So we prove
(i).
    We first observe that as N = eei fei N if fei N 6= 0, we have wti (fei N ) = wti (N ) ‚àí 2.
                                                 / {qi, i, q ‚àí1 i}, for such j wti (fej N ) = wti (N ),
Further, as [e‚àój , fi‚àó ] = 0 = [fj‚àó , fi‚àó ] if j ‚àà
in agreement with (i). Hence for q 6= ‚àí1, the content of the theorem is the assertion
                       wti (feqi N ) = wti (N ) + 1,             if    feqi N 6= 0.
This is immediate from proposition 10.4. Likewise, if q = ‚àí1, proposition 10.5 is
equivalent to the assertion of the theorem.
We are now in a position to finish the proofs of theorem 9.15 and theorem 12.4. For
M an irreducible module, let œï  ei (M ) be the integer defined in theorem 9.15. Then
by theorem 9.15 (iii),
                 X                 X
                       ei (M ) =
                       œï                dim Hom(fi‚àó M, fj‚àó M )
                      i‚àà¬µq              i,j‚àà¬µq
                                          X
                                    =            dim Hom(M, e‚àói fj‚àó M )
                                        i,j‚àà¬µq
                                                               HŒª         HŒª
                                    = dim Hom(M, ResHn+1
                                                     Œª   IndHn+1
                                                             Œª   M)
                                                                 n          n

and by (10), this is                      X             X
                                      ‚â§          Œªi +       Œµi (M ).
But œïei (M ) ‚â• œïi (M ) for all i ‚àà ¬µq , by the last paragraph of theorem 9.15, and by
theorem 12.6 (iii)          X         X
                                 Œªi =     (œïi (M ) ‚àí Œµi (M )) .
It follows that
           X       X                       X                   X
              Œªi =   (œïi (M ) ‚àí Œµi (M )) ‚â§    e ) ‚àí Œµi (M )) ‚â§
                                             (œï(M                Œªi ,
                               Representations of Hecke algebras                          39


                                                                   ei (M ) = œïi (M ),
and hence all the inequalities above are equalities. In particular œï
for all i, completing the proof of theorem 9.15.
   Finally, theorem 9.13 (ii) and theorem 9.15 (ii) now give
          [e‚àói fi‚àó M ‚àí fi‚àó e‚àói M : M ] =(Œµi (M ) + 1)œïi (M ) ‚àí (œïi (M ) + 1)Œµi (M )
                                    =œïi (M ) ‚àí Œµi (M )
completing the proof of theorem 12.4.
                                                 b ‚Ñì , we need only observe that theorem
   To finish verifying the defining relations of sl
12.4 immediately implies
Lemma 12.7. [h‚àói , e‚àój ] = cij e‚àój ,   [h‚àói , fj‚àó ] = ‚àícij fj‚àó :K(RepŒªq ) ‚Üí K(RepŒªq ), where
cij = 2Œ¥ij ‚àí Œ¥i,qj ‚àí Œ¥qi,j is the Cartan matrix of sl  b ‚Ñì.


Remark 8. M. Vazirani has recently improved on theorem 12.4 by determining
the relation between e‚àói fi‚àó M and fi‚àó e‚àói M for M irreducible, before passage to the
Grothendieck group. Her results extend and clarify theorems 9.15(iii) and 9.13(iii).

                          13. Uniqueness of the crystal
     In this section we determine the crystal graph of K(Repaff     q ). This admits many
different combinatorial descriptions, each of which it is possible to interpret Hecke-
theoretically. Rather than do this, we prove one more property of the crystal
Baff of K(Repaff  q ). This property (proposition 13.1), together with what we have
proved earlier, is already sufficiently strong to show combinatorially the uniqueness
of the crystal. In fact other than 13.1, all we need is that the crystals BŒª admit a
description purely in terms of the crystal Baff and the involution on Baff induced
by the antiautomorphism œÉ ‚àó .
     Recall that we write ee‚àßi = œÉ e
                                    ‚àó
                                      ei œÉ ‚àó , and also define e‚àói ‚àß = œÉ ‚àó e‚àói œÉ ‚àó and fei‚àß =
œÉ ‚àó fei œÉ ‚àó .
                                           aff
Proposition 13.1. Let M be an irreducible HM   -module, and write c = Œµ‚àß
                                                                       i (M )
              ‚àß e          ‚àß
 (i) Suppose Œµi (fi M ) = Œµi (M ). Then
                                      c e        e e‚àß c M )
                                  e‚àß
                                 (ei ) (fi M ) = fi (ei

 (ii) If Œµ‚àß  e         ‚àß
                                        e‚àß  e
          i (fi M ) = Œµi (M ) + 1, then e i fi M = M .

Proof. (i) We have M = (fei‚àß )c N = cosoc Ind(q i Kc ‚ä† N ), where N is an irreducible
Hnaff module with Œµ‚àß i (N ) = 0.
   Set Qa = (e‚àói ‚àß )c‚àía fei M , so that in the Grothendieck group Qa is some number
                  c‚àía e
              e‚àß
of copies of (ei )   fi M plus terms with strictly smaller Œµ‚àß i . In particular we have
      ‚àß                                                                            ce
that Œµi (A) ‚â§ a for all A that occur in Qa , and Q0 is just some copies of (e e‚àßi ) fi M .
   We will show by decreasing induction on a that there is a non-zero map
                           Œ≥a : Ind(q i Ka ‚ä† N ‚ä† q i J1 ) ‚Üí Qa .

If a = c, Qa = fei M = cosoc Ind(M ‚ä† q i J1 ) is a quotient of Ind(q i Kc ‚ä† q i J1 ) so our
                                                                      a+n‚àí1
induction starts. Now suppose Œ≥a exists, and a ‚â• 1. Consider Res1,a+n        Ind(q i Ka ‚ä†
      i
N ‚ä†q J1 ). By the Mackey formula, this has a three step filtration 0 ‚äÇ F1 ‚äÇ F2 ‚äÇ F3
40                                             I. Grojnowski


with successive quotients
     F1 = Ind1,a+n        a,n,1       i          i
             1,a‚àí1,n,1 Res1,a‚àí1,n,1 (q Ka ‚ä† N ‚ä† q J1 ),

                 F2 /F1 = Ind1,a+n    w   a,n,1       i          i
                             1,a,n‚àí1,1 Resa,1,n‚àí1,1 (q Ka ‚ä† N ‚ä† q J1 ),

                                                          F3 /F2 = Ind1,a+n   i      i
                                                                      1,a,n (q J1 ‚ä† q Ka ‚ä† N ),
where w is the obvious permutation.
   As Œ≥a 6= 0, Frobenius reciprocity gives a copy of q i Ka ‚ä† N ‚ä† q i J1 in the image
of Œ≥a , and so
               Œ≥ÃÉa := e‚àói ‚àß Œ≥a : e‚àói ‚àß Ind(q i Ka ‚ä† N ‚ä† q i J1 ) ‚Üí e‚àói ‚àß Qa = Qa‚àí1
is non-zero. Suppose that Œ≥ÃÉa is zero when restricted to the q i -eigenspace of X1
on F1 . As there is no q i -eigenspace of X1 on F2 /F1 , we must have a non-zero
homomorphism from F3 /F2 to Qa‚àí1 , i.e. a non-zero homomorphism
                                  Ind(q i Ka ‚ä† N ) ‚Üí Qa‚àí1 .
But Œµ‚àß               i                     ‚àß
       i (cosoc Ind(q Ka ‚ä† N )) = a > Œµi (A), for any constituent A of Qa‚àí1 . So
this is not possible, and it must be that Œ≥ÃÉa restricts to a non-zero homomorphism
on the q i -eigenspace of X1 on F1 . As e‚àói ‚àß (q i Ka ) has a filtration with subquotients
q i Ka‚àí1 , there must be a non-zero map Œ≥a‚àí1 : Ind(q i Ka‚àí1 ‚ä† N ‚ä† q i J1 ) ‚Üí Qa‚àí1 .
    We now take a = 0 and conclude there is a non-zero homomorphism
                                 Œ≥0 : Ind(N ‚ä† q i J1 ) ‚Üí Q0 ,
hence fei (e
           e‚àß  c        e                      i
            i ) M = fi N = cosoc Ind(N ‚ä† q J1 ) is a subquotient of Q0 . But Q0 is a
                    ce                                   e e‚àß )c M = (e   ce
multiple of (e e‚àßi ) fi M , so we have indeed shown that fi (e i      e‚àß
                                                                       i ) fi M .
                               e‚àß c
   (ii) Again write N = (fi ) M . As multiplication is commutative in the bialgebra
K(Repaff             i             i              i      i                 i
        q ), Ind(q Kc ‚ä† N ‚ä† q J1 ) equals Ind(q Kc ‚ä† q J1 ‚ä† N ) = Ind(q Kc+1 ‚ä† N )
in the Grothendieck group. Hence Ind(q i Kc ‚ä† N ‚ä† q i J1 ) is (fei‚àß )c+1 N = fei‚àß M
plus terms A with Œµ‚àß                            i            i                  e
                          i (A) ‚â§ c. As Ind(q Kc ‚ä† N ‚ä† q J1 ) surjects onto fi M , if
 ‚àß e                                   e‚àß      e
Œµi (fi M ) = c + 1 it must be that fi M = fi M .
   This is the last property we will need of the representations of the affine Hecke
algebra. The next proposition is a formal consequence of what we have already
proved.
   For M an irreducible Hnaff -module with central character s, define
                                         wt‚Ä≤i (M ) = wti (s).
             e‚àß
Also define (ei )
                 max
                             e‚àß
                     (M ) = (e   c                 ‚àß
                              i ) (M ), where c = Œµi (M ).
                                                         aff
Proposition 13.2. Let M be an irreducible Hm                 -module, and write c = Œµ‚àß
                                                                                     i (M ),
         ‚àß max
MÃÑ = (eei )    (M ).
  (i) Œµi (M ) = max(Œµi (MÃÑ ), c ‚àí wt‚Ä≤i (MÃÑ )).
 (ii) Suppose Œµi (M ) > 0. Then
                                  (
                      ‚àß             c,         if Œµi (MÃÑ ) ‚â• c ‚àí wt‚Ä≤i (MÃÑ )
                     Œµi (e
                         ei M ) =
                                    c ‚àí 1, if Œµi (MÃÑ ) < c ‚àí wt‚Ä≤i (MÃÑ )
(iii) Suppose Œµi (M ) > 0. Then
                                         (
                                             eei (MÃÑ ),    if Œµi (MÃÑ ) ‚â• c ‚àí wt‚Ä≤i (MÃÑ )
                   e‚àß
                  (ei )
                       max
                           (e
                            ei M )   =
                                             MÃÑ ,          if Œµi (MÃÑ ) < c ‚àí wt‚Ä≤i (MÃÑ )
                               Representations of Hecke algebras                          41

                                        P
Proof. Let Œª : ¬µq ‚Üí N be such that        Œªi < ‚àû, and suppose N ‚àà Rep HaŒª . Then
corollary 9.14 tells us that k = œïi (N ) means
                          ‚àß ek                           ek+1 N ) = Œªi + 1,
               Œµ‚àß
                i (N ) ‚â§ Œµi (fi N ) = Œªi ,       and Œµ‚àß
                                                      i (fi

and that theorem 12.6 shows that œïi (N ) = Œªi + Œµi (N ) + wt‚Ä≤i (N ).
    Take N = eem   i M , where m = Œµi (M ), and define Œª(y) : ¬µq ‚Üí N by setting
Œªi (y) = Œµ‚àßi (N ) + y, and setting Œªj (a) to be any integer much greater than m + y + a,
when j 6= i. It then follows from the previous paragraph applied to Œª(0), Œª(1), . . .
that for all s
                     (
                                                                               ‚Ä≤
        ‚àß es            Œµ‚àß
                         i (N ),                    s ‚â§ Œµ‚àßi (N ) + Œµi (N ) + wti (N )
       Œµi (fi N ) =                     ‚Ä≤                 ‚àß                    ‚Ä≤
                        s ‚àí Œµi (N ) ‚àí wti (N ),     s ‚â• Œµi (N ) + Œµi (N ) + wti (N )
and as Œµi (N ) = 0 it follows that
                         Œµ‚àß  em            ‚àß             ‚Ä≤
                          i (fi N ) = max(Œµi (N ), m ‚àí wti (N )),
                                 Œµ (M)                        Œµ (M)
i.e. that Œµ‚àß                 ‚àß
            i (M ) = max(Œµi (e  ei i   M ), Œµi (M ) ‚àí wt‚Ä≤i (e
                                                            ei i M )). Applying this to
  ‚àó
œÉ M we get (i).
    To see (ii), observe that Œµ‚àß  ei M ) = Œµ‚àß
                               i (e          i (M ) ‚àí 1 precisely when

                             m = Œµi (M ) > wt‚Ä≤i (N ) + Œµ‚àß
                                                        i (N )

and that otherwise Œµ‚àß         ei M ) = Œµ‚àß
                           i (e
                                                        ‚Ä≤         ‚Ä≤
                                        i (M ). But wti (N ) = wti (M ) + 2m, and so (ii)
                                ‚Ä≤
follows if we show that wti (M )+Œµi (N )+m < 0 if and only if wt‚Ä≤i (M )+Œµi (MÃÑ )+c < 0.
                                        ‚àß

But wt‚Ä≤i (M ) + Œµ‚àß                         ‚Ä≤        ‚àß                ‚àß
                    i (N ) + m = max(wti (M ) + Œµi (N ) + Œµi (MÃÑ ), Œµi (N ) ‚àí c), by (i), and
Œµi (N ) ‚àí c ‚â§ 0 always. Similarly wti (M ) + Œµi (MÃÑ ) + c = max(wt‚Ä≤i (M ) + Œµ‚àß
 ‚àß                                          ‚Ä≤
                                                                                     i (N ) +
Œµi (MÃÑ ), Œµi (MÃÑ ) ‚àí m), and Œµi (MÃÑ ) ‚àí m ‚â§ 0 always. Finally, proposition 13.1i shows
that Œµi (MÃÑ ) = m if and only if Œµ‚àß   i (N ) = c; hence (ii).
    Now (iii) is immediate from (ii) and proposition 13.1.
13.1. Combinatorial consequences. We now show that we have enough prop-
erties to completely describe the tensor category of ‚Äúintegrable lowest weight crys-
tals‚Äù, and hence to describe the crystals themselves. We follow [Ka], especially 8.2.
(This is a kind of purely combinatorial Tannakian property.)
   So we recall some ideas of Kashiwara [Ka]. Recall that if B1 and B2 are two
crystals, their tensor product B1 ‚äó B2 is the crystal whose underlying set is B1 √ó B2
and with                             (
                                       eei b1 ‚äó b2  if œïi (b1 ) ‚â• Œµi (b2 )
                    e
                    ei (b1 ‚äó b2 ) =
                                       b1 ‚äó e ei b2 if œïi (b1 ) < Œµi (b2 )
                                     (
                                       fei b1 ‚äó b2  if œïi (b1 ) > Œµi (b2 )
                    fei (b1 ‚äó b2 ) =          e
                                       b1 ‚äó fi b2   if œïi (b1 ) ‚â§ Œµi (b2 )
   Define the crystal Bi , for i ‚àà ¬µq , to have underlying set {bi (n) | n ‚àà Z} and set
                               (                              (
                                 ‚àín, j = i                      n,     j=i
                Œµj (bi (n)) =                  œïj (bi (n)) =
                                 ‚àí‚àû j 6= i,                     ‚àí‚àû j 6= i,
                         (                                    (
                           bi (n + 1), j = i    e               bi (n ‚àí 1), j = i
        eej (bi (n)) =                          fj (bi (n)) =
                           0           j 6= i,                  0           j 6= i
and write bi = bi (0).
42                                       I. Grojnowski


   Recall that a strict embedding of crystals is an injective map œà : B1 ÷í‚Üí B2 such
that œà commutes with e   ei and fei for all i ‚àà ¬µq . Define B‚àû to be the same crystal
as Baff , except that we set œïi (M ) := Œµi (M ) + wti (s) if M has central character s.
   We can now rephrase proposition 13.2 as
Proposition 13.3. For each i ‚àà ¬µq , define a map Œ®i : B‚àû ‚Üí B‚àû ‚äó Bi by sending
M to (e‚àói ‚àß )c (M )‚äó feic bi , where c = Œµ‚àß
                                          i (M ). Then Œ®i is a strict embedding of crystals.

    It is a result of Kashiwara that this determines the crystal B‚àû (see [Ka] and
proposition 3.2.3 of [KS]). For the convenience of the reader we reproduce the
argument. Choose a sequence (i1 , i2 , . . . ) in ¬µq so that each i ‚àà ¬µq appears infinitely
often. Define a map Œ¶n : B‚àû ‚Üí B‚àû ‚äó Bin ‚äó ¬∑ ¬∑ ¬∑ ‚äó Bi1 by Œ¶n = Œ®in ‚ó¶ ¬∑ ¬∑ ¬∑ ‚ó¶ Œ®i1 .
Then for any b ‚àà B‚àû there exists an n such that Œ¶n (b) = b0 ‚äó feiann bin ‚äó ¬∑ ¬∑ ¬∑ ‚äó feia11 bi1 .
The sequence (a1 , a2 , ¬∑ ¬∑ ¬∑ , an , 0, 0, ¬∑ ¬∑ ¬∑ ) does not depend on n. This embeds B‚àû as
the smallest subcrystal of BKas containing (0, 0, ¬∑ ¬∑ ¬∑ ), where we define BKas to be
the crystal whose underlying set is the set of sequences {(ai ) ‚àà Z | ai = 0 for i ‚â´
0}, and whose crystal structure is defined by sending (a1 , . . . , an , 0, . . . ) to ¬∑ ¬∑ ¬∑ ‚äó
bi2 (‚àíai2 ) ‚äó bi1 (‚àíai1 ). Hence B‚àû is completely determined by the Dynkin diagram
¬µq , as BKas is.

                               14. Reaping the harvest
    In this section we summarise the theorems of the previous sections and identify
the Hopf algebra K(Repaff                              Œª
                          q ) and its comodules K(Repq ). As a consequence of this
rigid structure, we obtain a parameterization of irreducible modules for Hnaff and
HnŒª over any field R that depends only on n, Œª and ‚Ñì = |¬µq | (and not on R, or
even the characteristic of R). We observe that the crystal graph of BŒª we have
defined coincides with the crystal graph defined by Kashiwara and Lusztig. We
emphasise that there is no further Hecke theoretic content in the parameterisation
of representations‚Äîany of the many combinatorial descriptions of the crystal basis
gives a combinatorial parameterisation of BŒª . Thus we can label modules by tu-
ples of partitions, or Littelmann paths, or paths in a perfect crystal, for example.
The identification of this with Deligne-Langlands parameters [KL, G] is a pleasant
exercise.
                                                                          (n)‚àó  (n)‚àó
    For convenience we dualize K(RepŒªq ), and denote the adjoints to ei , fi ,
   ‚àó      (n)   (n)    
 hi                  hi                                              Œª
  n by ei , fi , n . Also write 1Œª for the generator of K(Rep H0 ) = Z dual to
the trivial representation of H0Œª .
                                                                                        (n)
Theorem 14.1. The map UZ Œ∑‚Ñì ‚Üí K(Repaff ‚àó
                                   q ) which sends the generators ei                          to
                (n)
the elements   ei 1aff   = Œ¥qi Kn is an isomorphism of bialgebras.
                                   (n)   (n)   
Theorem 14.2. The operators ei , fi , hni define a structure of a UZ sl  b ‚Ñì -module
           Œª ‚àó                      Œª ‚àó
on K(Repq ) . The module K(Repq ) is a Z-form of the irreducible integrable lowest
weight module for sl b ‚Ñì with lowest weight Œª (and lowest weight vector 1Œª ). Under
this identification, the Shapovalov form on the module becomes the form of section
11.

Remark 9. The bialgebra structure on K(Repfin        ‚àó
                                                  q ) is that given by the principal
realisation of the basic representation, i.e. the identification of this with the Hopf
algebra Z[xi | ‚Ñì . i].
                              Representations of Hecke algebras                          43


                                       b ‚Ñì -module K(RepŒª )‚àó is the graph (BŒª , ei , fi )
Theorem 14.3. The crystal graph of the sl               q
defined in section 9.
   We prove theorems 14.1 and 14.2 simultaneously.
                                                                     (n)   (n)    
   Step 1: As K(RepŒªq )‚àó is a torsion-free Z-module, and ei , fi , hni are well
defined operators which are determined by the actions of ei , fi and hi , it is enough
to check that the defining relations on ei , fi , hi are satisfied. This was done in the
last section, and so we have a well defined action of UZ sl   b ‚Ñì on K(RepŒª )‚àó . Similarly,
                                                                              q
we have a well defined bialgebra morphism UZ Œ∑‚Ñì ‚Üí K(Repaff         q  )‚àó
                                                                         .
   Step 2: The map UZ Œ∑‚Ñì ‚Üí K(Repaff      ‚àó
                                      q ) is surjective. This follows from lemma 11.4,
which is precisely the statement that the map UZ Œ∑‚Ñì ‚Üí K(RepŒªq )‚àó is surjective, and
the fact that every irreducible Hnaff -module is a HnŒª module for some Œª.
   Step 3: We show K(RepŒªq )‚àóQ is the irreducible sl     b ‚Ñì -module with lowest weight
                 Œª ‚àó
Œª. But K(Repq )Q is a UQ sl  b ‚Ñì -module on which ei and fi act locally nilpotently
(theorems 9.13 and 9.15), and on which hi acts semisimply. By step 2 it is generated
by 1Œª as a UZ Œ∑‚Ñì -module. Hence it is an irreducible integrable lowest weight module.
By theorem 12.6 (ii) this weight is Œª.
   Step 4: Finally we show the map UZ Œ∑‚Ñì ‚Üí K(Repaff          ‚àó
                                                        q ) is injective. Let x be in its
kernel. As the action of UZ Œ∑‚Ñì on K(Repq ) factors through K(Repaff
                                           Œª ‚àó                                  ‚àó
                                                                             q ) , x acts as
zero on every K(RepŒªq )‚àó hence on every integrable lowest weight module. It follows
that x = 0.
   This concludes the proof of theorems 14.1 and 14.2. Theorem 14.3 follows from
the description of the crystal Baff in section 13, and the fact that the crystal of U Œ∑
has the same description [Ka].

14.1. The p-canonical basis. The above theorems prompt the following defini-
tion. Fix a prime p ‚â• 0, and a positive integer ‚Ñì.

Definition 1. The p-canonical basis of sl b ‚Ñì is the basis of the module UZ Œ∑‚Ñì given by
the dual of the irreducible Hn -modules, where Hnaff is the affine Hecke algebra over
                              aff

R = Fp , an algebraically closed field of characteristic p, and q ‚àà R is a primitive
‚Ñìth root of unity. (If p = 0, take R = C.)
  (If (p, ‚Ñì) 6= 1, we can still define such a basis. The case p = ‚Ñì is explained in the
next section.) This basis has the following pleasant properties, among others.
  (i) The basis of UZ Œ∑‚Ñì descends to give a basis for all integrable lowest weight
      modules.
 (ii) The structure constants of ei and fi on this basis are non-negative integers.
(iii) The 0-canonical basis is a non-negative integral combination of the p-canonical
      basis, for each prime p.
(iv) The 0-canonical basis is the canonical basis (= global crystal basis) of Lusztig
      and Kashiwara.
   Note that we have given (elementary!) proofs of (i)‚Äì(iii) in this paper; property
(iv) is immediate from the Kazhdan-Lusztig description of the affine Hecke alge-
bra in geometric terms and Lusztig‚Äôs definition of the canonical basis in terms of
perverse sheaves on quivers; this is explained (tersely) in [G].
44                                        I. Grojnowski


                            15. Modifications when q = 1.
   If q = 1 all of the above theorems and constructions go through, without change,
once we make the appropriate definitions.
   Define ¬µq to be the image of Z ‚Üí R, 1 7‚Üí 1, so ‚Ñì is the characteristic of R,
‚Ñì ‚àà N ‚à™ {‚àû}. Instead of the affine Hecke algebra, we work with the degenerate or
                                 gr
graded affine Hecke algebra H n , defined by Drinfeld [D] and Lusztig [L]. This is
isomorphic as an R-module to
                                    R[Sn ] ‚äó R[X1 , . . . Xn ]
with algebra structure defined by requiring that R[Sn ] and R[Xi ] are subalgebras,
and that
                                                    f ‚àí sif
                             si ¬∑ f ‚àí sif ¬∑ si =             .
                                                  Xi ‚àí Xi+1
                                            P
Given a function Œª : ¬µq ‚Üí Z+ such that Œªi < ‚àû, define the degenerate cyclotomic
           Œª      gr                     gr Q                       gr              Œõ0
algebra H n = H n /IŒª , where IŒª = H n ¬∑ i‚àà¬µq (X1 ‚àí i)Œªi ¬∑ H n . If Œª = Œõ0 , H n =
                                                Œª                       P
R[Sn ]; in general one shows that dimR H n = rn n!, where r =             Œªi . We define
        gr                               gr
Repq H n to be the subcategory of H n -modules on which X1 acts with eigenvalues
in ¬µq . All other definitions and theorems are as before, once we agree to write the
group law in ImZ = ¬µq multiplicatively, so qi denotes what is usually written i + 1.
No changes are necessary in the proofs.
   In particular, take R = Fp , to see that sl  b p controls the representation theory of
the symmetric group in characteristic p.

                                         References
[A]     Ariki, Susumu. On the decomposition numbers of the Hecke algebra of G(m, 1, n). J. Math.
        Kyoto Univ. 36 (1996), no. 4, 789‚Äì808.
[AK]    Ariki, Susumu; Koike, Kazuhiko. A Hecke algebra of (Z/rZ) ‚âÄ Sn and construction of its
        irreducible representations. Adv. Math. 106 (1994), no. 2, 216‚Äì243.
[BZ]    Bernstein, I. N.; Zelevinsky, A. V. Induced representations of reductive p-adic groups. I.
        Ann. Sci. EÃÅcole Norm. Sup. (4) 10 (1977), no. 4, 441‚Äì472.
[C]     Cherednik, I. V. A new interpretation of Gel‚Äôfand Tzetlin bases. Duke Math. J. 54 (1987),
        no. 2, 563‚Äì577.
[DJ]    Dipper, Richard; James, Gordon. Representations of Hecke algebras of general linear
        groups. Proc. London Math. Soc. (3) 52 (1986), no. 1, 20‚Äì52.
[D]     Drinfeld, V. G. Degenerate affine Hecke algebras and Yangians. Functional. Anal. Appli-
        cations 20 (1986), no. 1, 62‚Äì64.
[G]     Grojnowski, I. Representations of affine Hecke algebras (and affine quantum GLn ) at roots
        of unity. Internat. Math. Res. Notices 1994, no. 5, 215.
[GV]    Grojnowski, I; Vazirani, M. Strong multiplicity one theorems for affine Hecke algebras of
        type A. preprint (1999).
[H]     Howe, Roger. Hecke algebras and p-adic GLn . Representation theory and analysis on
        homogeneous spaces (New Brunswick, NJ, 1993), 65‚Äì100, Contemp. Math., 177, Amer.
        Math. Soc., Providence, RI, 1994.
[Kac]   Kac, Victor G. Infinite-dimensional Lie algebras. Third edition. Cambridge University
        Press, Cambridge, 1990.
[Ka]    Kashiwara, Masaki. On crystal bases. Representations of groups (Banff, AB, 1994), 155‚Äì
        197, CMS Conf. Proc., 16, Amer. Math. Soc., Providence, RI, 1995.
[KS]    Kashiwara, Masaki; Saito, Yoshihisa. Geometric construction of crystal bases. Duke Math.
        J. 89 (1997), no. 1, 9‚Äì36.
[Kt]    Kato, Shin-ichi. Irreducibility of principal series representations for Hecke algebras of
        affine type. J. Fac. Sci. Univ. Tokyo Sect. IA Math. 28 (1981), no. 3, 929‚Äì943.
                                  Representations of Hecke algebras                             45


[KL]     Kazhdan, David; Lusztig, George. Proof of the Deligne-Langlands conjecture for Hecke
         algebras. Invent. Math. 87 (1987), no. 1, 153‚Äì215.
[Kv]     Kleshchev, Alexander S. Branching rules for modular representations of symmetric groups.
         II. J. Reine Angew. Math. 459 (1995), 163‚Äì212.
[L]      Lusztig, George. Affine Hecke algebras and their graded version. J. Amer. Math. Soc. 2
         (1989), no. 3, 599‚Äì635.
[Mc]     MacDonald, I.G. Symmetric Functions and Hall Polynomials. 2nd ed., Clarendon Press,
         Oxford, 1995.
[M]      Mathas, Andrew. Simple modules of Ariki-Koike algebras. Group representations: coho-
         mology, group actions and topology, 383‚Äì396, Proc. Sympos. Pure Math.,63, Amer. Math.
         Soc., Providence, RI, 1998.
[R]      Rogawski, J. D. Representations of GL(n) over a p-adic field with an Iwahori-fixed vector.
         Israel J. Math. 54 (1986), no. 2, 242‚Äì256.
[V]      VigneÃÅras, Marie-France; A‚Äôpropos d‚Äôune conjecture de Langlands modulaire. Finite re-
         ductive groups (Luminy, 1994), 415‚Äì452, Progr. Math., 141, BirkhauÃàser Boston, Boston,
         MA, 1997.

      DPMMS, 16 Mill Lane, Cambridge, CB2 1SB
      E-mail address: groj@dpmms.cam.ac.uk
